function Si(e,t){return function(){return e.apply(t,arguments)}}const{toString:dl}=Object.prototype,{getPrototypeOf:zn}=Object,{iterator:jt,toStringTag:Fi}=Symbol,Ht=(e=>t=>{const n=dl.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),se=e=>(e=e.toLowerCase(),t=>Ht(t)===e),$t=e=>t=>typeof t===e,{isArray:He}=Array,Be=$t("undefined");function at(e){return e!==null&&!Be(e)&&e.constructor!==null&&!Be(e.constructor)&&Z(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const xi=se("ArrayBuffer");function hl(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&xi(e.buffer),t}const fl=$t("string"),Z=$t("function"),Ci=$t("number"),lt=e=>e!==null&&typeof e=="object",pl=e=>e===!0||e===!1,At=e=>{if(Ht(e)!=="object")return!1;const t=zn(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Fi in e)&&!(jt in e)},ml=e=>{if(!lt(e)||at(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},gl=se("Date"),bl=se("File"),yl=se("Blob"),wl=se("FileList"),_l=e=>lt(e)&&Z(e.pipe),vl=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Z(e.append)&&((t=Ht(e))==="formdata"||t==="object"&&Z(e.toString)&&e.toString()==="[object FormData]"))},Sl=se("URLSearchParams"),[Fl,xl,Cl,El]=["ReadableStream","Request","Response","Headers"].map(se),kl=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ct(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),He(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(at(e))return;const o=n?Object.getOwnPropertyNames(e):Object.keys(e),a=o.length;let u;for(r=0;r<a;r++)u=o[r],t.call(null,e[u],u,e)}}function Ei(e,t){if(at(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const Ee=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ki=e=>!Be(e)&&e!==Ee;function Sn(){const{caseless:e,skipUndefined:t}=ki(this)&&this||{},n={},r=(s,o)=>{const a=e&&Ei(n,o)||o;At(n[a])&&At(s)?n[a]=Sn(n[a],s):At(s)?n[a]=Sn({},s):He(s)?n[a]=s.slice():(!t||!Be(s))&&(n[a]=s)};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&ct(arguments[s],r);return n}const Tl=(e,t,n,{allOwnKeys:r}={})=>(ct(t,(s,o)=>{n&&Z(s)?e[o]=Si(s,n):e[o]=s},{allOwnKeys:r}),e),Al=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Rl=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Pl=(e,t,n,r)=>{let s,o,a;const u={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),o=s.length;o-- >0;)a=s[o],(!r||r(a,e,t))&&!u[a]&&(t[a]=e[a],u[a]=!0);e=n!==!1&&zn(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Ol=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},Il=e=>{if(!e)return null;if(He(e))return e;let t=e.length;if(!Ci(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Dl=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&zn(Uint8Array)),Ml=(e,t)=>{const r=(e&&e[jt]).call(e);let s;for(;(s=r.next())&&!s.done;){const o=s.value;t.call(e,o[0],o[1])}},Ll=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},Nl=se("HTMLFormElement"),Bl=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),zr=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Ul=se("RegExp"),Ti=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};ct(n,(s,o)=>{let a;(a=t(s,o,e))!==!1&&(r[o]=a||s)}),Object.defineProperties(e,r)},jl=e=>{Ti(e,(t,n)=>{if(Z(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Z(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Hl=(e,t)=>{const n={},r=s=>{s.forEach(o=>{n[o]=!0})};return He(e)?r(e):r(String(e).split(t)),n},$l=()=>{},ql=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function zl(e){return!!(e&&Z(e.append)&&e[Fi]==="FormData"&&e[jt])}const Wl=e=>{const t=new Array(10),n=(r,s)=>{if(lt(r)){if(t.indexOf(r)>=0)return;if(at(r))return r;if(!("toJSON"in r)){t[s]=r;const o=He(r)?[]:{};return ct(r,(a,u)=>{const h=n(a,s+1);!Be(h)&&(o[u]=h)}),t[s]=void 0,o}}return r};return n(e,0)},Vl=se("AsyncFunction"),Jl=e=>e&&(lt(e)||Z(e))&&Z(e.then)&&Z(e.catch),Ai=((e,t)=>e?setImmediate:t?((n,r)=>(Ee.addEventListener("message",({source:s,data:o})=>{s===Ee&&o===n&&r.length&&r.shift()()},!1),s=>{r.push(s),Ee.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Z(Ee.postMessage)),Kl=typeof queueMicrotask<"u"?queueMicrotask.bind(Ee):typeof process<"u"&&process.nextTick||Ai,Xl=e=>e!=null&&Z(e[jt]),y={isArray:He,isArrayBuffer:xi,isBuffer:at,isFormData:vl,isArrayBufferView:hl,isString:fl,isNumber:Ci,isBoolean:pl,isObject:lt,isPlainObject:At,isEmptyObject:ml,isReadableStream:Fl,isRequest:xl,isResponse:Cl,isHeaders:El,isUndefined:Be,isDate:gl,isFile:bl,isBlob:yl,isRegExp:Ul,isFunction:Z,isStream:_l,isURLSearchParams:Sl,isTypedArray:Dl,isFileList:wl,forEach:ct,merge:Sn,extend:Tl,trim:kl,stripBOM:Al,inherits:Rl,toFlatObject:Pl,kindOf:Ht,kindOfTest:se,endsWith:Ol,toArray:Il,forEachEntry:Ml,matchAll:Ll,isHTMLForm:Nl,hasOwnProperty:zr,hasOwnProp:zr,reduceDescriptors:Ti,freezeMethods:jl,toObjectSet:Hl,toCamelCase:Bl,noop:$l,toFiniteNumber:ql,findKey:Ei,global:Ee,isContextDefined:ki,isSpecCompliantForm:zl,toJSONObject:Wl,isAsyncFn:Vl,isThenable:Jl,setImmediate:Ai,asap:Kl,isIterable:Xl};function O(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}y.inherits(O,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:y.toJSONObject(this.config),code:this.code,status:this.status}}});const Ri=O.prototype,Pi={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Pi[e]={value:e}});Object.defineProperties(O,Pi);Object.defineProperty(Ri,"isAxiosError",{value:!0});O.from=(e,t,n,r,s,o)=>{const a=Object.create(Ri);y.toFlatObject(e,a,function(p){return p!==Error.prototype},m=>m!=="isAxiosError");const u=e&&e.message?e.message:"Error",h=t==null&&e?e.code:t;return O.call(a,u,h,n,r,s),e&&a.cause==null&&Object.defineProperty(a,"cause",{value:e,configurable:!0}),a.name=e&&e.name||"Error",o&&Object.assign(a,o),a};const Gl=null;function Fn(e){return y.isPlainObject(e)||y.isArray(e)}function Oi(e){return y.endsWith(e,"[]")?e.slice(0,-2):e}function Wr(e,t,n){return e?e.concat(t).map(function(s,o){return s=Oi(s),!n&&o?"["+s+"]":s}).join(n?".":""):t}function Ql(e){return y.isArray(e)&&!e.some(Fn)}const Yl=y.toFlatObject(y,{},null,function(t){return/^is[A-Z]/.test(t)});function qt(e,t,n){if(!y.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=y.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(F,g){return!y.isUndefined(g[F])});const r=n.metaTokens,s=n.visitor||p,o=n.dots,a=n.indexes,h=(n.Blob||typeof Blob<"u"&&Blob)&&y.isSpecCompliantForm(t);if(!y.isFunction(s))throw new TypeError("visitor must be a function");function m(w){if(w===null)return"";if(y.isDate(w))return w.toISOString();if(y.isBoolean(w))return w.toString();if(!h&&y.isBlob(w))throw new O("Blob is not supported. Use a Buffer instead.");return y.isArrayBuffer(w)||y.isTypedArray(w)?h&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function p(w,F,g){let v=w;if(w&&!g&&typeof w=="object"){if(y.endsWith(F,"{}"))F=r?F:F.slice(0,-2),w=JSON.stringify(w);else if(y.isArray(w)&&Ql(w)||(y.isFileList(w)||y.endsWith(F,"[]"))&&(v=y.toArray(w)))return F=Oi(F),v.forEach(function(k,A){!(y.isUndefined(k)||k===null)&&t.append(a===!0?Wr([F],A,o):a===null?F:F+"[]",m(k))}),!1}return Fn(w)?!0:(t.append(Wr(g,F,o),m(w)),!1)}const b=[],S=Object.assign(Yl,{defaultVisitor:p,convertValue:m,isVisitable:Fn});function C(w,F){if(!y.isUndefined(w)){if(b.indexOf(w)!==-1)throw Error("Circular reference detected in "+F.join("."));b.push(w),y.forEach(w,function(v,E){(!(y.isUndefined(v)||v===null)&&s.call(t,v,y.isString(E)?E.trim():E,F,S))===!0&&C(v,F?F.concat(E):[E])}),b.pop()}}if(!y.isObject(e))throw new TypeError("data must be an object");return C(e),t}function Vr(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Wn(e,t){this._pairs=[],e&&qt(e,this,t)}const Ii=Wn.prototype;Ii.append=function(t,n){this._pairs.push([t,n])};Ii.toString=function(t){const n=t?function(r){return t.call(this,r,Vr)}:Vr;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function Zl(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Di(e,t,n){if(!t)return e;const r=n&&n.encode||Zl;y.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let o;if(s?o=s(t,n):o=y.isURLSearchParams(t)?t.toString():new Wn(t,n).toString(r),o){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class Jr{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){y.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Mi={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ec=typeof URLSearchParams<"u"?URLSearchParams:Wn,tc=typeof FormData<"u"?FormData:null,nc=typeof Blob<"u"?Blob:null,rc={isBrowser:!0,classes:{URLSearchParams:ec,FormData:tc,Blob:nc},protocols:["http","https","file","blob","url","data"]},Vn=typeof window<"u"&&typeof document<"u",xn=typeof navigator=="object"&&navigator||void 0,ic=Vn&&(!xn||["ReactNative","NativeScript","NS"].indexOf(xn.product)<0),sc=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",oc=Vn&&window.location.href||"http://localhost",ac=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Vn,hasStandardBrowserEnv:ic,hasStandardBrowserWebWorkerEnv:sc,navigator:xn,origin:oc},Symbol.toStringTag,{value:"Module"})),X={...ac,...rc};function lc(e,t){return qt(e,new X.classes.URLSearchParams,{visitor:function(n,r,s,o){return X.isNode&&y.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function cc(e){return y.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function uc(e){const t={},n=Object.keys(e);let r;const s=n.length;let o;for(r=0;r<s;r++)o=n[r],t[o]=e[o];return t}function Li(e){function t(n,r,s,o){let a=n[o++];if(a==="__proto__")return!0;const u=Number.isFinite(+a),h=o>=n.length;return a=!a&&y.isArray(s)?s.length:a,h?(y.hasOwnProp(s,a)?s[a]=[s[a],r]:s[a]=r,!u):((!s[a]||!y.isObject(s[a]))&&(s[a]=[]),t(n,r,s[a],o)&&y.isArray(s[a])&&(s[a]=uc(s[a])),!u)}if(y.isFormData(e)&&y.isFunction(e.entries)){const n={};return y.forEachEntry(e,(r,s)=>{t(cc(r),s,n,0)}),n}return null}function dc(e,t,n){if(y.isString(e))try{return(t||JSON.parse)(e),y.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const ut={transitional:Mi,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,o=y.isObject(t);if(o&&y.isHTMLForm(t)&&(t=new FormData(t)),y.isFormData(t))return s?JSON.stringify(Li(t)):t;if(y.isArrayBuffer(t)||y.isBuffer(t)||y.isStream(t)||y.isFile(t)||y.isBlob(t)||y.isReadableStream(t))return t;if(y.isArrayBufferView(t))return t.buffer;if(y.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let u;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return lc(t,this.formSerializer).toString();if((u=y.isFileList(t))||r.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return qt(u?{"files[]":t}:t,h&&new h,this.formSerializer)}}return o||s?(n.setContentType("application/json",!1),dc(t)):t}],transformResponse:[function(t){const n=this.transitional||ut.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(y.isResponse(t)||y.isReadableStream(t))return t;if(t&&y.isString(t)&&(r&&!this.responseType||s)){const a=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(u){if(a)throw u.name==="SyntaxError"?O.from(u,O.ERR_BAD_RESPONSE,this,null,this.response):u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:X.classes.FormData,Blob:X.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};y.forEach(["delete","get","head","post","put","patch"],e=>{ut.headers[e]={}});const hc=y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),fc=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(a){s=a.indexOf(":"),n=a.substring(0,s).trim().toLowerCase(),r=a.substring(s+1).trim(),!(!n||t[n]&&hc[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Kr=Symbol("internals");function Ze(e){return e&&String(e).trim().toLowerCase()}function Rt(e){return e===!1||e==null?e:y.isArray(e)?e.map(Rt):String(e)}function pc(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const mc=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function fn(e,t,n,r,s){if(y.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!y.isString(t)){if(y.isString(r))return t.indexOf(r)!==-1;if(y.isRegExp(r))return r.test(t)}}function gc(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function bc(e,t){const n=y.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,o,a){return this[r].call(this,t,s,o,a)},configurable:!0})})}let ee=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function o(u,h,m){const p=Ze(h);if(!p)throw new Error("header name must be a non-empty string");const b=y.findKey(s,p);(!b||s[b]===void 0||m===!0||m===void 0&&s[b]!==!1)&&(s[b||h]=Rt(u))}const a=(u,h)=>y.forEach(u,(m,p)=>o(m,p,h));if(y.isPlainObject(t)||t instanceof this.constructor)a(t,n);else if(y.isString(t)&&(t=t.trim())&&!mc(t))a(fc(t),n);else if(y.isObject(t)&&y.isIterable(t)){let u={},h,m;for(const p of t){if(!y.isArray(p))throw TypeError("Object iterator must return a key-value pair");u[m=p[0]]=(h=u[m])?y.isArray(h)?[...h,p[1]]:[h,p[1]]:p[1]}a(u,n)}else t!=null&&o(n,t,r);return this}get(t,n){if(t=Ze(t),t){const r=y.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return pc(s);if(y.isFunction(n))return n.call(this,s,r);if(y.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Ze(t),t){const r=y.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||fn(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function o(a){if(a=Ze(a),a){const u=y.findKey(r,a);u&&(!n||fn(r,r[u],u,n))&&(delete r[u],s=!0)}}return y.isArray(t)?t.forEach(o):o(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const o=n[r];(!t||fn(this,this[o],o,t,!0))&&(delete this[o],s=!0)}return s}normalize(t){const n=this,r={};return y.forEach(this,(s,o)=>{const a=y.findKey(r,o);if(a){n[a]=Rt(s),delete n[o];return}const u=t?gc(o):String(o).trim();u!==o&&delete n[o],n[u]=Rt(s),r[u]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return y.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&y.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[Kr]=this[Kr]={accessors:{}}).accessors,s=this.prototype;function o(a){const u=Ze(a);r[u]||(bc(s,a),r[u]=!0)}return y.isArray(t)?t.forEach(o):o(t),this}};ee.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);y.reduceDescriptors(ee.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});y.freezeMethods(ee);function pn(e,t){const n=this||ut,r=t||n,s=ee.from(r.headers);let o=r.data;return y.forEach(e,function(u){o=u.call(n,o,s.normalize(),t?t.status:void 0)}),s.normalize(),o}function Ni(e){return!!(e&&e.__CANCEL__)}function $e(e,t,n){O.call(this,e??"canceled",O.ERR_CANCELED,t,n),this.name="CanceledError"}y.inherits($e,O,{__CANCEL__:!0});function Bi(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new O("Request failed with status code "+n.status,[O.ERR_BAD_REQUEST,O.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function yc(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function wc(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,o=0,a;return t=t!==void 0?t:1e3,function(h){const m=Date.now(),p=r[o];a||(a=m),n[s]=h,r[s]=m;let b=o,S=0;for(;b!==s;)S+=n[b++],b=b%e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),m-a<t)return;const C=p&&m-p;return C?Math.round(S*1e3/C):void 0}}function _c(e,t){let n=0,r=1e3/t,s,o;const a=(m,p=Date.now())=>{n=p,s=null,o&&(clearTimeout(o),o=null),e(...m)};return[(...m)=>{const p=Date.now(),b=p-n;b>=r?a(m,p):(s=m,o||(o=setTimeout(()=>{o=null,a(s)},r-b)))},()=>s&&a(s)]}const Dt=(e,t,n=3)=>{let r=0;const s=wc(50,250);return _c(o=>{const a=o.loaded,u=o.lengthComputable?o.total:void 0,h=a-r,m=s(h),p=a<=u;r=a;const b={loaded:a,total:u,progress:u?a/u:void 0,bytes:h,rate:m||void 0,estimated:m&&u&&p?(u-a)/m:void 0,event:o,lengthComputable:u!=null,[t?"download":"upload"]:!0};e(b)},n)},Xr=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Gr=e=>(...t)=>y.asap(()=>e(...t)),vc=X.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,X.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(X.origin),X.navigator&&/(msie|trident)/i.test(X.navigator.userAgent)):()=>!0,Sc=X.hasStandardBrowserEnv?{write(e,t,n,r,s,o){const a=[e+"="+encodeURIComponent(t)];y.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),y.isString(r)&&a.push("path="+r),y.isString(s)&&a.push("domain="+s),o===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Fc(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function xc(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Ui(e,t,n){let r=!Fc(t);return e&&(r||n==!1)?xc(e,t):t}const Qr=e=>e instanceof ee?{...e}:e;function Ie(e,t){t=t||{};const n={};function r(m,p,b,S){return y.isPlainObject(m)&&y.isPlainObject(p)?y.merge.call({caseless:S},m,p):y.isPlainObject(p)?y.merge({},p):y.isArray(p)?p.slice():p}function s(m,p,b,S){if(y.isUndefined(p)){if(!y.isUndefined(m))return r(void 0,m,b,S)}else return r(m,p,b,S)}function o(m,p){if(!y.isUndefined(p))return r(void 0,p)}function a(m,p){if(y.isUndefined(p)){if(!y.isUndefined(m))return r(void 0,m)}else return r(void 0,p)}function u(m,p,b){if(b in t)return r(m,p);if(b in e)return r(void 0,m)}const h={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:u,headers:(m,p,b)=>s(Qr(m),Qr(p),b,!0)};return y.forEach(Object.keys({...e,...t}),function(p){const b=h[p]||s,S=b(e[p],t[p],p);y.isUndefined(S)&&b!==u||(n[p]=S)}),n}const ji=e=>{const t=Ie({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:o,headers:a,auth:u}=t;if(t.headers=a=ee.from(a),t.url=Di(Ui(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),u&&a.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),y.isFormData(n)){if(X.hasStandardBrowserEnv||X.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(y.isFunction(n.getHeaders)){const h=n.getHeaders(),m=["content-type","content-length"];Object.entries(h).forEach(([p,b])=>{m.includes(p.toLowerCase())&&a.set(p,b)})}}if(X.hasStandardBrowserEnv&&(r&&y.isFunction(r)&&(r=r(t)),r||r!==!1&&vc(t.url))){const h=s&&o&&Sc.read(o);h&&a.set(s,h)}return t},Cc=typeof XMLHttpRequest<"u",Ec=Cc&&function(e){return new Promise(function(n,r){const s=ji(e);let o=s.data;const a=ee.from(s.headers).normalize();let{responseType:u,onUploadProgress:h,onDownloadProgress:m}=s,p,b,S,C,w;function F(){C&&C(),w&&w(),s.cancelToken&&s.cancelToken.unsubscribe(p),s.signal&&s.signal.removeEventListener("abort",p)}let g=new XMLHttpRequest;g.open(s.method.toUpperCase(),s.url,!0),g.timeout=s.timeout;function v(){if(!g)return;const k=ee.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),I={data:!u||u==="text"||u==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:k,config:e,request:g};Bi(function(B){n(B),F()},function(B){r(B),F()},I),g=null}"onloadend"in g?g.onloadend=v:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(v)},g.onabort=function(){g&&(r(new O("Request aborted",O.ECONNABORTED,e,g)),g=null)},g.onerror=function(A){const I=A&&A.message?A.message:"Network Error",N=new O(I,O.ERR_NETWORK,e,g);N.event=A||null,r(N),g=null},g.ontimeout=function(){let A=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const I=s.transitional||Mi;s.timeoutErrorMessage&&(A=s.timeoutErrorMessage),r(new O(A,I.clarifyTimeoutError?O.ETIMEDOUT:O.ECONNABORTED,e,g)),g=null},o===void 0&&a.setContentType(null),"setRequestHeader"in g&&y.forEach(a.toJSON(),function(A,I){g.setRequestHeader(I,A)}),y.isUndefined(s.withCredentials)||(g.withCredentials=!!s.withCredentials),u&&u!=="json"&&(g.responseType=s.responseType),m&&([S,w]=Dt(m,!0),g.addEventListener("progress",S)),h&&g.upload&&([b,C]=Dt(h),g.upload.addEventListener("progress",b),g.upload.addEventListener("loadend",C)),(s.cancelToken||s.signal)&&(p=k=>{g&&(r(!k||k.type?new $e(null,e,g):k),g.abort(),g=null)},s.cancelToken&&s.cancelToken.subscribe(p),s.signal&&(s.signal.aborted?p():s.signal.addEventListener("abort",p)));const E=yc(s.url);if(E&&X.protocols.indexOf(E)===-1){r(new O("Unsupported protocol "+E+":",O.ERR_BAD_REQUEST,e));return}g.send(o||null)})},kc=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const o=function(m){if(!s){s=!0,u();const p=m instanceof Error?m:this.reason;r.abort(p instanceof O?p:new $e(p instanceof Error?p.message:p))}};let a=t&&setTimeout(()=>{a=null,o(new O(`timeout ${t} of ms exceeded`,O.ETIMEDOUT))},t);const u=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(m=>{m.unsubscribe?m.unsubscribe(o):m.removeEventListener("abort",o)}),e=null)};e.forEach(m=>m.addEventListener("abort",o));const{signal:h}=r;return h.unsubscribe=()=>y.asap(u),h}},Tc=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},Ac=async function*(e,t){for await(const n of Rc(e))yield*Tc(n,t)},Rc=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Yr=(e,t,n,r)=>{const s=Ac(e,t);let o=0,a,u=h=>{a||(a=!0,r&&r(h))};return new ReadableStream({async pull(h){try{const{done:m,value:p}=await s.next();if(m){u(),h.close();return}let b=p.byteLength;if(n){let S=o+=b;n(S)}h.enqueue(new Uint8Array(p))}catch(m){throw u(m),m}},cancel(h){return u(h),s.return()}},{highWaterMark:2})},Zr=64*1024,{isFunction:St}=y,Pc=(({Request:e,Response:t})=>({Request:e,Response:t}))(y.global),{ReadableStream:ei,TextEncoder:ti}=y.global,ni=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Oc=e=>{e=y.merge.call({skipUndefined:!0},Pc,e);const{fetch:t,Request:n,Response:r}=e,s=t?St(t):typeof fetch=="function",o=St(n),a=St(r);if(!s)return!1;const u=s&&St(ei),h=s&&(typeof ti=="function"?(w=>F=>w.encode(F))(new ti):async w=>new Uint8Array(await new n(w).arrayBuffer())),m=o&&u&&ni(()=>{let w=!1;const F=new n(X.origin,{body:new ei,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!F}),p=a&&u&&ni(()=>y.isReadableStream(new r("").body)),b={stream:p&&(w=>w.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!b[w]&&(b[w]=(F,g)=>{let v=F&&F[w];if(v)return v.call(F);throw new O(`Response type '${w}' is not supported`,O.ERR_NOT_SUPPORT,g)})});const S=async w=>{if(w==null)return 0;if(y.isBlob(w))return w.size;if(y.isSpecCompliantForm(w))return(await new n(X.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(y.isArrayBufferView(w)||y.isArrayBuffer(w))return w.byteLength;if(y.isURLSearchParams(w)&&(w=w+""),y.isString(w))return(await h(w)).byteLength},C=async(w,F)=>{const g=y.toFiniteNumber(w.getContentLength());return g??S(F)};return async w=>{let{url:F,method:g,data:v,signal:E,cancelToken:k,timeout:A,onDownloadProgress:I,onUploadProgress:N,responseType:B,headers:V,withCredentials:K="same-origin",fetchOptions:te}=ji(w),pt=t||fetch;B=B?(B+"").toLowerCase():"text";let ae=kc([E,k&&k.toAbortSignal()],A),le=null;const fe=ae&&ae.unsubscribe&&(()=>{ae.unsubscribe()});let mt;try{if(N&&m&&g!=="get"&&g!=="head"&&(mt=await C(V,v))!==0){let ue=new n(F,{method:"POST",body:v,duplex:"half"}),Q;if(y.isFormData(v)&&(Q=ue.headers.get("content-type"))&&V.setContentType(Q),ue.body){const[Xe,Le]=Xr(mt,Dt(Gr(N)));v=Yr(ue.body,Zr,Xe,Le)}}y.isString(K)||(K=K?"include":"omit");const ne=o&&"credentials"in n.prototype,gt={...te,signal:ae,method:g.toUpperCase(),headers:V.normalize().toJSON(),body:v,duplex:"half",credentials:ne?K:void 0};le=o&&new n(F,gt);let ce=await(o?pt(le,te):pt(F,gt));const Ke=p&&(B==="stream"||B==="response");if(p&&(I||Ke&&fe)){const ue={};["status","statusText","headers"].forEach(W=>{ue[W]=ce[W]});const Q=y.toFiniteNumber(ce.headers.get("content-length")),[Xe,Le]=I&&Xr(Q,Dt(Gr(I),!0))||[];ce=new r(Yr(ce.body,Zr,Xe,()=>{Le&&Le(),fe&&fe()}),ue)}B=B||"text";let Yt=await b[y.findKey(b,B)||"text"](ce,w);return!Ke&&fe&&fe(),await new Promise((ue,Q)=>{Bi(ue,Q,{data:Yt,headers:ee.from(ce.headers),status:ce.status,statusText:ce.statusText,config:w,request:le})})}catch(ne){throw fe&&fe(),ne&&ne.name==="TypeError"&&/Load failed|fetch/i.test(ne.message)?Object.assign(new O("Network Error",O.ERR_NETWORK,w,le),{cause:ne.cause||ne}):O.from(ne,ne&&ne.code,w,le)}}},Ic=new Map,Hi=e=>{let t=e?e.env:{};const{fetch:n,Request:r,Response:s}=t,o=[r,s,n];let a=o.length,u=a,h,m,p=Ic;for(;u--;)h=o[u],m=p.get(h),m===void 0&&p.set(h,m=u?new Map:Oc(t)),p=m;return m};Hi();const Cn={http:Gl,xhr:Ec,fetch:{get:Hi}};y.forEach(Cn,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const ri=e=>`- ${e}`,Dc=e=>y.isFunction(e)||e===null||e===!1,$i={getAdapter:(e,t)=>{e=y.isArray(e)?e:[e];const{length:n}=e;let r,s;const o={};for(let a=0;a<n;a++){r=e[a];let u;if(s=r,!Dc(r)&&(s=Cn[(u=String(r)).toLowerCase()],s===void 0))throw new O(`Unknown adapter '${u}'`);if(s&&(y.isFunction(s)||(s=s.get(t))))break;o[u||"#"+a]=s}if(!s){const a=Object.entries(o).map(([h,m])=>`adapter ${h} `+(m===!1?"is not supported by the environment":"is not available in the build"));let u=n?a.length>1?`since :
`+a.map(ri).join(`
`):" "+ri(a[0]):"as no adapter specified";throw new O("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return s},adapters:Cn};function mn(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new $e(null,e)}function ii(e){return mn(e),e.headers=ee.from(e.headers),e.data=pn.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),$i.getAdapter(e.adapter||ut.adapter,e)(e).then(function(r){return mn(e),r.data=pn.call(e,e.transformResponse,r),r.headers=ee.from(r.headers),r},function(r){return Ni(r)||(mn(e),r&&r.response&&(r.response.data=pn.call(e,e.transformResponse,r.response),r.response.headers=ee.from(r.response.headers))),Promise.reject(r)})}const qi="1.12.2",zt={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{zt[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const si={};zt.transitional=function(t,n,r){function s(o,a){return"[Axios v"+qi+"] Transitional option '"+o+"'"+a+(r?". "+r:"")}return(o,a,u)=>{if(t===!1)throw new O(s(a," has been removed"+(n?" in "+n:"")),O.ERR_DEPRECATED);return n&&!si[a]&&(si[a]=!0,console.warn(s(a," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,a,u):!0}};zt.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function Mc(e,t,n){if(typeof e!="object")throw new O("options must be an object",O.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const o=r[s],a=t[o];if(a){const u=e[o],h=u===void 0||a(u,o,e);if(h!==!0)throw new O("option "+o+" must be "+h,O.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new O("Unknown option "+o,O.ERR_BAD_OPTION)}}const Pt={assertOptions:Mc,validators:zt},de=Pt.validators;let Te=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Jr,response:new Jr}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Ie(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:o}=n;r!==void 0&&Pt.assertOptions(r,{silentJSONParsing:de.transitional(de.boolean),forcedJSONParsing:de.transitional(de.boolean),clarifyTimeoutError:de.transitional(de.boolean)},!1),s!=null&&(y.isFunction(s)?n.paramsSerializer={serialize:s}:Pt.assertOptions(s,{encode:de.function,serialize:de.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Pt.assertOptions(n,{baseUrl:de.spelling("baseURL"),withXsrfToken:de.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=o&&y.merge(o.common,o[n.method]);o&&y.forEach(["delete","get","head","post","put","patch","common"],w=>{delete o[w]}),n.headers=ee.concat(a,o);const u=[];let h=!0;this.interceptors.request.forEach(function(F){typeof F.runWhen=="function"&&F.runWhen(n)===!1||(h=h&&F.synchronous,u.unshift(F.fulfilled,F.rejected))});const m=[];this.interceptors.response.forEach(function(F){m.push(F.fulfilled,F.rejected)});let p,b=0,S;if(!h){const w=[ii.bind(this),void 0];for(w.unshift(...u),w.push(...m),S=w.length,p=Promise.resolve(n);b<S;)p=p.then(w[b++],w[b++]);return p}S=u.length;let C=n;for(;b<S;){const w=u[b++],F=u[b++];try{C=w(C)}catch(g){F.call(this,g);break}}try{p=ii.call(this,C)}catch(w){return Promise.reject(w)}for(b=0,S=m.length;b<S;)p=p.then(m[b++],m[b++]);return p}getUri(t){t=Ie(this.defaults,t);const n=Ui(t.baseURL,t.url,t.allowAbsoluteUrls);return Di(n,t.params,t.paramsSerializer)}};y.forEach(["delete","get","head","options"],function(t){Te.prototype[t]=function(n,r){return this.request(Ie(r||{},{method:t,url:n,data:(r||{}).data}))}});y.forEach(["post","put","patch"],function(t){function n(r){return function(o,a,u){return this.request(Ie(u||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}Te.prototype[t]=n(),Te.prototype[t+"Form"]=n(!0)});let Lc=class zi{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(s=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](s);r._listeners=null}),this.promise.then=s=>{let o;const a=new Promise(u=>{r.subscribe(u),o=u}).then(s);return a.cancel=function(){r.unsubscribe(o)},a},t(function(o,a,u){r.reason||(r.reason=new $e(o,a,u),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new zi(function(s){t=s}),cancel:t}}};function Nc(e){return function(n){return e.apply(null,n)}}function Bc(e){return y.isObject(e)&&e.isAxiosError===!0}const En={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(En).forEach(([e,t])=>{En[t]=e});function Wi(e){const t=new Te(e),n=Si(Te.prototype.request,t);return y.extend(n,Te.prototype,t,{allOwnKeys:!0}),y.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return Wi(Ie(e,s))},n}const $=Wi(ut);$.Axios=Te;$.CanceledError=$e;$.CancelToken=Lc;$.isCancel=Ni;$.VERSION=qi;$.toFormData=qt;$.AxiosError=O;$.Cancel=$.CanceledError;$.all=function(t){return Promise.all(t)};$.spread=Nc;$.isAxiosError=Bc;$.mergeConfig=Ie;$.AxiosHeaders=ee;$.formToJSON=e=>Li(y.isHTMLForm(e)?new FormData(e):e);$.getAdapter=$i.getAdapter;$.HttpStatusCode=En;$.default=$;const{Axios:ph,AxiosError:mh,CanceledError:gh,isCancel:bh,CancelToken:yh,VERSION:wh,all:_h,Cancel:vh,isAxiosError:Sh,spread:Fh,toFormData:xh,AxiosHeaders:Ch,HttpStatusCode:Eh,formToJSON:kh,getAdapter:Th,mergeConfig:Ah}=$;class Jn{constructor(){this.notificationCreatedEvent=".Illuminate\\Notifications\\Events\\BroadcastNotificationCreated"}listenForWhisper(t,n){return this.listen(".client-"+t,n)}notification(t){return this.listen(this.notificationCreatedEvent,t)}stopListeningForNotification(t){return this.stopListening(this.notificationCreatedEvent,t)}stopListeningForWhisper(t,n){return this.stopListening(".client-"+t,n)}}class Vi{constructor(t){this.namespace=t}format(t){return[".","\\"].includes(t.charAt(0))?t.substring(1):(this.namespace&&(t=this.namespace+"."+t),t.replace(/\./g,"\\"))}setNamespace(t){this.namespace=t}}function Uc(e){try{new e}catch(t){if(t instanceof Error&&t.message.includes("is not a constructor"))return!1}return!0}class Kn extends Jn{constructor(t,n,r){super(),this.name=n,this.pusher=t,this.options=r,this.eventFormatter=new Vi(this.options.namespace),this.subscribe()}subscribe(){this.subscription=this.pusher.subscribe(this.name)}unsubscribe(){this.pusher.unsubscribe(this.name)}listen(t,n){return this.on(this.eventFormatter.format(t),n),this}listenToAll(t){return this.subscription.bind_global((n,r)=>{if(n.startsWith("pusher:"))return;let s=String(this.options.namespace??"").replace(/\./g,"\\"),o=n.startsWith(s)?n.substring(s.length+1):"."+n;t(o,r)}),this}stopListening(t,n){return n?this.subscription.unbind(this.eventFormatter.format(t),n):this.subscription.unbind(this.eventFormatter.format(t)),this}stopListeningToAll(t){return t?this.subscription.unbind_global(t):this.subscription.unbind_global(),this}subscribed(t){return this.on("pusher:subscription_succeeded",()=>{t()}),this}error(t){return this.on("pusher:subscription_error",n=>{t(n)}),this}on(t,n){return this.subscription.bind(t,n),this}}class Ji extends Kn{whisper(t,n){return this.pusher.channels.channels[this.name].trigger(`client-${t}`,n),this}}class jc extends Kn{whisper(t,n){return this.pusher.channels.channels[this.name].trigger(`client-${t}`,n),this}}class Hc extends Ji{here(t){return this.on("pusher:subscription_succeeded",n=>{t(Object.keys(n.members).map(r=>n.members[r]))}),this}joining(t){return this.on("pusher:member_added",n=>{t(n.info)}),this}whisper(t,n){return this.pusher.channels.channels[this.name].trigger(`client-${t}`,n),this}leaving(t){return this.on("pusher:member_removed",n=>{t(n.info)}),this}}class Ki extends Jn{constructor(t,n,r){super(),this.events={},this.listeners={},this.name=n,this.socket=t,this.options=r,this.eventFormatter=new Vi(this.options.namespace),this.subscribe()}subscribe(){this.socket.emit("subscribe",{channel:this.name,auth:this.options.auth||{}})}unsubscribe(){this.unbind(),this.socket.emit("unsubscribe",{channel:this.name,auth:this.options.auth||{}})}listen(t,n){return this.on(this.eventFormatter.format(t),n),this}stopListening(t,n){return this.unbindEvent(this.eventFormatter.format(t),n),this}subscribed(t){return this.on("connect",n=>{t(n)}),this}error(t){return this}on(t,n){return this.listeners[t]=this.listeners[t]||[],this.events[t]||(this.events[t]=(r,s)=>{this.name===r&&this.listeners[t]&&this.listeners[t].forEach(o=>o(s))},this.socket.on(t,this.events[t])),this.listeners[t].push(n),this}unbind(){Object.keys(this.events).forEach(t=>{this.unbindEvent(t)})}unbindEvent(t,n){this.listeners[t]=this.listeners[t]||[],n&&(this.listeners[t]=this.listeners[t].filter(r=>r!==n)),(!n||this.listeners[t].length===0)&&(this.events[t]&&(this.socket.removeListener(t,this.events[t]),delete this.events[t]),delete this.listeners[t])}}class Xi extends Ki{whisper(t,n){return this.socket.emit("client event",{channel:this.name,event:`client-${t}`,data:n}),this}}class $c extends Xi{here(t){return this.on("presence:subscribed",n=>{t(n.map(r=>r.user_info))}),this}joining(t){return this.on("presence:joining",n=>t(n.user_info)),this}whisper(t,n){return this.socket.emit("client event",{channel:this.name,event:`client-${t}`,data:n}),this}leaving(t){return this.on("presence:leaving",n=>t(n.user_info)),this}}class Mt extends Jn{subscribe(){}unsubscribe(){}listen(t,n){return this}listenToAll(t){return this}stopListening(t,n){return this}subscribed(t){return this}error(t){return this}on(t,n){return this}}class Gi extends Mt{whisper(t,n){return this}}class qc extends Mt{whisper(t,n){return this}}class zc extends Gi{here(t){return this}joining(t){return this}whisper(t,n){return this}leaving(t){return this}}const Qi=class Yi{constructor(t){this.setOptions(t),this.connect()}setOptions(t){this.options={...Yi._defaultOptions,...t,broadcaster:t.broadcaster};let n=this.csrfToken();n&&(this.options.auth.headers["X-CSRF-TOKEN"]=n,this.options.userAuthentication.headers["X-CSRF-TOKEN"]=n),n=this.options.bearerToken,n&&(this.options.auth.headers.Authorization="Bearer "+n,this.options.userAuthentication.headers.Authorization="Bearer "+n)}csrfToken(){var t,n;return typeof window<"u"&&(t=window.Laravel)!=null&&t.csrfToken?window.Laravel.csrfToken:this.options.csrfToken?this.options.csrfToken:typeof document<"u"&&typeof document.querySelector=="function"?((n=document.querySelector('meta[name="csrf-token"]'))==null?void 0:n.getAttribute("content"))??null:null}};Qi._defaultOptions={auth:{headers:{}},authEndpoint:"/broadcasting/auth",userAuthentication:{endpoint:"/broadcasting/user-auth",headers:{}},csrfToken:null,bearerToken:null,host:null,key:null,namespace:"App.Events"};let Xn=Qi;class Ft extends Xn{constructor(){super(...arguments),this.channels={}}connect(){if(typeof this.options.client<"u")this.pusher=this.options.client;else if(this.options.Pusher)this.pusher=new this.options.Pusher(this.options.key,this.options);else if(typeof window<"u"&&typeof window.Pusher<"u")this.pusher=new window.Pusher(this.options.key,this.options);else throw new Error("Pusher client not found. Should be globally available or passed via options.client")}signin(){this.pusher.signin()}listen(t,n,r){return this.channel(t).listen(n,r)}channel(t){return this.channels[t]||(this.channels[t]=new Kn(this.pusher,t,this.options)),this.channels[t]}privateChannel(t){return this.channels["private-"+t]||(this.channels["private-"+t]=new Ji(this.pusher,"private-"+t,this.options)),this.channels["private-"+t]}encryptedPrivateChannel(t){return this.channels["private-encrypted-"+t]||(this.channels["private-encrypted-"+t]=new jc(this.pusher,"private-encrypted-"+t,this.options)),this.channels["private-encrypted-"+t]}presenceChannel(t){return this.channels["presence-"+t]||(this.channels["presence-"+t]=new Hc(this.pusher,"presence-"+t,this.options)),this.channels["presence-"+t]}leave(t){[t,"private-"+t,"private-encrypted-"+t,"presence-"+t].forEach(n=>{this.leaveChannel(n)})}leaveChannel(t){this.channels[t]&&(this.channels[t].unsubscribe(),delete this.channels[t])}socketId(){return this.pusher.connection.socket_id}disconnect(){this.pusher.disconnect()}}class Wc extends Xn{constructor(){super(...arguments),this.channels={}}connect(){let t=this.getSocketIO();this.socket=t(this.options.host??void 0,this.options),this.socket.io.on("reconnect",()=>{Object.values(this.channels).forEach(n=>{n.subscribe()})})}getSocketIO(){if(typeof this.options.client<"u")return this.options.client;if(typeof window<"u"&&typeof window.io<"u")return window.io;throw new Error("Socket.io client not found. Should be globally available or passed via options.client")}listen(t,n,r){return this.channel(t).listen(n,r)}channel(t){return this.channels[t]||(this.channels[t]=new Ki(this.socket,t,this.options)),this.channels[t]}privateChannel(t){return this.channels["private-"+t]||(this.channels["private-"+t]=new Xi(this.socket,"private-"+t,this.options)),this.channels["private-"+t]}presenceChannel(t){return this.channels["presence-"+t]||(this.channels["presence-"+t]=new $c(this.socket,"presence-"+t,this.options)),this.channels["presence-"+t]}leave(t){[t,"private-"+t,"presence-"+t].forEach(n=>{this.leaveChannel(n)})}leaveChannel(t){this.channels[t]&&(this.channels[t].unsubscribe(),delete this.channels[t])}socketId(){return this.socket.id}disconnect(){this.socket.disconnect()}}class oi extends Xn{constructor(){super(...arguments),this.channels={}}connect(){}listen(t,n,r){return new Mt}channel(t){return new Mt}privateChannel(t){return new Gi}encryptedPrivateChannel(t){return new qc}presenceChannel(t){return new zc}leave(t){}leaveChannel(t){}socketId(){return"fake-socket-id"}disconnect(){}}class Vc{constructor(t){this.options=t,this.connect(),this.options.withoutInterceptors||this.registerInterceptors()}channel(t){return this.connector.channel(t)}connect(){if(this.options.broadcaster==="reverb")this.connector=new Ft({...this.options,cluster:""});else if(this.options.broadcaster==="pusher")this.connector=new Ft(this.options);else if(this.options.broadcaster==="ably")this.connector=new Ft({...this.options,cluster:"",broadcaster:"pusher"});else if(this.options.broadcaster==="socket.io")this.connector=new Wc(this.options);else if(this.options.broadcaster==="null")this.connector=new oi(this.options);else if(typeof this.options.broadcaster=="function"&&Uc(this.options.broadcaster))this.connector=new this.options.broadcaster(this.options);else throw new Error(`Broadcaster ${typeof this.options.broadcaster} ${String(this.options.broadcaster)} is not supported.`)}disconnect(){this.connector.disconnect()}join(t){return this.connector.presenceChannel(t)}leave(t){this.connector.leave(t)}leaveChannel(t){this.connector.leaveChannel(t)}leaveAllChannels(){for(const t in this.connector.channels)this.leaveChannel(t)}listen(t,n,r){return this.connector.listen(t,n,r)}private(t){return this.connector.privateChannel(t)}encryptedPrivate(t){if(this.connectorSupportsEncryptedPrivateChannels(this.connector))return this.connector.encryptedPrivateChannel(t);throw new Error(`Broadcaster ${typeof this.options.broadcaster} ${String(this.options.broadcaster)} does not support encrypted private channels.`)}connectorSupportsEncryptedPrivateChannels(t){return t instanceof Ft||t instanceof oi}socketId(){return this.connector.socketId()}registerInterceptors(){typeof Vue<"u"&&Vue!=null&&Vue.http&&this.registerVueRequestInterceptor(),typeof axios=="function"&&this.registerAxiosRequestInterceptor(),typeof jQuery=="function"&&this.registerjQueryAjaxSetup(),typeof Turbo=="object"&&this.registerTurboRequestInterceptor()}registerVueRequestInterceptor(){Vue.http.interceptors.push((t,n)=>{this.socketId()&&t.headers.set("X-Socket-ID",this.socketId()),n()})}registerAxiosRequestInterceptor(){axios.interceptors.request.use(t=>(this.socketId()&&(t.headers["X-Socket-Id"]=this.socketId()),t))}registerjQueryAjaxSetup(){typeof jQuery.ajax<"u"&&jQuery.ajaxPrefilter((t,n,r)=>{this.socketId()&&r.setRequestHeader("X-Socket-Id",this.socketId())})}registerTurboRequestInterceptor(){document.addEventListener("turbo:before-fetch-request",t=>{t.detail.fetchOptions.headers["X-Socket-Id"]=this.socketId()})}}function Jc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var gn={exports:{}};/*!
 * Pusher JavaScript Library v8.4.0
 * https://pusher.com/
 *
 * Copyright 2020, Pusher
 * Released under the MIT licence.
 */var ai;function Kc(){return ai||(ai=1,(function(e,t){(function(r,s){e.exports=s()})(window,function(){return(function(n){var r={};function s(o){if(r[o])return r[o].exports;var a=r[o]={i:o,l:!1,exports:{}};return n[o].call(a.exports,a,a.exports,s),a.l=!0,a.exports}return s.m=n,s.c=r,s.d=function(o,a,u){s.o(o,a)||Object.defineProperty(o,a,{enumerable:!0,get:u})},s.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},s.t=function(o,a){if(a&1&&(o=s(o)),a&8||a&4&&typeof o=="object"&&o&&o.__esModule)return o;var u=Object.create(null);if(s.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:o}),a&2&&typeof o!="string")for(var h in o)s.d(u,h,(function(m){return o[m]}).bind(null,h));return u},s.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return s.d(a,"a",a),a},s.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},s.p="",s(s.s=2)})([(function(n,r,s){var o=this&&this.__extends||(function(){var F=function(g,v){return F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,k){E.__proto__=k}||function(E,k){for(var A in k)k.hasOwnProperty(A)&&(E[A]=k[A])},F(g,v)};return function(g,v){F(g,v);function E(){this.constructor=g}g.prototype=v===null?Object.create(v):(E.prototype=v.prototype,new E)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=256,u=(function(){function F(g){g===void 0&&(g="="),this._paddingCharacter=g}return F.prototype.encodedLength=function(g){return this._paddingCharacter?(g+2)/3*4|0:(g*8+5)/6|0},F.prototype.encode=function(g){for(var v="",E=0;E<g.length-2;E+=3){var k=g[E]<<16|g[E+1]<<8|g[E+2];v+=this._encodeByte(k>>>18&63),v+=this._encodeByte(k>>>12&63),v+=this._encodeByte(k>>>6&63),v+=this._encodeByte(k>>>0&63)}var A=g.length-E;if(A>0){var k=g[E]<<16|(A===2?g[E+1]<<8:0);v+=this._encodeByte(k>>>18&63),v+=this._encodeByte(k>>>12&63),A===2?v+=this._encodeByte(k>>>6&63):v+=this._paddingCharacter||"",v+=this._paddingCharacter||""}return v},F.prototype.maxDecodedLength=function(g){return this._paddingCharacter?g/4*3|0:(g*6+7)/8|0},F.prototype.decodedLength=function(g){return this.maxDecodedLength(g.length-this._getPaddingLength(g))},F.prototype.decode=function(g){if(g.length===0)return new Uint8Array(0);for(var v=this._getPaddingLength(g),E=g.length-v,k=new Uint8Array(this.maxDecodedLength(E)),A=0,I=0,N=0,B=0,V=0,K=0,te=0;I<E-4;I+=4)B=this._decodeChar(g.charCodeAt(I+0)),V=this._decodeChar(g.charCodeAt(I+1)),K=this._decodeChar(g.charCodeAt(I+2)),te=this._decodeChar(g.charCodeAt(I+3)),k[A++]=B<<2|V>>>4,k[A++]=V<<4|K>>>2,k[A++]=K<<6|te,N|=B&a,N|=V&a,N|=K&a,N|=te&a;if(I<E-1&&(B=this._decodeChar(g.charCodeAt(I)),V=this._decodeChar(g.charCodeAt(I+1)),k[A++]=B<<2|V>>>4,N|=B&a,N|=V&a),I<E-2&&(K=this._decodeChar(g.charCodeAt(I+2)),k[A++]=V<<4|K>>>2,N|=K&a),I<E-3&&(te=this._decodeChar(g.charCodeAt(I+3)),k[A++]=K<<6|te,N|=te&a),N!==0)throw new Error("Base64Coder: incorrect characters for decoding");return k},F.prototype._encodeByte=function(g){var v=g;return v+=65,v+=25-g>>>8&6,v+=51-g>>>8&-75,v+=61-g>>>8&-15,v+=62-g>>>8&3,String.fromCharCode(v)},F.prototype._decodeChar=function(g){var v=a;return v+=(42-g&g-44)>>>8&-a+g-43+62,v+=(46-g&g-48)>>>8&-a+g-47+63,v+=(47-g&g-58)>>>8&-a+g-48+52,v+=(64-g&g-91)>>>8&-a+g-65+0,v+=(96-g&g-123)>>>8&-a+g-97+26,v},F.prototype._getPaddingLength=function(g){var v=0;if(this._paddingCharacter){for(var E=g.length-1;E>=0&&g[E]===this._paddingCharacter;E--)v++;if(g.length<4||v>2)throw new Error("Base64Coder: incorrect padding")}return v},F})();r.Coder=u;var h=new u;function m(F){return h.encode(F)}r.encode=m;function p(F){return h.decode(F)}r.decode=p;var b=(function(F){o(g,F);function g(){return F!==null&&F.apply(this,arguments)||this}return g.prototype._encodeByte=function(v){var E=v;return E+=65,E+=25-v>>>8&6,E+=51-v>>>8&-75,E+=61-v>>>8&-13,E+=62-v>>>8&49,String.fromCharCode(E)},g.prototype._decodeChar=function(v){var E=a;return E+=(44-v&v-46)>>>8&-a+v-45+62,E+=(94-v&v-96)>>>8&-a+v-95+63,E+=(47-v&v-58)>>>8&-a+v-48+52,E+=(64-v&v-91)>>>8&-a+v-65+0,E+=(96-v&v-123)>>>8&-a+v-97+26,E},g})(u);r.URLSafeCoder=b;var S=new b;function C(F){return S.encode(F)}r.encodeURLSafe=C;function w(F){return S.decode(F)}r.decodeURLSafe=w,r.encodedLength=function(F){return h.encodedLength(F)},r.maxDecodedLength=function(F){return h.maxDecodedLength(F)},r.decodedLength=function(F){return h.decodedLength(F)}}),(function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var o="utf8: invalid string",a="utf8: invalid source encoding";function u(p){for(var b=new Uint8Array(h(p)),S=0,C=0;C<p.length;C++){var w=p.charCodeAt(C);w<128?b[S++]=w:w<2048?(b[S++]=192|w>>6,b[S++]=128|w&63):w<55296?(b[S++]=224|w>>12,b[S++]=128|w>>6&63,b[S++]=128|w&63):(C++,w=(w&1023)<<10,w|=p.charCodeAt(C)&1023,w+=65536,b[S++]=240|w>>18,b[S++]=128|w>>12&63,b[S++]=128|w>>6&63,b[S++]=128|w&63)}return b}r.encode=u;function h(p){for(var b=0,S=0;S<p.length;S++){var C=p.charCodeAt(S);if(C<128)b+=1;else if(C<2048)b+=2;else if(C<55296)b+=3;else if(C<=57343){if(S>=p.length-1)throw new Error(o);S++,b+=4}else throw new Error(o)}return b}r.encodedLength=h;function m(p){for(var b=[],S=0;S<p.length;S++){var C=p[S];if(C&128){var w=void 0;if(C<224){if(S>=p.length)throw new Error(a);var F=p[++S];if((F&192)!==128)throw new Error(a);C=(C&31)<<6|F&63,w=128}else if(C<240){if(S>=p.length-1)throw new Error(a);var F=p[++S],g=p[++S];if((F&192)!==128||(g&192)!==128)throw new Error(a);C=(C&15)<<12|(F&63)<<6|g&63,w=2048}else if(C<248){if(S>=p.length-2)throw new Error(a);var F=p[++S],g=p[++S],v=p[++S];if((F&192)!==128||(g&192)!==128||(v&192)!==128)throw new Error(a);C=(C&15)<<18|(F&63)<<12|(g&63)<<6|v&63,w=65536}else throw new Error(a);if(C<w||C>=55296&&C<=57343)throw new Error(a);if(C>=65536){if(C>1114111)throw new Error(a);C-=65536,b.push(String.fromCharCode(55296|C>>10)),C=56320|C&1023}}b.push(String.fromCharCode(C))}return b.join("")}r.decode=m}),(function(n,r,s){n.exports=s(3).default}),(function(n,r,s){s.r(r);class o{constructor(i,l){this.lastId=0,this.prefix=i,this.name=l}create(i){this.lastId++;var l=this.lastId,d=this.prefix+l,f=this.name+"["+l+"]",_=!1,x=function(){_||(i.apply(null,arguments),_=!0)};return this[l]=x,{number:l,id:d,name:f,callback:x}}remove(i){delete this[i.number]}}var a=new o("_pusher_script_","Pusher.ScriptReceivers"),u={VERSION:"8.4.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},h=u;class m{constructor(i){this.options=i,this.receivers=i.receivers||a,this.loading={}}load(i,l,d){var f=this;if(f.loading[i]&&f.loading[i].length>0)f.loading[i].push(d);else{f.loading[i]=[d];var _=P.createScriptRequest(f.getPath(i,l)),x=f.receivers.create(function(T){if(f.receivers.remove(x),f.loading[i]){var R=f.loading[i];delete f.loading[i];for(var D=function(q){q||_.cleanup()},L=0;L<R.length;L++)R[L](T,D)}});_.send(x)}}getRoot(i){var l,d=P.getDocument().location.protocol;return i&&i.useTLS||d==="https:"?l=this.options.cdn_https:l=this.options.cdn_http,l.replace(/\/*$/,"")+"/"+this.options.version}getPath(i,l){return this.getRoot(l)+"/"+i+this.options.suffix+".js"}}var p=new o("_pusher_dependencies","Pusher.DependenciesReceivers"),b=new m({cdn_http:h.cdn_http,cdn_https:h.cdn_https,version:h.VERSION,suffix:h.dependency_suffix,receivers:p});const S={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}};var w={buildLogSuffix:function(c){const i="See:",l=S.urls[c];if(!l)return"";let d;return l.fullUrl?d=l.fullUrl:l.path&&(d=S.baseUrl+l.path),d?`${i} ${d}`:""}},F;(function(c){c.UserAuthentication="user-authentication",c.ChannelAuthorization="channel-authorization"})(F||(F={}));class g extends Error{constructor(i){super(i),Object.setPrototypeOf(this,new.target.prototype)}}class v extends Error{constructor(i){super(i),Object.setPrototypeOf(this,new.target.prototype)}}class E extends Error{constructor(i){super(i),Object.setPrototypeOf(this,new.target.prototype)}}class k extends Error{constructor(i){super(i),Object.setPrototypeOf(this,new.target.prototype)}}class A extends Error{constructor(i){super(i),Object.setPrototypeOf(this,new.target.prototype)}}class I extends Error{constructor(i){super(i),Object.setPrototypeOf(this,new.target.prototype)}}class N extends Error{constructor(i){super(i),Object.setPrototypeOf(this,new.target.prototype)}}class B extends Error{constructor(i){super(i),Object.setPrototypeOf(this,new.target.prototype)}}class V extends Error{constructor(i,l){super(l),this.status=i,Object.setPrototypeOf(this,new.target.prototype)}}var te=function(c,i,l,d,f){const _=P.createXHR();_.open("POST",l.endpoint,!0),_.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var x in l.headers)_.setRequestHeader(x,l.headers[x]);if(l.headersProvider!=null){let T=l.headersProvider();for(var x in T)_.setRequestHeader(x,T[x])}return _.onreadystatechange=function(){if(_.readyState===4)if(_.status===200){let T,R=!1;try{T=JSON.parse(_.responseText),R=!0}catch{f(new V(200,`JSON returned from ${d.toString()} endpoint was invalid, yet status code was 200. Data was: ${_.responseText}`),null)}R&&f(null,T)}else{let T="";switch(d){case F.UserAuthentication:T=w.buildLogSuffix("authenticationEndpoint");break;case F.ChannelAuthorization:T=`Clients must be authorized to join private or presence channels. ${w.buildLogSuffix("authorizationEndpoint")}`;break}f(new V(_.status,`Unable to retrieve auth string from ${d.toString()} endpoint - received status: ${_.status} from ${l.endpoint}. ${T}`),null)}},_.send(i),_};function pt(c){return gt(mt(c))}var ae=String.fromCharCode,le="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fe=function(c){var i=c.charCodeAt(0);return i<128?c:i<2048?ae(192|i>>>6)+ae(128|i&63):ae(224|i>>>12&15)+ae(128|i>>>6&63)+ae(128|i&63)},mt=function(c){return c.replace(/[^\x00-\x7F]/g,fe)},ne=function(c){var i=[0,2,1][c.length%3],l=c.charCodeAt(0)<<16|(c.length>1?c.charCodeAt(1):0)<<8|(c.length>2?c.charCodeAt(2):0),d=[le.charAt(l>>>18),le.charAt(l>>>12&63),i>=2?"=":le.charAt(l>>>6&63),i>=1?"=":le.charAt(l&63)];return d.join("")},gt=window.btoa||function(c){return c.replace(/[\s\S]{1,3}/g,ne)};class ce{constructor(i,l,d,f){this.clear=l,this.timer=i(()=>{this.timer&&(this.timer=f(this.timer))},d)}isRunning(){return this.timer!==null}ensureAborted(){this.timer&&(this.clear(this.timer),this.timer=null)}}var Ke=ce;function Yt(c){window.clearTimeout(c)}function ue(c){window.clearInterval(c)}class Q extends Ke{constructor(i,l){super(setTimeout,Yt,i,function(d){return l(),null})}}class Xe extends Ke{constructor(i,l){super(setInterval,ue,i,function(d){return l(),d})}}var Le={now(){return Date.now?Date.now():new Date().valueOf()},defer(c){return new Q(0,c)},method(c,...i){var l=Array.prototype.slice.call(arguments,1);return function(d){return d[c].apply(d,l.concat(arguments))}}},W=Le;function Y(c,...i){for(var l=0;l<i.length;l++){var d=i[l];for(var f in d)d[f]&&d[f].constructor&&d[f].constructor===Object?c[f]=Y(c[f]||{},d[f]):c[f]=d[f]}return c}function uo(){for(var c=["Pusher"],i=0;i<arguments.length;i++)typeof arguments[i]=="string"?c.push(arguments[i]):c.push(bt(arguments[i]));return c.join(" : ")}function yr(c,i){var l=Array.prototype.indexOf;if(c===null)return-1;if(l&&c.indexOf===l)return c.indexOf(i);for(var d=0,f=c.length;d<f;d++)if(c[d]===i)return d;return-1}function pe(c,i){for(var l in c)Object.prototype.hasOwnProperty.call(c,l)&&i(c[l],l,c)}function wr(c){var i=[];return pe(c,function(l,d){i.push(d)}),i}function ho(c){var i=[];return pe(c,function(l){i.push(l)}),i}function Ge(c,i,l){for(var d=0;d<c.length;d++)i.call(l||window,c[d],d,c)}function _r(c,i){for(var l=[],d=0;d<c.length;d++)l.push(i(c[d],d,c,l));return l}function fo(c,i){var l={};return pe(c,function(d,f){l[f]=i(d)}),l}function vr(c,i){i=i||function(f){return!!f};for(var l=[],d=0;d<c.length;d++)i(c[d],d,c,l)&&l.push(c[d]);return l}function Sr(c,i){var l={};return pe(c,function(d,f){(i&&i(d,f,c,l)||d)&&(l[f]=d)}),l}function po(c){var i=[];return pe(c,function(l,d){i.push([d,l])}),i}function Fr(c,i){for(var l=0;l<c.length;l++)if(i(c[l],l,c))return!0;return!1}function mo(c,i){for(var l=0;l<c.length;l++)if(!i(c[l],l,c))return!1;return!0}function go(c){return fo(c,function(i){return typeof i=="object"&&(i=bt(i)),encodeURIComponent(pt(i.toString()))})}function bo(c){var i=Sr(c,function(d){return d!==void 0}),l=_r(po(go(i)),W.method("join","=")).join("&");return l}function yo(c){var i=[],l=[];return(function d(f,_){var x,T,R;switch(typeof f){case"object":if(!f)return null;for(x=0;x<i.length;x+=1)if(i[x]===f)return{$ref:l[x]};if(i.push(f),l.push(_),Object.prototype.toString.apply(f)==="[object Array]")for(R=[],x=0;x<f.length;x+=1)R[x]=d(f[x],_+"["+x+"]");else{R={};for(T in f)Object.prototype.hasOwnProperty.call(f,T)&&(R[T]=d(f[T],_+"["+JSON.stringify(T)+"]"))}return R;case"number":case"string":case"boolean":return f}})(c,"$")}function bt(c){try{return JSON.stringify(c)}catch{return JSON.stringify(yo(c))}}class wo{constructor(){this.globalLog=i=>{window.console&&window.console.log&&window.console.log(i)}}debug(...i){this.log(this.globalLog,i)}warn(...i){this.log(this.globalLogWarn,i)}error(...i){this.log(this.globalLogError,i)}globalLogWarn(i){window.console&&window.console.warn?window.console.warn(i):this.globalLog(i)}globalLogError(i){window.console&&window.console.error?window.console.error(i):this.globalLogWarn(i)}log(i,...l){var d=uo.apply(this,arguments);un.log?un.log(d):un.logToConsole&&i.bind(this)(d)}}var j=new wo,_o=function(c,i,l,d,f){(l.headers!==void 0||l.headersProvider!=null)&&j.warn(`To send headers with the ${d.toString()} request, you must use AJAX, rather than JSONP.`);var _=c.nextAuthCallbackID.toString();c.nextAuthCallbackID++;var x=c.getDocument(),T=x.createElement("script");c.auth_callbacks[_]=function(L){f(null,L)};var R="Pusher.auth_callbacks['"+_+"']";T.src=l.endpoint+"?callback="+encodeURIComponent(R)+"&"+i;var D=x.getElementsByTagName("head")[0]||x.documentElement;D.insertBefore(T,D.firstChild)},vo=_o;class So{constructor(i){this.src=i}send(i){var l=this,d="Error loading "+l.src;l.script=document.createElement("script"),l.script.id=i.id,l.script.src=l.src,l.script.type="text/javascript",l.script.charset="UTF-8",l.script.addEventListener?(l.script.onerror=function(){i.callback(d)},l.script.onload=function(){i.callback(null)}):l.script.onreadystatechange=function(){(l.script.readyState==="loaded"||l.script.readyState==="complete")&&i.callback(null)},l.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(l.errorScript=document.createElement("script"),l.errorScript.id=i.id+"_error",l.errorScript.text=i.name+"('"+d+"');",l.script.async=l.errorScript.async=!1):l.script.async=!0;var f=document.getElementsByTagName("head")[0];f.insertBefore(l.script,f.firstChild),l.errorScript&&f.insertBefore(l.errorScript,l.script.nextSibling)}cleanup(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null}}class Fo{constructor(i,l){this.url=i,this.data=l}send(i){if(!this.request){var l=bo(this.data),d=this.url+"/"+i.number+"?"+l;this.request=P.createScriptRequest(d),this.request.send(i)}}cleanup(){this.request&&this.request.cleanup()}}var xo=function(c,i){return function(l,d){var f="http"+(i?"s":"")+"://",_=f+(c.host||c.options.host)+c.options.path,x=P.createJSONPRequest(_,l),T=P.ScriptReceivers.create(function(R,D){a.remove(T),x.cleanup(),D&&D.host&&(c.host=D.host),d&&d(R,D)});x.send(T)}},Co={name:"jsonp",getAgent:xo},Eo=Co;function Zt(c,i,l){var d=c+(i.useTLS?"s":""),f=i.useTLS?i.hostTLS:i.hostNonTLS;return d+"://"+f+l}function en(c,i){var l="/app/"+c,d="?protocol="+h.PROTOCOL+"&client=js&version="+h.VERSION+(i?"&"+i:"");return l+d}var ko={getInitial:function(c,i){var l=(i.httpPath||"")+en(c,"flash=false");return Zt("ws",i,l)}},To={getInitial:function(c,i){var l=(i.httpPath||"/pusher")+en(c);return Zt("http",i,l)}},Ao={getInitial:function(c,i){return Zt("http",i,i.httpPath||"/pusher")},getPath:function(c,i){return en(c)}};class Ro{constructor(){this._callbacks={}}get(i){return this._callbacks[tn(i)]}add(i,l,d){var f=tn(i);this._callbacks[f]=this._callbacks[f]||[],this._callbacks[f].push({fn:l,context:d})}remove(i,l,d){if(!i&&!l&&!d){this._callbacks={};return}var f=i?[tn(i)]:wr(this._callbacks);l||d?this.removeCallback(f,l,d):this.removeAllCallbacks(f)}removeCallback(i,l,d){Ge(i,function(f){this._callbacks[f]=vr(this._callbacks[f]||[],function(_){return l&&l!==_.fn||d&&d!==_.context}),this._callbacks[f].length===0&&delete this._callbacks[f]},this)}removeAllCallbacks(i){Ge(i,function(l){delete this._callbacks[l]},this)}}function tn(c){return"_"+c}class me{constructor(i){this.callbacks=new Ro,this.global_callbacks=[],this.failThrough=i}bind(i,l,d){return this.callbacks.add(i,l,d),this}bind_global(i){return this.global_callbacks.push(i),this}unbind(i,l,d){return this.callbacks.remove(i,l,d),this}unbind_global(i){return i?(this.global_callbacks=vr(this.global_callbacks||[],l=>l!==i),this):(this.global_callbacks=[],this)}unbind_all(){return this.unbind(),this.unbind_global(),this}emit(i,l,d){for(var f=0;f<this.global_callbacks.length;f++)this.global_callbacks[f](i,l);var _=this.callbacks.get(i),x=[];if(d?x.push(l,d):l&&x.push(l),_&&_.length>0)for(var f=0;f<_.length;f++)_[f].fn.apply(_[f].context||window,x);else this.failThrough&&this.failThrough(i,l);return this}}class Po extends me{constructor(i,l,d,f,_){super(),this.initialize=P.transportConnectionInitializer,this.hooks=i,this.name=l,this.priority=d,this.key=f,this.options=_,this.state="new",this.timeline=_.timeline,this.activityTimeout=_.activityTimeout,this.id=this.timeline.generateUniqueID()}handlesActivityChecks(){return!!this.hooks.handlesActivityChecks}supportsPing(){return!!this.hooks.supportsPing}connect(){if(this.socket||this.state!=="initialized")return!1;var i=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(i,this.options)}catch(l){return W.defer(()=>{this.onError(l),this.changeState("closed")}),!1}return this.bindListeners(),j.debug("Connecting",{transport:this.name,url:i}),this.changeState("connecting"),!0}close(){return this.socket?(this.socket.close(),!0):!1}send(i){return this.state==="open"?(W.defer(()=>{this.socket&&this.socket.send(i)}),!0):!1}ping(){this.state==="open"&&this.supportsPing()&&this.socket.ping()}onOpen(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0}onError(i){this.emit("error",{type:"WebSocketError",error:i}),this.timeline.error(this.buildTimelineMessage({error:i.toString()}))}onClose(i){i?this.changeState("closed",{code:i.code,reason:i.reason,wasClean:i.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0}onMessage(i){this.emit("message",i)}onActivity(){this.emit("activity")}bindListeners(){this.socket.onopen=()=>{this.onOpen()},this.socket.onerror=i=>{this.onError(i)},this.socket.onclose=i=>{this.onClose(i)},this.socket.onmessage=i=>{this.onMessage(i)},this.supportsPing()&&(this.socket.onactivity=()=>{this.onActivity()})}unbindListeners(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))}changeState(i,l){this.state=i,this.timeline.info(this.buildTimelineMessage({state:i,params:l})),this.emit(i,l)}buildTimelineMessage(i){return Y({cid:this.id},i)}}class Ne{constructor(i){this.hooks=i}isSupported(i){return this.hooks.isSupported(i)}createConnection(i,l,d,f){return new Po(this.hooks,i,l,d,f)}}var Oo=new Ne({urls:ko,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!P.getWebSocketAPI()},isSupported:function(){return!!P.getWebSocketAPI()},getSocket:function(c){return P.createWebSocket(c)}}),xr={urls:To,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},Cr=Y({getSocket:function(c){return P.HTTPFactory.createStreamingSocket(c)}},xr),Er=Y({getSocket:function(c){return P.HTTPFactory.createPollingSocket(c)}},xr),kr={isSupported:function(){return P.isXHRSupported()}},Io=new Ne(Y({},Cr,kr)),Do=new Ne(Y({},Er,kr)),Mo={ws:Oo,xhr_streaming:Io,xhr_polling:Do},yt=Mo,Lo=new Ne({file:"sockjs",urls:Ao,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(c,i){return new window.SockJS(c,null,{js_path:b.getPath("sockjs",{useTLS:i.useTLS}),ignore_null_origin:i.ignoreNullOrigin})},beforeOpen:function(c,i){c.send(JSON.stringify({path:i}))}}),Tr={isSupported:function(c){var i=P.isXDRSupported(c.useTLS);return i}},No=new Ne(Y({},Cr,Tr)),Bo=new Ne(Y({},Er,Tr));yt.xdr_streaming=No,yt.xdr_polling=Bo,yt.sockjs=Lo;var Uo=yt;class jo extends me{constructor(){super();var i=this;window.addEventListener!==void 0&&(window.addEventListener("online",function(){i.emit("online")},!1),window.addEventListener("offline",function(){i.emit("offline")},!1))}isOnline(){return window.navigator.onLine===void 0?!0:window.navigator.onLine}}var Ho=new jo;class $o{constructor(i,l,d){this.manager=i,this.transport=l,this.minPingDelay=d.minPingDelay,this.maxPingDelay=d.maxPingDelay,this.pingDelay=void 0}createConnection(i,l,d,f){f=Y({},f,{activityTimeout:this.pingDelay});var _=this.transport.createConnection(i,l,d,f),x=null,T=function(){_.unbind("open",T),_.bind("closed",R),x=W.now()},R=D=>{if(_.unbind("closed",R),D.code===1002||D.code===1003)this.manager.reportDeath();else if(!D.wasClean&&x){var L=W.now()-x;L<2*this.maxPingDelay&&(this.manager.reportDeath(),this.pingDelay=Math.max(L/2,this.minPingDelay))}};return _.bind("open",T),_}isSupported(i){return this.manager.isAlive()&&this.transport.isSupported(i)}}const Ar={decodeMessage:function(c){try{var i=JSON.parse(c.data),l=i.data;if(typeof l=="string")try{l=JSON.parse(i.data)}catch{}var d={event:i.event,channel:i.channel,data:l};return i.user_id&&(d.user_id=i.user_id),d}catch(f){throw{type:"MessageParseError",error:f,data:c.data}}},encodeMessage:function(c){return JSON.stringify(c)},processHandshake:function(c){var i=Ar.decodeMessage(c);if(i.event==="pusher:connection_established"){if(!i.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:i.data.socket_id,activityTimeout:i.data.activity_timeout*1e3}}else{if(i.event==="pusher:error")return{action:this.getCloseAction(i.data),error:this.getCloseError(i.data)};throw"Invalid handshake"}},getCloseAction:function(c){return c.code<4e3?c.code>=1002&&c.code<=1004?"backoff":null:c.code===4e3?"tls_only":c.code<4100?"refused":c.code<4200?"backoff":c.code<4300?"retry":"refused"},getCloseError:function(c){return c.code!==1e3&&c.code!==1001?{type:"PusherError",data:{code:c.code,message:c.reason||c.message}}:null}};var Se=Ar;class qo extends me{constructor(i,l){super(),this.id=i,this.transport=l,this.activityTimeout=l.activityTimeout,this.bindListeners()}handlesActivityChecks(){return this.transport.handlesActivityChecks()}send(i){return this.transport.send(i)}send_event(i,l,d){var f={event:i,data:l};return d&&(f.channel=d),j.debug("Event sent",f),this.send(Se.encodeMessage(f))}ping(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})}close(){this.transport.close()}bindListeners(){var i={message:d=>{var f;try{f=Se.decodeMessage(d)}catch(_){this.emit("error",{type:"MessageParseError",error:_,data:d.data})}if(f!==void 0){switch(j.debug("Event recd",f),f.event){case"pusher:error":this.emit("error",{type:"PusherError",data:f.data});break;case"pusher:ping":this.emit("ping");break;case"pusher:pong":this.emit("pong");break}this.emit("message",f)}},activity:()=>{this.emit("activity")},error:d=>{this.emit("error",d)},closed:d=>{l(),d&&d.code&&this.handleCloseEvent(d),this.transport=null,this.emit("closed")}},l=()=>{pe(i,(d,f)=>{this.transport.unbind(f,d)})};pe(i,(d,f)=>{this.transport.bind(f,d)})}handleCloseEvent(i){var l=Se.getCloseAction(i),d=Se.getCloseError(i);d&&this.emit("error",d),l&&this.emit(l,{action:l,error:d})}}class zo{constructor(i,l){this.transport=i,this.callback=l,this.bindListeners()}close(){this.unbindListeners(),this.transport.close()}bindListeners(){this.onMessage=i=>{this.unbindListeners();var l;try{l=Se.processHandshake(i)}catch(d){this.finish("error",{error:d}),this.transport.close();return}l.action==="connected"?this.finish("connected",{connection:new qo(l.id,this.transport),activityTimeout:l.activityTimeout}):(this.finish(l.action,{error:l.error}),this.transport.close())},this.onClosed=i=>{this.unbindListeners();var l=Se.getCloseAction(i)||"backoff",d=Se.getCloseError(i);this.finish(l,{error:d})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)}unbindListeners(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)}finish(i,l){this.callback(Y({transport:this.transport,action:i},l))}}class Wo{constructor(i,l){this.timeline=i,this.options=l||{}}send(i,l){this.timeline.isEmpty()||this.timeline.send(P.TimelineTransport.getAgent(this,i),l)}}class nn extends me{constructor(i,l){super(function(d,f){j.debug("No callbacks on "+i+" for "+d)}),this.name=i,this.pusher=l,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}authorize(i,l){return l(null,{auth:""})}trigger(i,l){if(i.indexOf("client-")!==0)throw new g("Event '"+i+"' does not start with 'client-'");if(!this.subscribed){var d=w.buildLogSuffix("triggeringClientEvents");j.warn(`Client event triggered before channel 'subscription_succeeded' event . ${d}`)}return this.pusher.send_event(i,l,this.name)}disconnect(){this.subscribed=!1,this.subscriptionPending=!1}handleEvent(i){var l=i.event,d=i.data;if(l==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(i);else if(l==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent(i);else if(l.indexOf("pusher_internal:")!==0){var f={};this.emit(l,d,f)}}handleSubscriptionSucceededEvent(i){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",i.data)}handleSubscriptionCountEvent(i){i.data.subscription_count&&(this.subscriptionCount=i.data.subscription_count),this.emit("pusher:subscription_count",i.data)}subscribe(){this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(i,l)=>{i?(this.subscriptionPending=!1,j.error(i.toString()),this.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:i.message},i instanceof V?{status:i.status}:{}))):this.pusher.send_event("pusher:subscribe",{auth:l.auth,channel_data:l.channel_data,channel:this.name})}))}unsubscribe(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})}cancelSubscription(){this.subscriptionCancelled=!0}reinstateSubscription(){this.subscriptionCancelled=!1}}class rn extends nn{authorize(i,l){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:i},l)}}class Vo{constructor(){this.reset()}get(i){return Object.prototype.hasOwnProperty.call(this.members,i)?{id:i,info:this.members[i]}:null}each(i){pe(this.members,(l,d)=>{i(this.get(d))})}setMyID(i){this.myID=i}onSubscription(i){this.members=i.presence.hash,this.count=i.presence.count,this.me=this.get(this.myID)}addMember(i){return this.get(i.user_id)===null&&this.count++,this.members[i.user_id]=i.user_info,this.get(i.user_id)}removeMember(i){var l=this.get(i.user_id);return l&&(delete this.members[i.user_id],this.count--),l}reset(){this.members={},this.count=0,this.myID=null,this.me=null}}var Jo=function(c,i,l,d){function f(_){return _ instanceof l?_:new l(function(x){x(_)})}return new(l||(l=Promise))(function(_,x){function T(L){try{D(d.next(L))}catch(q){x(q)}}function R(L){try{D(d.throw(L))}catch(q){x(q)}}function D(L){L.done?_(L.value):f(L.value).then(T,R)}D((d=d.apply(c,i||[])).next())})};class Ko extends rn{constructor(i,l){super(i,l),this.members=new Vo}authorize(i,l){super.authorize(i,(d,f)=>Jo(this,void 0,void 0,function*(){if(!d)if(f=f,f.channel_data!=null){var _=JSON.parse(f.channel_data);this.members.setMyID(_.user_id)}else if(yield this.pusher.user.signinDonePromise,this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else{let x=w.buildLogSuffix("authorizationEndpoint");j.error(`Invalid auth response for channel '${this.name}', expected 'channel_data' field. ${x}, or the user should be signed in.`),l("Invalid auth response");return}l(d,f)}))}handleEvent(i){var l=i.event;if(l.indexOf("pusher_internal:")===0)this.handleInternalEvent(i);else{var d=i.data,f={};i.user_id&&(f.user_id=i.user_id),this.emit(l,d,f)}}handleInternalEvent(i){var l=i.event,d=i.data;switch(l){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(i);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(i);break;case"pusher_internal:member_added":var f=this.members.addMember(d);this.emit("pusher:member_added",f);break;case"pusher_internal:member_removed":var _=this.members.removeMember(d);_&&this.emit("pusher:member_removed",_);break}}handleSubscriptionSucceededEvent(i){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(i.data),this.emit("pusher:subscription_succeeded",this.members))}disconnect(){this.members.reset(),super.disconnect()}}var Xo=s(1),sn=s(0);class Go extends rn{constructor(i,l,d){super(i,l),this.key=null,this.nacl=d}authorize(i,l){super.authorize(i,(d,f)=>{if(d){l(d,f);return}let _=f.shared_secret;if(!_){l(new Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`),null);return}this.key=Object(sn.decode)(_),delete f.shared_secret,l(null,f)})}trigger(i,l){throw new I("Client events are not currently supported for encrypted channels")}handleEvent(i){var l=i.event,d=i.data;if(l.indexOf("pusher_internal:")===0||l.indexOf("pusher:")===0){super.handleEvent(i);return}this.handleEncryptedEvent(l,d)}handleEncryptedEvent(i,l){if(!this.key){j.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!l.ciphertext||!l.nonce){j.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+l);return}let d=Object(sn.decode)(l.ciphertext);if(d.length<this.nacl.secretbox.overheadLength){j.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${d.length}`);return}let f=Object(sn.decode)(l.nonce);if(f.length<this.nacl.secretbox.nonceLength){j.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${f.length}`);return}let _=this.nacl.secretbox.open(d,f,this.key);if(_===null){j.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,(x,T)=>{if(x){j.error(`Failed to make a request to the authEndpoint: ${T}. Unable to fetch new key, so dropping encrypted event`);return}if(_=this.nacl.secretbox.open(d,f,this.key),_===null){j.error("Failed to decrypt event with new key. Dropping encrypted event");return}this.emit(i,this.getDataToEmit(_))});return}this.emit(i,this.getDataToEmit(_))}getDataToEmit(i){let l=Object(Xo.decode)(i);try{return JSON.parse(l)}catch{return l}}}class Qo extends me{constructor(i,l){super(),this.state="initialized",this.connection=null,this.key=i,this.options=l,this.timeline=this.options.timeline,this.usingTLS=this.options.useTLS,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var d=P.getNetwork();d.bind("online",()=>{this.timeline.info({netinfo:"online"}),(this.state==="connecting"||this.state==="unavailable")&&this.retryIn(0)}),d.bind("offline",()=>{this.timeline.info({netinfo:"offline"}),this.connection&&this.sendActivityCheck()}),this.updateStrategy()}connect(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}}send(i){return this.connection?this.connection.send(i):!1}send_event(i,l,d){return this.connection?this.connection.send_event(i,l,d):!1}disconnect(){this.disconnectInternally(),this.updateState("disconnected")}isUsingTLS(){return this.usingTLS}startConnecting(){var i=(l,d)=>{l?this.runner=this.strategy.connect(0,i):d.action==="error"?(this.emit("error",{type:"HandshakeError",error:d.error}),this.timeline.error({handshakeError:d.error})):(this.abortConnecting(),this.handshakeCallbacks[d.action](d))};this.runner=this.strategy.connect(0,i)}abortConnecting(){this.runner&&(this.runner.abort(),this.runner=null)}disconnectInternally(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var i=this.abandonConnection();i.close()}}updateStrategy(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})}retryIn(i){this.timeline.info({action:"retry",delay:i}),i>0&&this.emit("connecting_in",Math.round(i/1e3)),this.retryTimer=new Q(i||0,()=>{this.disconnectInternally(),this.connect()})}clearRetryTimer(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)}setUnavailableTimer(){this.unavailableTimer=new Q(this.options.unavailableTimeout,()=>{this.updateState("unavailable")})}clearUnavailableTimer(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()}sendActivityCheck(){this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new Q(this.options.pongTimeout,()=>{this.timeline.error({pong_timed_out:this.options.pongTimeout}),this.retryIn(0)})}resetActivityCheck(){this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new Q(this.activityTimeout,()=>{this.sendActivityCheck()}))}stopActivityCheck(){this.activityTimer&&this.activityTimer.ensureAborted()}buildConnectionCallbacks(i){return Y({},i,{message:l=>{this.resetActivityCheck(),this.emit("message",l)},ping:()=>{this.send_event("pusher:pong",{})},activity:()=>{this.resetActivityCheck()},error:l=>{this.emit("error",l)},closed:()=>{this.abandonConnection(),this.shouldRetry()&&this.retryIn(1e3)}})}buildHandshakeCallbacks(i){return Y({},i,{connected:l=>{this.activityTimeout=Math.min(this.options.activityTimeout,l.activityTimeout,l.connection.activityTimeout||1/0),this.clearUnavailableTimer(),this.setConnection(l.connection),this.socket_id=this.connection.id,this.updateState("connected",{socket_id:this.socket_id})}})}buildErrorCallbacks(){let i=l=>d=>{d.error&&this.emit("error",{type:"WebSocketError",error:d.error}),l(d)};return{tls_only:i(()=>{this.usingTLS=!0,this.updateStrategy(),this.retryIn(0)}),refused:i(()=>{this.disconnect()}),backoff:i(()=>{this.retryIn(1e3)}),retry:i(()=>{this.retryIn(0)})}}setConnection(i){this.connection=i;for(var l in this.connectionCallbacks)this.connection.bind(l,this.connectionCallbacks[l]);this.resetActivityCheck()}abandonConnection(){if(this.connection){this.stopActivityCheck();for(var i in this.connectionCallbacks)this.connection.unbind(i,this.connectionCallbacks[i]);var l=this.connection;return this.connection=null,l}}updateState(i,l){var d=this.state;if(this.state=i,d!==i){var f=i;f==="connected"&&(f+=" with new socket ID "+l.socket_id),j.debug("State changed",d+" -> "+f),this.timeline.info({state:i,params:l}),this.emit("state_change",{previous:d,current:i}),this.emit(i,l)}}shouldRetry(){return this.state==="connecting"||this.state==="connected"}}class Yo{constructor(){this.channels={}}add(i,l){return this.channels[i]||(this.channels[i]=Zo(i,l)),this.channels[i]}all(){return ho(this.channels)}find(i){return this.channels[i]}remove(i){var l=this.channels[i];return delete this.channels[i],l}disconnect(){pe(this.channels,function(i){i.disconnect()})}}function Zo(c,i){if(c.indexOf("private-encrypted-")===0){if(i.config.nacl)return ge.createEncryptedChannel(c,i,i.config.nacl);let l="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",d=w.buildLogSuffix("encryptedChannelSupport");throw new I(`${l}. ${d}`)}else{if(c.indexOf("private-")===0)return ge.createPrivateChannel(c,i);if(c.indexOf("presence-")===0)return ge.createPresenceChannel(c,i);if(c.indexOf("#")===0)throw new v('Cannot create a channel with name "'+c+'".');return ge.createChannel(c,i)}}var ea={createChannels(){return new Yo},createConnectionManager(c,i){return new Qo(c,i)},createChannel(c,i){return new nn(c,i)},createPrivateChannel(c,i){return new rn(c,i)},createPresenceChannel(c,i){return new Ko(c,i)},createEncryptedChannel(c,i,l){return new Go(c,i,l)},createTimelineSender(c,i){return new Wo(c,i)},createHandshake(c,i){return new zo(c,i)},createAssistantToTheTransportManager(c,i,l){return new $o(c,i,l)}},ge=ea;class Rr{constructor(i){this.options=i||{},this.livesLeft=this.options.lives||1/0}getAssistant(i){return ge.createAssistantToTheTransportManager(this,i,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})}isAlive(){return this.livesLeft>0}reportDeath(){this.livesLeft-=1}}class Fe{constructor(i,l){this.strategies=i,this.loop=!!l.loop,this.failFast=!!l.failFast,this.timeout=l.timeout,this.timeoutLimit=l.timeoutLimit}isSupported(){return Fr(this.strategies,W.method("isSupported"))}connect(i,l){var d=this.strategies,f=0,_=this.timeout,x=null,T=(R,D)=>{D?l(null,D):(f=f+1,this.loop&&(f=f%d.length),f<d.length?(_&&(_=_*2,this.timeoutLimit&&(_=Math.min(_,this.timeoutLimit))),x=this.tryStrategy(d[f],i,{timeout:_,failFast:this.failFast},T)):l(!0))};return x=this.tryStrategy(d[f],i,{timeout:_,failFast:this.failFast},T),{abort:function(){x.abort()},forceMinPriority:function(R){i=R,x&&x.forceMinPriority(R)}}}tryStrategy(i,l,d,f){var _=null,x=null;return d.timeout>0&&(_=new Q(d.timeout,function(){x.abort(),f(!0)})),x=i.connect(l,function(T,R){T&&_&&_.isRunning()&&!d.failFast||(_&&_.ensureAborted(),f(T,R))}),{abort:function(){_&&_.ensureAborted(),x.abort()},forceMinPriority:function(T){x.forceMinPriority(T)}}}}class on{constructor(i){this.strategies=i}isSupported(){return Fr(this.strategies,W.method("isSupported"))}connect(i,l){return ta(this.strategies,i,function(d,f){return function(_,x){if(f[d].error=_,_){na(f)&&l(!0);return}Ge(f,function(T){T.forceMinPriority(x.transport.priority)}),l(null,x)}})}}function ta(c,i,l){var d=_r(c,function(f,_,x,T){return f.connect(i,l(_,T))});return{abort:function(){Ge(d,ra)},forceMinPriority:function(f){Ge(d,function(_){_.forceMinPriority(f)})}}}function na(c){return mo(c,function(i){return!!i.error})}function ra(c){!c.error&&!c.aborted&&(c.abort(),c.aborted=!0)}class ia{constructor(i,l,d){this.strategy=i,this.transports=l,this.ttl=d.ttl||1800*1e3,this.usingTLS=d.useTLS,this.timeline=d.timeline}isSupported(){return this.strategy.isSupported()}connect(i,l){var d=this.usingTLS,f=sa(d),_=f&&f.cacheSkipCount?f.cacheSkipCount:0,x=[this.strategy];if(f&&f.timestamp+this.ttl>=W.now()){var T=this.transports[f.transport];T&&(["ws","wss"].includes(f.transport)||_>3?(this.timeline.info({cached:!0,transport:f.transport,latency:f.latency}),x.push(new Fe([T],{timeout:f.latency*2+1e3,failFast:!0}))):_++)}var R=W.now(),D=x.pop().connect(i,function L(q,vt){q?(Pr(d),x.length>0?(R=W.now(),D=x.pop().connect(i,L)):l(q)):(oa(d,vt.transport.name,W.now()-R,_),l(null,vt))});return{abort:function(){D.abort()},forceMinPriority:function(L){i=L,D&&D.forceMinPriority(L)}}}}function an(c){return"pusherTransport"+(c?"TLS":"NonTLS")}function sa(c){var i=P.getLocalStorage();if(i)try{var l=i[an(c)];if(l)return JSON.parse(l)}catch{Pr(c)}return null}function oa(c,i,l,d){var f=P.getLocalStorage();if(f)try{f[an(c)]=bt({timestamp:W.now(),transport:i,latency:l,cacheSkipCount:d})}catch{}}function Pr(c){var i=P.getLocalStorage();if(i)try{delete i[an(c)]}catch{}}class wt{constructor(i,{delay:l}){this.strategy=i,this.options={delay:l}}isSupported(){return this.strategy.isSupported()}connect(i,l){var d=this.strategy,f,_=new Q(this.options.delay,function(){f=d.connect(i,l)});return{abort:function(){_.ensureAborted(),f&&f.abort()},forceMinPriority:function(x){i=x,f&&f.forceMinPriority(x)}}}}class Qe{constructor(i,l,d){this.test=i,this.trueBranch=l,this.falseBranch=d}isSupported(){var i=this.test()?this.trueBranch:this.falseBranch;return i.isSupported()}connect(i,l){var d=this.test()?this.trueBranch:this.falseBranch;return d.connect(i,l)}}class aa{constructor(i){this.strategy=i}isSupported(){return this.strategy.isSupported()}connect(i,l){var d=this.strategy.connect(i,function(f,_){_&&d.abort(),l(f,_)});return d}}function Ye(c){return function(){return c.isSupported()}}var la=function(c,i,l){var d={};function f($r,al,ll,cl,ul){var qr=l(c,$r,al,ll,cl,ul);return d[$r]=qr,qr}var _=Object.assign({},i,{hostNonTLS:c.wsHost+":"+c.wsPort,hostTLS:c.wsHost+":"+c.wssPort,httpPath:c.wsPath}),x=Object.assign({},_,{useTLS:!0}),T=Object.assign({},i,{hostNonTLS:c.httpHost+":"+c.httpPort,hostTLS:c.httpHost+":"+c.httpsPort,httpPath:c.httpPath}),R={loop:!0,timeout:15e3,timeoutLimit:6e4},D=new Rr({minPingDelay:1e4,maxPingDelay:c.activityTimeout}),L=new Rr({lives:2,minPingDelay:1e4,maxPingDelay:c.activityTimeout}),q=f("ws","ws",3,_,D),vt=f("wss","ws",3,x,D),nl=f("sockjs","sockjs",1,T),Lr=f("xhr_streaming","xhr_streaming",1,T,L),rl=f("xdr_streaming","xdr_streaming",1,T,L),Nr=f("xhr_polling","xhr_polling",1,T),il=f("xdr_polling","xdr_polling",1,T),Br=new Fe([q],R),sl=new Fe([vt],R),ol=new Fe([nl],R),Ur=new Fe([new Qe(Ye(Lr),Lr,rl)],R),jr=new Fe([new Qe(Ye(Nr),Nr,il)],R),Hr=new Fe([new Qe(Ye(Ur),new on([Ur,new wt(jr,{delay:4e3})]),jr)],R),dn=new Qe(Ye(Hr),Hr,ol),hn;return i.useTLS?hn=new on([Br,new wt(dn,{delay:2e3})]):hn=new on([Br,new wt(sl,{delay:2e3}),new wt(dn,{delay:5e3})]),new ia(new aa(new Qe(Ye(q),hn,dn)),d,{ttl:18e5,timeline:i.timeline,useTLS:i.useTLS})},ca=la,ua=(function(){var c=this;c.timeline.info(c.buildTimelineMessage({transport:c.name+(c.options.useTLS?"s":"")})),c.hooks.isInitialized()?c.changeState("initialized"):c.hooks.file?(c.changeState("initializing"),b.load(c.hooks.file,{useTLS:c.options.useTLS},function(i,l){c.hooks.isInitialized()?(c.changeState("initialized"),l(!0)):(i&&c.onError(i),c.onClose(),l(!1))})):c.onClose()}),da={getRequest:function(c){var i=new window.XDomainRequest;return i.ontimeout=function(){c.emit("error",new E),c.close()},i.onerror=function(l){c.emit("error",l),c.close()},i.onprogress=function(){i.responseText&&i.responseText.length>0&&c.onChunk(200,i.responseText)},i.onload=function(){i.responseText&&i.responseText.length>0&&c.onChunk(200,i.responseText),c.emit("finished",200),c.close()},i},abortRequest:function(c){c.ontimeout=c.onerror=c.onprogress=c.onload=null,c.abort()}},ha=da;const fa=256*1024;class pa extends me{constructor(i,l,d){super(),this.hooks=i,this.method=l,this.url=d}start(i){this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=()=>{this.close()},P.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(i)}close(){this.unloader&&(P.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)}onChunk(i,l){for(;;){var d=this.advanceBuffer(l);if(d)this.emit("chunk",{status:i,data:d});else break}this.isBufferTooLong(l)&&this.emit("buffer_too_long")}advanceBuffer(i){var l=i.slice(this.position),d=l.indexOf(`
`);return d!==-1?(this.position+=d+1,l.slice(0,d)):null}isBufferTooLong(i){return this.position===i.length&&i.length>fa}}var ln;(function(c){c[c.CONNECTING=0]="CONNECTING",c[c.OPEN=1]="OPEN",c[c.CLOSED=3]="CLOSED"})(ln||(ln={}));var xe=ln,ma=1;class ga{constructor(i,l){this.hooks=i,this.session=Ir(1e3)+"/"+_a(8),this.location=ba(l),this.readyState=xe.CONNECTING,this.openStream()}send(i){return this.sendRaw(JSON.stringify([i]))}ping(){this.hooks.sendHeartbeat(this)}close(i,l){this.onClose(i,l,!0)}sendRaw(i){if(this.readyState===xe.OPEN)try{return P.createSocketRequest("POST",Or(ya(this.location,this.session))).start(i),!0}catch{return!1}else return!1}reconnect(){this.closeStream(),this.openStream()}onClose(i,l,d){this.closeStream(),this.readyState=xe.CLOSED,this.onclose&&this.onclose({code:i,reason:l,wasClean:d})}onChunk(i){if(i.status===200){this.readyState===xe.OPEN&&this.onActivity();var l,d=i.data.slice(0,1);switch(d){case"o":l=JSON.parse(i.data.slice(1)||"{}"),this.onOpen(l);break;case"a":l=JSON.parse(i.data.slice(1)||"[]");for(var f=0;f<l.length;f++)this.onEvent(l[f]);break;case"m":l=JSON.parse(i.data.slice(1)||"null"),this.onEvent(l);break;case"h":this.hooks.onHeartbeat(this);break;case"c":l=JSON.parse(i.data.slice(1)||"[]"),this.onClose(l[0],l[1],!0);break}}}onOpen(i){this.readyState===xe.CONNECTING?(i&&i.hostname&&(this.location.base=wa(this.location.base,i.hostname)),this.readyState=xe.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)}onEvent(i){this.readyState===xe.OPEN&&this.onmessage&&this.onmessage({data:i})}onActivity(){this.onactivity&&this.onactivity()}onError(i){this.onerror&&this.onerror(i)}openStream(){this.stream=P.createSocketRequest("POST",Or(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",i=>{this.onChunk(i)}),this.stream.bind("finished",i=>{this.hooks.onFinished(this,i)}),this.stream.bind("buffer_too_long",()=>{this.reconnect()});try{this.stream.start()}catch(i){W.defer(()=>{this.onError(i),this.onClose(1006,"Could not start streaming",!1)})}}closeStream(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)}}function ba(c){var i=/([^\?]*)\/*(\??.*)/.exec(c);return{base:i[1],queryString:i[2]}}function ya(c,i){return c.base+"/"+i+"/xhr_send"}function Or(c){var i=c.indexOf("?")===-1?"?":"&";return c+i+"t="+ +new Date+"&n="+ma++}function wa(c,i){var l=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(c);return l[1]+i+l[3]}function Ir(c){return P.randomInt(c)}function _a(c){for(var i=[],l=0;l<c;l++)i.push(Ir(32).toString(32));return i.join("")}var va=ga,Sa={getReceiveURL:function(c,i){return c.base+"/"+i+"/xhr_streaming"+c.queryString},onHeartbeat:function(c){c.sendRaw("[]")},sendHeartbeat:function(c){c.sendRaw("[]")},onFinished:function(c,i){c.onClose(1006,"Connection interrupted ("+i+")",!1)}},Fa=Sa,xa={getReceiveURL:function(c,i){return c.base+"/"+i+"/xhr"+c.queryString},onHeartbeat:function(){},sendHeartbeat:function(c){c.sendRaw("[]")},onFinished:function(c,i){i===200?c.reconnect():c.onClose(1006,"Connection interrupted ("+i+")",!1)}},Ca=xa,Ea={getRequest:function(c){var i=P.getXHRAPI(),l=new i;return l.onreadystatechange=l.onprogress=function(){switch(l.readyState){case 3:l.responseText&&l.responseText.length>0&&c.onChunk(l.status,l.responseText);break;case 4:l.responseText&&l.responseText.length>0&&c.onChunk(l.status,l.responseText),c.emit("finished",l.status),c.close();break}},l},abortRequest:function(c){c.onreadystatechange=null,c.abort()}},ka=Ea,Ta={createStreamingSocket(c){return this.createSocket(Fa,c)},createPollingSocket(c){return this.createSocket(Ca,c)},createSocket(c,i){return new va(c,i)},createXHR(c,i){return this.createRequest(ka,c,i)},createRequest(c,i,l){return new pa(c,i,l)}},Dr=Ta;Dr.createXDR=function(c,i){return this.createRequest(ha,c,i)};var Aa=Dr,Ra={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:a,DependenciesReceivers:p,getDefaultStrategy:ca,Transports:Uo,transportConnectionInitializer:ua,HTTPFactory:Aa,TimelineTransport:Eo,getXHRAPI(){return window.XMLHttpRequest},getWebSocketAPI(){return window.WebSocket||window.MozWebSocket},setup(c){window.Pusher=c;var i=()=>{this.onDocumentBody(c.ready)};window.JSON?i():b.load("json2",{},i)},getDocument(){return document},getProtocol(){return this.getDocument().location.protocol},getAuthorizers(){return{ajax:te,jsonp:vo}},onDocumentBody(c){document.body?c():setTimeout(()=>{this.onDocumentBody(c)},0)},createJSONPRequest(c,i){return new Fo(c,i)},createScriptRequest(c){return new So(c)},getLocalStorage(){try{return window.localStorage}catch{return}},createXHR(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest(){var c=this.getXHRAPI();return new c},createMicrosoftXHR(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork(){return Ho},createWebSocket(c){var i=this.getWebSocketAPI();return new i(c)},createSocketRequest(c,i){if(this.isXHRSupported())return this.HTTPFactory.createXHR(c,i);if(this.isXDRSupported(i.indexOf("https:")===0))return this.HTTPFactory.createXDR(c,i);throw"Cross-origin HTTP requests are not supported"},isXHRSupported(){var c=this.getXHRAPI();return!!c&&new c().withCredentials!==void 0},isXDRSupported(c){var i=c?"https:":"http:",l=this.getProtocol();return!!window.XDomainRequest&&l===i},addUnloadListener(c){window.addEventListener!==void 0?window.addEventListener("unload",c,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",c)},removeUnloadListener(c){window.addEventListener!==void 0?window.removeEventListener("unload",c,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",c)},randomInt(c){return Math.floor(function(){return(window.crypto||window.msCrypto).getRandomValues(new Uint32Array(1))[0]/Math.pow(2,32)}()*c)}},P=Ra,cn;(function(c){c[c.ERROR=3]="ERROR",c[c.INFO=6]="INFO",c[c.DEBUG=7]="DEBUG"})(cn||(cn={}));var _t=cn;class Pa{constructor(i,l,d){this.key=i,this.session=l,this.events=[],this.options=d||{},this.sent=0,this.uniqueID=0}log(i,l){i<=this.options.level&&(this.events.push(Y({},l,{timestamp:W.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())}error(i){this.log(_t.ERROR,i)}info(i){this.log(_t.INFO,i)}debug(i){this.log(_t.DEBUG,i)}isEmpty(){return this.events.length===0}send(i,l){var d=Y({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],i(d,(f,_)=>{f||this.sent++,l&&l(f,_)}),!0}generateUniqueID(){return this.uniqueID++,this.uniqueID}}class Oa{constructor(i,l,d,f){this.name=i,this.priority=l,this.transport=d,this.options=f||{}}isSupported(){return this.transport.isSupported({useTLS:this.options.useTLS})}connect(i,l){if(this.isSupported()){if(this.priority<i)return Mr(new k,l)}else return Mr(new B,l);var d=!1,f=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),_=null,x=function(){f.unbind("initialized",x),f.connect()},T=function(){_=ge.createHandshake(f,function(q){d=!0,L(),l(null,q)})},R=function(q){L(),l(q)},D=function(){L();var q;q=bt(f),l(new A(q))},L=function(){f.unbind("initialized",x),f.unbind("open",T),f.unbind("error",R),f.unbind("closed",D)};return f.bind("initialized",x),f.bind("open",T),f.bind("error",R),f.bind("closed",D),f.initialize(),{abort:()=>{d||(L(),_?_.close():f.close())},forceMinPriority:q=>{d||this.priority<q&&(_?_.close():f.close())}}}}function Mr(c,i){return W.defer(function(){i(c)}),{abort:function(){},forceMinPriority:function(){}}}const{Transports:Ia}=P;var Da=function(c,i,l,d,f,_){var x=Ia[l];if(!x)throw new N(l);var T=(!c.enabledTransports||yr(c.enabledTransports,i)!==-1)&&(!c.disabledTransports||yr(c.disabledTransports,i)===-1),R;return T?(f=Object.assign({ignoreNullOrigin:c.ignoreNullOrigin},f),R=new Oa(i,d,_?_.getAssistant(x):x,f)):R=Ma,R},Ma={isSupported:function(){return!1},connect:function(c,i){var l=W.defer(function(){i(new B)});return{abort:function(){l.ensureAborted()},forceMinPriority:function(){}}}};function La(c){if(c==null)throw"You must pass an options object";if(c.cluster==null)throw"Options object must provide a cluster";"disableStats"in c&&j.warn("The disableStats option is deprecated in favor of enableStats")}const Na=(c,i)=>{var l="socket_id="+encodeURIComponent(c.socketId);for(var d in i.params)l+="&"+encodeURIComponent(d)+"="+encodeURIComponent(i.params[d]);if(i.paramsProvider!=null){let f=i.paramsProvider();for(var d in f)l+="&"+encodeURIComponent(d)+"="+encodeURIComponent(f[d])}return l};var Ba=c=>{if(typeof P.getAuthorizers()[c.transport]>"u")throw`'${c.transport}' is not a recognized auth transport`;return(i,l)=>{const d=Na(i,c);P.getAuthorizers()[c.transport](P,d,c,F.UserAuthentication,l)}};const Ua=(c,i)=>{var l="socket_id="+encodeURIComponent(c.socketId);l+="&channel_name="+encodeURIComponent(c.channelName);for(var d in i.params)l+="&"+encodeURIComponent(d)+"="+encodeURIComponent(i.params[d]);if(i.paramsProvider!=null){let f=i.paramsProvider();for(var d in f)l+="&"+encodeURIComponent(d)+"="+encodeURIComponent(f[d])}return l};var ja=c=>{if(typeof P.getAuthorizers()[c.transport]>"u")throw`'${c.transport}' is not a recognized auth transport`;return(i,l)=>{const d=Ua(i,c);P.getAuthorizers()[c.transport](P,d,c,F.ChannelAuthorization,l)}};const Ha=(c,i,l)=>{const d={authTransport:i.transport,authEndpoint:i.endpoint,auth:{params:i.params,headers:i.headers}};return(f,_)=>{const x=c.channel(f.channelName);l(x,d).authorize(f.socketId,_)}};function $a(c,i){let l={activityTimeout:c.activityTimeout||h.activityTimeout,cluster:c.cluster,httpPath:c.httpPath||h.httpPath,httpPort:c.httpPort||h.httpPort,httpsPort:c.httpsPort||h.httpsPort,pongTimeout:c.pongTimeout||h.pongTimeout,statsHost:c.statsHost||h.stats_host,unavailableTimeout:c.unavailableTimeout||h.unavailableTimeout,wsPath:c.wsPath||h.wsPath,wsPort:c.wsPort||h.wsPort,wssPort:c.wssPort||h.wssPort,enableStats:Ja(c),httpHost:qa(c),useTLS:Va(c),wsHost:za(c),userAuthenticator:Ka(c),channelAuthorizer:Ga(c,i)};return"disabledTransports"in c&&(l.disabledTransports=c.disabledTransports),"enabledTransports"in c&&(l.enabledTransports=c.enabledTransports),"ignoreNullOrigin"in c&&(l.ignoreNullOrigin=c.ignoreNullOrigin),"timelineParams"in c&&(l.timelineParams=c.timelineParams),"nacl"in c&&(l.nacl=c.nacl),l}function qa(c){return c.httpHost?c.httpHost:c.cluster?`sockjs-${c.cluster}.pusher.com`:h.httpHost}function za(c){return c.wsHost?c.wsHost:Wa(c.cluster)}function Wa(c){return`ws-${c}.pusher.com`}function Va(c){return P.getProtocol()==="https:"?!0:c.forceTLS!==!1}function Ja(c){return"enableStats"in c?c.enableStats:"disableStats"in c?!c.disableStats:!1}function Ka(c){const i=Object.assign(Object.assign({},h.userAuthentication),c.userAuthentication);return"customHandler"in i&&i.customHandler!=null?i.customHandler:Ba(i)}function Xa(c,i){let l;return"channelAuthorization"in c?l=Object.assign(Object.assign({},h.channelAuthorization),c.channelAuthorization):(l={transport:c.authTransport||h.authTransport,endpoint:c.authEndpoint||h.authEndpoint},"auth"in c&&("params"in c.auth&&(l.params=c.auth.params),"headers"in c.auth&&(l.headers=c.auth.headers)),"authorizer"in c&&(l.customHandler=Ha(i,l,c.authorizer))),l}function Ga(c,i){const l=Xa(c,i);return"customHandler"in l&&l.customHandler!=null?l.customHandler:ja(l)}class Qa extends me{constructor(i){super(function(l,d){j.debug(`No callbacks on watchlist events for ${l}`)}),this.pusher=i,this.bindWatchlistInternalEvent()}handleEvent(i){i.data.events.forEach(l=>{this.emit(l.name,l)})}bindWatchlistInternalEvent(){this.pusher.connection.bind("message",i=>{var l=i.event;l==="pusher_internal:watchlist_events"&&this.handleEvent(i)})}}function Ya(){let c,i;return{promise:new Promise((d,f)=>{c=d,i=f}),resolve:c,reject:i}}var Za=Ya;class el extends me{constructor(i){super(function(l,d){j.debug("No callbacks on user for "+l)}),this.signin_requested=!1,this.user_data=null,this.serverToUserChannel=null,this.signinDonePromise=null,this._signinDoneResolve=null,this._onAuthorize=(l,d)=>{if(l){j.warn(`Error during signin: ${l}`),this._cleanup();return}this.pusher.send_event("pusher:signin",{auth:d.auth,user_data:d.user_data})},this.pusher=i,this.pusher.connection.bind("state_change",({previous:l,current:d})=>{l!=="connected"&&d==="connected"&&this._signin(),l==="connected"&&d!=="connected"&&(this._cleanup(),this._newSigninPromiseIfNeeded())}),this.watchlist=new Qa(i),this.pusher.connection.bind("message",l=>{var d=l.event;d==="pusher:signin_success"&&this._onSigninSuccess(l.data),this.serverToUserChannel&&this.serverToUserChannel.name===l.channel&&this.serverToUserChannel.handleEvent(l)})}signin(){this.signin_requested||(this.signin_requested=!0,this._signin())}_signin(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))}_onSigninSuccess(i){try{this.user_data=JSON.parse(i.user_data)}catch{j.error(`Failed parsing user data after signin: ${i.user_data}`),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){j.error(`user_data doesn't contain an id. user_data: ${this.user_data}`),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()}_subscribeChannels(){const i=l=>{l.subscriptionPending&&l.subscriptionCancelled?l.reinstateSubscription():!l.subscriptionPending&&this.pusher.connection.state==="connected"&&l.subscribe()};this.serverToUserChannel=new nn(`#server-to-user-${this.user_data.id}`,this.pusher),this.serverToUserChannel.bind_global((l,d)=>{l.indexOf("pusher_internal:")===0||l.indexOf("pusher:")===0||this.emit(l,d)}),i(this.serverToUserChannel)}_cleanup(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()}_newSigninPromiseIfNeeded(){if(!this.signin_requested||this.signinDonePromise&&!this.signinDonePromise.done)return;const{promise:i,resolve:l}=Za();i.done=!1;const d=()=>{i.done=!0};i.then(d).catch(d),this.signinDonePromise=i,this._signinDoneResolve=l}}class J{static ready(){J.isReady=!0;for(var i=0,l=J.instances.length;i<l;i++)J.instances[i].connect()}static getClientFeatures(){return wr(Sr({ws:P.Transports.ws},function(i){return i.isSupported({})}))}constructor(i,l){tl(i),La(l),this.key=i,this.config=$a(l,this),this.channels=ge.createChannels(),this.global_emitter=new me,this.sessionID=P.randomInt(1e9),this.timeline=new Pa(this.key,this.sessionID,{cluster:this.config.cluster,features:J.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:_t.INFO,version:h.VERSION}),this.config.enableStats&&(this.timelineSender=ge.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+P.TimelineTransport.name}));var d=f=>P.getDefaultStrategy(this.config,f,Da);this.connection=ge.createConnectionManager(this.key,{getStrategy:d,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:!!this.config.useTLS}),this.connection.bind("connected",()=>{this.subscribeAll(),this.timelineSender&&this.timelineSender.send(this.connection.isUsingTLS())}),this.connection.bind("message",f=>{var _=f.event,x=_.indexOf("pusher_internal:")===0;if(f.channel){var T=this.channel(f.channel);T&&T.handleEvent(f)}x||this.global_emitter.emit(f.event,f.data)}),this.connection.bind("connecting",()=>{this.channels.disconnect()}),this.connection.bind("disconnected",()=>{this.channels.disconnect()}),this.connection.bind("error",f=>{j.warn(f)}),J.instances.push(this),this.timeline.info({instances:J.instances.length}),this.user=new el(this),J.isReady&&this.connect()}channel(i){return this.channels.find(i)}allChannels(){return this.channels.all()}connect(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var i=this.connection.isUsingTLS(),l=this.timelineSender;this.timelineSenderTimer=new Xe(6e4,function(){l.send(i)})}}disconnect(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)}bind(i,l,d){return this.global_emitter.bind(i,l,d),this}unbind(i,l,d){return this.global_emitter.unbind(i,l,d),this}bind_global(i){return this.global_emitter.bind_global(i),this}unbind_global(i){return this.global_emitter.unbind_global(i),this}unbind_all(i){return this.global_emitter.unbind_all(),this}subscribeAll(){var i;for(i in this.channels.channels)this.channels.channels.hasOwnProperty(i)&&this.subscribe(i)}subscribe(i){var l=this.channels.add(i,this);return l.subscriptionPending&&l.subscriptionCancelled?l.reinstateSubscription():!l.subscriptionPending&&this.connection.state==="connected"&&l.subscribe(),l}unsubscribe(i){var l=this.channels.find(i);l&&l.subscriptionPending?l.cancelSubscription():(l=this.channels.remove(i),l&&l.subscribed&&l.unsubscribe())}send_event(i,l,d){return this.connection.send_event(i,l,d)}shouldUseTLS(){return this.config.useTLS}signin(){this.user.signin()}}J.instances=[],J.isReady=!1,J.logToConsole=!1,J.Runtime=P,J.ScriptReceivers=P.ScriptReceivers,J.DependenciesReceivers=P.DependenciesReceivers,J.auth_callbacks=P.auth_callbacks;var un=r.default=J;function tl(c){if(c==null)throw"You must pass your app key when you instantiate Pusher."}P.setup(J)})])})})(gn)),gn.exports}var Xc=Kc();const Gc=Jc(Xc);window.Pusher=Gc;window.Echo=new Vc({broadcaster:"pusher",key:"b58e597a09d552955fc8",cluster:"ap1",forceTLS:!0,encrypted:!0,authEndpoint:"/broadcasting/auth",auth:{headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.content}}});window.axios=$;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var kn=!1,Tn=!1,Ae=[],An=-1;function Qc(e){Yc(e)}function Yc(e){Ae.includes(e)||Ae.push(e),eu()}function Zc(e){let t=Ae.indexOf(e);t!==-1&&t>An&&Ae.splice(t,1)}function eu(){!Tn&&!kn&&(kn=!0,queueMicrotask(tu))}function tu(){kn=!1,Tn=!0;for(let e=0;e<Ae.length;e++)Ae[e](),An=e;Ae.length=0,An=-1,Tn=!1}var qe,Me,ze,Zi,Rn=!0;function nu(e){Rn=!1,e(),Rn=!0}function ru(e){qe=e.reactive,ze=e.release,Me=t=>e.effect(t,{scheduler:n=>{Rn?Qc(n):n()}}),Zi=e.raw}function li(e){Me=e}function iu(e){let t=()=>{};return[r=>{let s=Me(r);return e._x_effects||(e._x_effects=new Set,e._x_runEffects=()=>{e._x_effects.forEach(o=>o())}),e._x_effects.add(s),t=()=>{s!==void 0&&(e._x_effects.delete(s),ze(s))},s},()=>{t()}]}function es(e,t){let n=!0,r,s=Me(()=>{let o=e();JSON.stringify(o),n?r=o:queueMicrotask(()=>{t(o,r),r=o}),n=!1});return()=>ze(s)}var ts=[],ns=[],rs=[];function su(e){rs.push(e)}function Gn(e,t){typeof t=="function"?(e._x_cleanups||(e._x_cleanups=[]),e._x_cleanups.push(t)):(t=e,ns.push(t))}function is(e){ts.push(e)}function ss(e,t,n){e._x_attributeCleanups||(e._x_attributeCleanups={}),e._x_attributeCleanups[t]||(e._x_attributeCleanups[t]=[]),e._x_attributeCleanups[t].push(n)}function os(e,t){e._x_attributeCleanups&&Object.entries(e._x_attributeCleanups).forEach(([n,r])=>{(t===void 0||t.includes(n))&&(r.forEach(s=>s()),delete e._x_attributeCleanups[n])})}function ou(e){for(e._x_effects?.forEach(Zc);e._x_cleanups?.length;)e._x_cleanups.pop()()}var Qn=new MutationObserver(tr),Yn=!1;function Zn(){Qn.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),Yn=!0}function as(){au(),Qn.disconnect(),Yn=!1}var et=[];function au(){let e=Qn.takeRecords();et.push(()=>e.length>0&&tr(e));let t=et.length;queueMicrotask(()=>{if(et.length===t)for(;et.length>0;)et.shift()()})}function H(e){if(!Yn)return e();as();let t=e();return Zn(),t}var er=!1,Lt=[];function lu(){er=!0}function cu(){er=!1,tr(Lt),Lt=[]}function tr(e){if(er){Lt=Lt.concat(e);return}let t=[],n=new Set,r=new Map,s=new Map;for(let o=0;o<e.length;o++)if(!e[o].target._x_ignoreMutationObserver&&(e[o].type==="childList"&&(e[o].removedNodes.forEach(a=>{a.nodeType===1&&a._x_marker&&n.add(a)}),e[o].addedNodes.forEach(a=>{if(a.nodeType===1){if(n.has(a)){n.delete(a);return}a._x_marker||t.push(a)}})),e[o].type==="attributes")){let a=e[o].target,u=e[o].attributeName,h=e[o].oldValue,m=()=>{r.has(a)||r.set(a,[]),r.get(a).push({name:u,value:a.getAttribute(u)})},p=()=>{s.has(a)||s.set(a,[]),s.get(a).push(u)};a.hasAttribute(u)&&h===null?m():a.hasAttribute(u)?(p(),m()):p()}s.forEach((o,a)=>{os(a,o)}),r.forEach((o,a)=>{ts.forEach(u=>u(a,o))});for(let o of n)t.some(a=>a.contains(o))||ns.forEach(a=>a(o));for(let o of t)o.isConnected&&rs.forEach(a=>a(o));t=null,n=null,r=null,s=null}function ls(e){return ht(Ue(e))}function dt(e,t,n){return e._x_dataStack=[t,...Ue(n||e)],()=>{e._x_dataStack=e._x_dataStack.filter(r=>r!==t)}}function Ue(e){return e._x_dataStack?e._x_dataStack:typeof ShadowRoot=="function"&&e instanceof ShadowRoot?Ue(e.host):e.parentNode?Ue(e.parentNode):[]}function ht(e){return new Proxy({objects:e},uu)}var uu={ownKeys({objects:e}){return Array.from(new Set(e.flatMap(t=>Object.keys(t))))},has({objects:e},t){return t==Symbol.unscopables?!1:e.some(n=>Object.prototype.hasOwnProperty.call(n,t)||Reflect.has(n,t))},get({objects:e},t,n){return t=="toJSON"?du:Reflect.get(e.find(r=>Reflect.has(r,t))||{},t,n)},set({objects:e},t,n,r){const s=e.find(a=>Object.prototype.hasOwnProperty.call(a,t))||e[e.length-1],o=Object.getOwnPropertyDescriptor(s,t);return o?.set&&o?.get?o.set.call(r,n)||!0:Reflect.set(s,t,n)}};function du(){return Reflect.ownKeys(this).reduce((t,n)=>(t[n]=Reflect.get(this,n),t),{})}function cs(e){let t=r=>typeof r=="object"&&!Array.isArray(r)&&r!==null,n=(r,s="")=>{Object.entries(Object.getOwnPropertyDescriptors(r)).forEach(([o,{value:a,enumerable:u}])=>{if(u===!1||a===void 0||typeof a=="object"&&a!==null&&a.__v_skip)return;let h=s===""?o:`${s}.${o}`;typeof a=="object"&&a!==null&&a._x_interceptor?r[o]=a.initialize(e,h,o):t(a)&&a!==r&&!(a instanceof Element)&&n(a,h)})};return n(e)}function us(e,t=()=>{}){let n={initialValue:void 0,_x_interceptor:!0,initialize(r,s,o){return e(this.initialValue,()=>hu(r,s),a=>Pn(r,s,a),s,o)}};return t(n),r=>{if(typeof r=="object"&&r!==null&&r._x_interceptor){let s=n.initialize.bind(n);n.initialize=(o,a,u)=>{let h=r.initialize(o,a,u);return n.initialValue=h,s(o,a,u)}}else n.initialValue=r;return n}}function hu(e,t){return t.split(".").reduce((n,r)=>n[r],e)}function Pn(e,t,n){if(typeof t=="string"&&(t=t.split(".")),t.length===1)e[t[0]]=n;else{if(t.length===0)throw error;return e[t[0]]||(e[t[0]]={}),Pn(e[t[0]],t.slice(1),n)}}var ds={};function oe(e,t){ds[e]=t}function On(e,t){let n=fu(t);return Object.entries(ds).forEach(([r,s])=>{Object.defineProperty(e,`$${r}`,{get(){return s(t,n)},enumerable:!1})}),e}function fu(e){let[t,n]=bs(e),r={interceptor:us,...t};return Gn(e,n),r}function pu(e,t,n,...r){try{return n(...r)}catch(s){ot(s,e,t)}}function ot(e,t,n=void 0){e=Object.assign(e??{message:"No error message given."},{el:t,expression:n}),console.warn(`Alpine Expression Error: ${e.message}

${n?'Expression: "'+n+`"

`:""}`,t),setTimeout(()=>{throw e},0)}var Ot=!0;function hs(e){let t=Ot;Ot=!1;let n=e();return Ot=t,n}function Re(e,t,n={}){let r;return G(e,t)(s=>r=s,n),r}function G(...e){return fs(...e)}var fs=ps;function mu(e){fs=e}function ps(e,t){let n={};On(n,e);let r=[n,...Ue(e)],s=typeof t=="function"?gu(r,t):yu(r,t,e);return pu.bind(null,e,t,s)}function gu(e,t){return(n=()=>{},{scope:r={},params:s=[],context:o}={})=>{let a=t.apply(ht([r,...e]),s);Nt(n,a)}}var bn={};function bu(e,t){if(bn[e])return bn[e];let n=Object.getPrototypeOf(async function(){}).constructor,r=/^[\n\s]*if.*\(.*\)/.test(e.trim())||/^(let|const)\s/.test(e.trim())?`(async()=>{ ${e} })()`:e,o=(()=>{try{let a=new n(["__self","scope"],`with (scope) { __self.result = ${r} }; __self.finished = true; return __self.result;`);return Object.defineProperty(a,"name",{value:`[Alpine] ${e}`}),a}catch(a){return ot(a,t,e),Promise.resolve()}})();return bn[e]=o,o}function yu(e,t,n){let r=bu(t,n);return(s=()=>{},{scope:o={},params:a=[],context:u}={})=>{r.result=void 0,r.finished=!1;let h=ht([o,...e]);if(typeof r=="function"){let m=r.call(u,r,h).catch(p=>ot(p,n,t));r.finished?(Nt(s,r.result,h,a,n),r.result=void 0):m.then(p=>{Nt(s,p,h,a,n)}).catch(p=>ot(p,n,t)).finally(()=>r.result=void 0)}}}function Nt(e,t,n,r,s){if(Ot&&typeof t=="function"){let o=t.apply(n,r);o instanceof Promise?o.then(a=>Nt(e,a,n,r)).catch(a=>ot(a,s,t)):e(o)}else typeof t=="object"&&t instanceof Promise?t.then(o=>e(o)):e(t)}var nr="x-";function We(e=""){return nr+e}function wu(e){nr=e}var Bt={};function z(e,t){return Bt[e]=t,{before(n){if(!Bt[n]){console.warn(String.raw`Cannot find directive \`${n}\`. \`${e}\` will use the default order of execution`);return}const r=ke.indexOf(n);ke.splice(r>=0?r:ke.indexOf("DEFAULT"),0,e)}}}function _u(e){return Object.keys(Bt).includes(e)}function rr(e,t,n){if(t=Array.from(t),e._x_virtualDirectives){let o=Object.entries(e._x_virtualDirectives).map(([u,h])=>({name:u,value:h})),a=ms(o);o=o.map(u=>a.find(h=>h.name===u.name)?{name:`x-bind:${u.name}`,value:`"${u.value}"`}:u),t=t.concat(o)}let r={};return t.map(_s((o,a)=>r[o]=a)).filter(Ss).map(Fu(r,n)).sort(xu).map(o=>Su(e,o))}function ms(e){return Array.from(e).map(_s()).filter(t=>!Ss(t))}var In=!1,rt=new Map,gs=Symbol();function vu(e){In=!0;let t=Symbol();gs=t,rt.set(t,[]);let n=()=>{for(;rt.get(t).length;)rt.get(t).shift()();rt.delete(t)},r=()=>{In=!1,n()};e(n),r()}function bs(e){let t=[],n=u=>t.push(u),[r,s]=iu(e);return t.push(s),[{Alpine:ft,effect:r,cleanup:n,evaluateLater:G.bind(G,e),evaluate:Re.bind(Re,e)},()=>t.forEach(u=>u())]}function Su(e,t){let n=()=>{},r=Bt[t.type]||n,[s,o]=bs(e);ss(e,t.original,o);let a=()=>{e._x_ignore||e._x_ignoreSelf||(r.inline&&r.inline(e,t,s),r=r.bind(r,e,t,s),In?rt.get(gs).push(r):r())};return a.runCleanups=o,a}var ys=(e,t)=>({name:n,value:r})=>(n.startsWith(e)&&(n=n.replace(e,t)),{name:n,value:r}),ws=e=>e;function _s(e=()=>{}){return({name:t,value:n})=>{let{name:r,value:s}=vs.reduce((o,a)=>a(o),{name:t,value:n});return r!==t&&e(r,t),{name:r,value:s}}}var vs=[];function ir(e){vs.push(e)}function Ss({name:e}){return Fs().test(e)}var Fs=()=>new RegExp(`^${nr}([^:^.]+)\\b`);function Fu(e,t){return({name:n,value:r})=>{let s=n.match(Fs()),o=n.match(/:([a-zA-Z0-9\-_:]+)/),a=n.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],u=t||e[n]||n;return{type:s?s[1]:null,value:o?o[1]:null,modifiers:a.map(h=>h.replace(".","")),expression:r,original:u}}}var Dn="DEFAULT",ke=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",Dn,"teleport"];function xu(e,t){let n=ke.indexOf(e.type)===-1?Dn:e.type,r=ke.indexOf(t.type)===-1?Dn:t.type;return ke.indexOf(n)-ke.indexOf(r)}function it(e,t,n={}){e.dispatchEvent(new CustomEvent(t,{detail:n,bubbles:!0,composed:!0,cancelable:!0}))}function De(e,t){if(typeof ShadowRoot=="function"&&e instanceof ShadowRoot){Array.from(e.children).forEach(s=>De(s,t));return}let n=!1;if(t(e,()=>n=!0),n)return;let r=e.firstElementChild;for(;r;)De(r,t),r=r.nextElementSibling}function re(e,...t){console.warn(`Alpine Warning: ${e}`,...t)}var ci=!1;function Cu(){ci&&re("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),ci=!0,document.body||re("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),it(document,"alpine:init"),it(document,"alpine:initializing"),Zn(),su(t=>be(t,De)),Gn(t=>Je(t)),is((t,n)=>{rr(t,n).forEach(r=>r())});let e=t=>!Wt(t.parentElement,!0);Array.from(document.querySelectorAll(Es().join(","))).filter(e).forEach(t=>{be(t)}),it(document,"alpine:initialized"),setTimeout(()=>{Au()})}var sr=[],xs=[];function Cs(){return sr.map(e=>e())}function Es(){return sr.concat(xs).map(e=>e())}function ks(e){sr.push(e)}function Ts(e){xs.push(e)}function Wt(e,t=!1){return Ve(e,n=>{if((t?Es():Cs()).some(s=>n.matches(s)))return!0})}function Ve(e,t){if(e){if(t(e))return e;if(e._x_teleportBack&&(e=e._x_teleportBack),!!e.parentElement)return Ve(e.parentElement,t)}}function Eu(e){return Cs().some(t=>e.matches(t))}var As=[];function ku(e){As.push(e)}var Tu=1;function be(e,t=De,n=()=>{}){Ve(e,r=>r._x_ignore)||vu(()=>{t(e,(r,s)=>{r._x_marker||(n(r,s),As.forEach(o=>o(r,s)),rr(r,r.attributes).forEach(o=>o()),r._x_ignore||(r._x_marker=Tu++),r._x_ignore&&s())})})}function Je(e,t=De){t(e,n=>{ou(n),os(n),delete n._x_marker})}function Au(){[["ui","dialog",["[x-dialog], [x-popover]"]],["anchor","anchor",["[x-anchor]"]],["sort","sort",["[x-sort]"]]].forEach(([t,n,r])=>{_u(n)||r.some(s=>{if(document.querySelector(s))return re(`found "${s}", but missing ${t} plugin`),!0})})}var Mn=[],or=!1;function ar(e=()=>{}){return queueMicrotask(()=>{or||setTimeout(()=>{Ln()})}),new Promise(t=>{Mn.push(()=>{e(),t()})})}function Ln(){for(or=!1;Mn.length;)Mn.shift()()}function Ru(){or=!0}function lr(e,t){return Array.isArray(t)?ui(e,t.join(" ")):typeof t=="object"&&t!==null?Pu(e,t):typeof t=="function"?lr(e,t()):ui(e,t)}function ui(e,t){let n=s=>s.split(" ").filter(o=>!e.classList.contains(o)).filter(Boolean),r=s=>(e.classList.add(...s),()=>{e.classList.remove(...s)});return t=t===!0?t="":t||"",r(n(t))}function Pu(e,t){let n=u=>u.split(" ").filter(Boolean),r=Object.entries(t).flatMap(([u,h])=>h?n(u):!1).filter(Boolean),s=Object.entries(t).flatMap(([u,h])=>h?!1:n(u)).filter(Boolean),o=[],a=[];return s.forEach(u=>{e.classList.contains(u)&&(e.classList.remove(u),a.push(u))}),r.forEach(u=>{e.classList.contains(u)||(e.classList.add(u),o.push(u))}),()=>{a.forEach(u=>e.classList.add(u)),o.forEach(u=>e.classList.remove(u))}}function Vt(e,t){return typeof t=="object"&&t!==null?Ou(e,t):Iu(e,t)}function Ou(e,t){let n={};return Object.entries(t).forEach(([r,s])=>{n[r]=e.style[r],r.startsWith("--")||(r=Du(r)),e.style.setProperty(r,s)}),setTimeout(()=>{e.style.length===0&&e.removeAttribute("style")}),()=>{Vt(e,n)}}function Iu(e,t){let n=e.getAttribute("style",t);return e.setAttribute("style",t),()=>{e.setAttribute("style",n||"")}}function Du(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Nn(e,t=()=>{}){let n=!1;return function(){n?t.apply(this,arguments):(n=!0,e.apply(this,arguments))}}z("transition",(e,{value:t,modifiers:n,expression:r},{evaluate:s})=>{typeof r=="function"&&(r=s(r)),r!==!1&&(!r||typeof r=="boolean"?Lu(e,n,t):Mu(e,r,t))});function Mu(e,t,n){Rs(e,lr,""),{enter:s=>{e._x_transition.enter.during=s},"enter-start":s=>{e._x_transition.enter.start=s},"enter-end":s=>{e._x_transition.enter.end=s},leave:s=>{e._x_transition.leave.during=s},"leave-start":s=>{e._x_transition.leave.start=s},"leave-end":s=>{e._x_transition.leave.end=s}}[n](t)}function Lu(e,t,n){Rs(e,Vt);let r=!t.includes("in")&&!t.includes("out")&&!n,s=r||t.includes("in")||["enter"].includes(n),o=r||t.includes("out")||["leave"].includes(n);t.includes("in")&&!r&&(t=t.filter((v,E)=>E<t.indexOf("out"))),t.includes("out")&&!r&&(t=t.filter((v,E)=>E>t.indexOf("out")));let a=!t.includes("opacity")&&!t.includes("scale"),u=a||t.includes("opacity"),h=a||t.includes("scale"),m=u?0:1,p=h?tt(t,"scale",95)/100:1,b=tt(t,"delay",0)/1e3,S=tt(t,"origin","center"),C="opacity, transform",w=tt(t,"duration",150)/1e3,F=tt(t,"duration",75)/1e3,g="cubic-bezier(0.4, 0.0, 0.2, 1)";s&&(e._x_transition.enter.during={transformOrigin:S,transitionDelay:`${b}s`,transitionProperty:C,transitionDuration:`${w}s`,transitionTimingFunction:g},e._x_transition.enter.start={opacity:m,transform:`scale(${p})`},e._x_transition.enter.end={opacity:1,transform:"scale(1)"}),o&&(e._x_transition.leave.during={transformOrigin:S,transitionDelay:`${b}s`,transitionProperty:C,transitionDuration:`${F}s`,transitionTimingFunction:g},e._x_transition.leave.start={opacity:1,transform:"scale(1)"},e._x_transition.leave.end={opacity:m,transform:`scale(${p})`})}function Rs(e,t,n={}){e._x_transition||(e._x_transition={enter:{during:n,start:n,end:n},leave:{during:n,start:n,end:n},in(r=()=>{},s=()=>{}){Bn(e,t,{during:this.enter.during,start:this.enter.start,end:this.enter.end},r,s)},out(r=()=>{},s=()=>{}){Bn(e,t,{during:this.leave.during,start:this.leave.start,end:this.leave.end},r,s)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(e,t,n,r){const s=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let o=()=>s(n);if(t){e._x_transition&&(e._x_transition.enter||e._x_transition.leave)?e._x_transition.enter&&(Object.entries(e._x_transition.enter.during).length||Object.entries(e._x_transition.enter.start).length||Object.entries(e._x_transition.enter.end).length)?e._x_transition.in(n):o():e._x_transition?e._x_transition.in(n):o();return}e._x_hidePromise=e._x_transition?new Promise((a,u)=>{e._x_transition.out(()=>{},()=>a(r)),e._x_transitioning&&e._x_transitioning.beforeCancel(()=>u({isFromCancelledTransition:!0}))}):Promise.resolve(r),queueMicrotask(()=>{let a=Ps(e);a?(a._x_hideChildren||(a._x_hideChildren=[]),a._x_hideChildren.push(e)):s(()=>{let u=h=>{let m=Promise.all([h._x_hidePromise,...(h._x_hideChildren||[]).map(u)]).then(([p])=>p?.());return delete h._x_hidePromise,delete h._x_hideChildren,m};u(e).catch(h=>{if(!h.isFromCancelledTransition)throw h})})})};function Ps(e){let t=e.parentNode;if(t)return t._x_hidePromise?t:Ps(t)}function Bn(e,t,{during:n,start:r,end:s}={},o=()=>{},a=()=>{}){if(e._x_transitioning&&e._x_transitioning.cancel(),Object.keys(n).length===0&&Object.keys(r).length===0&&Object.keys(s).length===0){o(),a();return}let u,h,m;Nu(e,{start(){u=t(e,r)},during(){h=t(e,n)},before:o,end(){u(),m=t(e,s)},after:a,cleanup(){h(),m()}})}function Nu(e,t){let n,r,s,o=Nn(()=>{H(()=>{n=!0,r||t.before(),s||(t.end(),Ln()),t.after(),e.isConnected&&t.cleanup(),delete e._x_transitioning})});e._x_transitioning={beforeCancels:[],beforeCancel(a){this.beforeCancels.push(a)},cancel:Nn(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();o()}),finish:o},H(()=>{t.start(),t.during()}),Ru(),requestAnimationFrame(()=>{if(n)return;let a=Number(getComputedStyle(e).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,u=Number(getComputedStyle(e).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;a===0&&(a=Number(getComputedStyle(e).animationDuration.replace("s",""))*1e3),H(()=>{t.before()}),r=!0,requestAnimationFrame(()=>{n||(H(()=>{t.end()}),Ln(),setTimeout(e._x_transitioning.finish,a+u),s=!0)})})}function tt(e,t,n){if(e.indexOf(t)===-1)return n;const r=e[e.indexOf(t)+1];if(!r||t==="scale"&&isNaN(r))return n;if(t==="duration"||t==="delay"){let s=r.match(/([0-9]+)ms/);if(s)return s[1]}return t==="origin"&&["top","right","left","center","bottom"].includes(e[e.indexOf(t)+2])?[r,e[e.indexOf(t)+2]].join(" "):r}var we=!1;function ve(e,t=()=>{}){return(...n)=>we?t(...n):e(...n)}function Bu(e){return(...t)=>we&&e(...t)}var Os=[];function Jt(e){Os.push(e)}function Uu(e,t){Os.forEach(n=>n(e,t)),we=!0,Is(()=>{be(t,(n,r)=>{r(n,()=>{})})}),we=!1}var Un=!1;function ju(e,t){t._x_dataStack||(t._x_dataStack=e._x_dataStack),we=!0,Un=!0,Is(()=>{Hu(t)}),we=!1,Un=!1}function Hu(e){let t=!1;be(e,(r,s)=>{De(r,(o,a)=>{if(t&&Eu(o))return a();t=!0,s(o,a)})})}function Is(e){let t=Me;li((n,r)=>{let s=t(n);return ze(s),()=>{}}),e(),li(t)}function Ds(e,t,n,r=[]){switch(e._x_bindings||(e._x_bindings=qe({})),e._x_bindings[t]=n,t=r.includes("camel")?Xu(t):t,t){case"value":$u(e,n);break;case"style":zu(e,n);break;case"class":qu(e,n);break;case"selected":case"checked":Wu(e,t,n);break;default:Ms(e,t,n);break}}function $u(e,t){if(Bs(e))e.attributes.value===void 0&&(e.value=t),window.fromModel&&(typeof t=="boolean"?e.checked=It(e.value)===t:e.checked=di(e.value,t));else if(cr(e))Number.isInteger(t)?e.value=t:!Array.isArray(t)&&typeof t!="boolean"&&![null,void 0].includes(t)?e.value=String(t):Array.isArray(t)?e.checked=t.some(n=>di(n,e.value)):e.checked=!!t;else if(e.tagName==="SELECT")Ku(e,t);else{if(e.value===t)return;e.value=t===void 0?"":t}}function qu(e,t){e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedClasses=lr(e,t)}function zu(e,t){e._x_undoAddedStyles&&e._x_undoAddedStyles(),e._x_undoAddedStyles=Vt(e,t)}function Wu(e,t,n){Ms(e,t,n),Ju(e,t,n)}function Ms(e,t,n){[null,void 0,!1].includes(n)&&Qu(t)?e.removeAttribute(t):(Ls(t)&&(n=t),Vu(e,t,n))}function Vu(e,t,n){e.getAttribute(t)!=n&&e.setAttribute(t,n)}function Ju(e,t,n){e[t]!==n&&(e[t]=n)}function Ku(e,t){const n=[].concat(t).map(r=>r+"");Array.from(e.options).forEach(r=>{r.selected=n.includes(r.value)})}function Xu(e){return e.toLowerCase().replace(/-(\w)/g,(t,n)=>n.toUpperCase())}function di(e,t){return e==t}function It(e){return[1,"1","true","on","yes",!0].includes(e)?!0:[0,"0","false","off","no",!1].includes(e)?!1:e?!!e:null}var Gu=new Set(["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected","shadowrootclonable","shadowrootdelegatesfocus","shadowrootserializable"]);function Ls(e){return Gu.has(e)}function Qu(e){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(e)}function Yu(e,t,n){return e._x_bindings&&e._x_bindings[t]!==void 0?e._x_bindings[t]:Ns(e,t,n)}function Zu(e,t,n,r=!0){if(e._x_bindings&&e._x_bindings[t]!==void 0)return e._x_bindings[t];if(e._x_inlineBindings&&e._x_inlineBindings[t]!==void 0){let s=e._x_inlineBindings[t];return s.extract=r,hs(()=>Re(e,s.expression))}return Ns(e,t,n)}function Ns(e,t,n){let r=e.getAttribute(t);return r===null?typeof n=="function"?n():n:r===""?!0:Ls(t)?!![t,"true"].includes(r):r}function cr(e){return e.type==="checkbox"||e.localName==="ui-checkbox"||e.localName==="ui-switch"}function Bs(e){return e.type==="radio"||e.localName==="ui-radio"}function Us(e,t){let n;return function(){const r=this,s=arguments,o=function(){n=null,e.apply(r,s)};clearTimeout(n),n=setTimeout(o,t)}}function js(e,t){let n;return function(){let r=this,s=arguments;n||(e.apply(r,s),n=!0,setTimeout(()=>n=!1,t))}}function Hs({get:e,set:t},{get:n,set:r}){let s=!0,o,a=Me(()=>{let u=e(),h=n();if(s)r(yn(u)),s=!1;else{let m=JSON.stringify(u),p=JSON.stringify(h);m!==o?r(yn(u)):m!==p&&t(yn(h))}o=JSON.stringify(e()),JSON.stringify(n())});return()=>{ze(a)}}function yn(e){return typeof e=="object"?JSON.parse(JSON.stringify(e)):e}function ed(e){(Array.isArray(e)?e:[e]).forEach(n=>n(ft))}var Ce={},hi=!1;function td(e,t){if(hi||(Ce=qe(Ce),hi=!0),t===void 0)return Ce[e];Ce[e]=t,cs(Ce[e]),typeof t=="object"&&t!==null&&t.hasOwnProperty("init")&&typeof t.init=="function"&&Ce[e].init()}function nd(){return Ce}var $s={};function rd(e,t){let n=typeof t!="function"?()=>t:t;return e instanceof Element?qs(e,n()):($s[e]=n,()=>{})}function id(e){return Object.entries($s).forEach(([t,n])=>{Object.defineProperty(e,t,{get(){return(...r)=>n(...r)}})}),e}function qs(e,t,n){let r=[];for(;r.length;)r.pop()();let s=Object.entries(t).map(([a,u])=>({name:a,value:u})),o=ms(s);return s=s.map(a=>o.find(u=>u.name===a.name)?{name:`x-bind:${a.name}`,value:`"${a.value}"`}:a),rr(e,s,n).map(a=>{r.push(a.runCleanups),a()}),()=>{for(;r.length;)r.pop()()}}var zs={};function sd(e,t){zs[e]=t}function od(e,t){return Object.entries(zs).forEach(([n,r])=>{Object.defineProperty(e,n,{get(){return(...s)=>r.bind(t)(...s)},enumerable:!1})}),e}var ad={get reactive(){return qe},get release(){return ze},get effect(){return Me},get raw(){return Zi},version:"3.15.0",flushAndStopDeferringMutations:cu,dontAutoEvaluateFunctions:hs,disableEffectScheduling:nu,startObservingMutations:Zn,stopObservingMutations:as,setReactivityEngine:ru,onAttributeRemoved:ss,onAttributesAdded:is,closestDataStack:Ue,skipDuringClone:ve,onlyDuringClone:Bu,addRootSelector:ks,addInitSelector:Ts,interceptClone:Jt,addScopeToNode:dt,deferMutations:lu,mapAttributes:ir,evaluateLater:G,interceptInit:ku,setEvaluator:mu,mergeProxies:ht,extractProp:Zu,findClosest:Ve,onElRemoved:Gn,closestRoot:Wt,destroyTree:Je,interceptor:us,transition:Bn,setStyles:Vt,mutateDom:H,directive:z,entangle:Hs,throttle:js,debounce:Us,evaluate:Re,initTree:be,nextTick:ar,prefixed:We,prefix:wu,plugin:ed,magic:oe,store:td,start:Cu,clone:ju,cloneNode:Uu,bound:Yu,$data:ls,watch:es,walk:De,data:sd,bind:rd},ft=ad;function ld(e,t){const n=Object.create(null),r=e.split(",");for(let s=0;s<r.length;s++)n[r[s]]=!0;return s=>!!n[s]}var cd=Object.freeze({}),ud=Object.prototype.hasOwnProperty,Kt=(e,t)=>ud.call(e,t),Pe=Array.isArray,st=e=>Ws(e)==="[object Map]",dd=e=>typeof e=="string",ur=e=>typeof e=="symbol",Xt=e=>e!==null&&typeof e=="object",hd=Object.prototype.toString,Ws=e=>hd.call(e),Vs=e=>Ws(e).slice(8,-1),dr=e=>dd(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,fd=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},pd=fd(e=>e.charAt(0).toUpperCase()+e.slice(1)),Js=(e,t)=>e!==t&&(e===e||t===t),jn=new WeakMap,nt=[],he,Oe=Symbol("iterate"),Hn=Symbol("Map key iterate");function md(e){return e&&e._isEffect===!0}function gd(e,t=cd){md(e)&&(e=e.raw);const n=wd(e,t);return t.lazy||n(),n}function bd(e){e.active&&(Ks(e),e.options.onStop&&e.options.onStop(),e.active=!1)}var yd=0;function wd(e,t){const n=function(){if(!n.active)return e();if(!nt.includes(n)){Ks(n);try{return vd(),nt.push(n),he=n,e()}finally{nt.pop(),Xs(),he=nt[nt.length-1]}}};return n.id=yd++,n.allowRecurse=!!t.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=e,n.deps=[],n.options=t,n}function Ks(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}var je=!0,hr=[];function _d(){hr.push(je),je=!1}function vd(){hr.push(je),je=!0}function Xs(){const e=hr.pop();je=e===void 0?!0:e}function ie(e,t,n){if(!je||he===void 0)return;let r=jn.get(e);r||jn.set(e,r=new Map);let s=r.get(n);s||r.set(n,s=new Set),s.has(he)||(s.add(he),he.deps.push(s),he.options.onTrack&&he.options.onTrack({effect:he,target:e,type:t,key:n}))}function _e(e,t,n,r,s,o){const a=jn.get(e);if(!a)return;const u=new Set,h=p=>{p&&p.forEach(b=>{(b!==he||b.allowRecurse)&&u.add(b)})};if(t==="clear")a.forEach(h);else if(n==="length"&&Pe(e))a.forEach((p,b)=>{(b==="length"||b>=r)&&h(p)});else switch(n!==void 0&&h(a.get(n)),t){case"add":Pe(e)?dr(n)&&h(a.get("length")):(h(a.get(Oe)),st(e)&&h(a.get(Hn)));break;case"delete":Pe(e)||(h(a.get(Oe)),st(e)&&h(a.get(Hn)));break;case"set":st(e)&&h(a.get(Oe));break}const m=p=>{p.options.onTrigger&&p.options.onTrigger({effect:p,target:e,key:n,type:t,newValue:r,oldValue:s,oldTarget:o}),p.options.scheduler?p.options.scheduler(p):p()};u.forEach(m)}var Sd=ld("__proto__,__v_isRef,__isVue"),Gs=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(ur)),Fd=Qs(),xd=Qs(!0),fi=Cd();function Cd(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=U(this);for(let o=0,a=this.length;o<a;o++)ie(r,"get",o+"");const s=r[t](...n);return s===-1||s===!1?r[t](...n.map(U)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){_d();const r=U(this)[t].apply(this,n);return Xs(),r}}),e}function Qs(e=!1,t=!1){return function(r,s,o){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_raw"&&o===(e?t?Ud:to:t?Bd:eo).get(r))return r;const a=Pe(r);if(!e&&a&&Kt(fi,s))return Reflect.get(fi,s,o);const u=Reflect.get(r,s,o);return(ur(s)?Gs.has(s):Sd(s))||(e||ie(r,"get",s),t)?u:$n(u)?!a||!dr(s)?u.value:u:Xt(u)?e?no(u):gr(u):u}}var Ed=kd();function kd(e=!1){return function(n,r,s,o){let a=n[r];if(!e&&(s=U(s),a=U(a),!Pe(n)&&$n(a)&&!$n(s)))return a.value=s,!0;const u=Pe(n)&&dr(r)?Number(r)<n.length:Kt(n,r),h=Reflect.set(n,r,s,o);return n===U(o)&&(u?Js(s,a)&&_e(n,"set",r,s,a):_e(n,"add",r,s)),h}}function Td(e,t){const n=Kt(e,t),r=e[t],s=Reflect.deleteProperty(e,t);return s&&n&&_e(e,"delete",t,void 0,r),s}function Ad(e,t){const n=Reflect.has(e,t);return(!ur(t)||!Gs.has(t))&&ie(e,"has",t),n}function Rd(e){return ie(e,"iterate",Pe(e)?"length":Oe),Reflect.ownKeys(e)}var Pd={get:Fd,set:Ed,deleteProperty:Td,has:Ad,ownKeys:Rd},Od={get:xd,set(e,t){return console.warn(`Set operation on key "${String(t)}" failed: target is readonly.`,e),!0},deleteProperty(e,t){return console.warn(`Delete operation on key "${String(t)}" failed: target is readonly.`,e),!0}},fr=e=>Xt(e)?gr(e):e,pr=e=>Xt(e)?no(e):e,mr=e=>e,Gt=e=>Reflect.getPrototypeOf(e);function xt(e,t,n=!1,r=!1){e=e.__v_raw;const s=U(e),o=U(t);t!==o&&!n&&ie(s,"get",t),!n&&ie(s,"get",o);const{has:a}=Gt(s),u=r?mr:n?pr:fr;if(a.call(s,t))return u(e.get(t));if(a.call(s,o))return u(e.get(o));e!==s&&e.get(t)}function Ct(e,t=!1){const n=this.__v_raw,r=U(n),s=U(e);return e!==s&&!t&&ie(r,"has",e),!t&&ie(r,"has",s),e===s?n.has(e):n.has(e)||n.has(s)}function Et(e,t=!1){return e=e.__v_raw,!t&&ie(U(e),"iterate",Oe),Reflect.get(e,"size",e)}function pi(e){e=U(e);const t=U(this);return Gt(t).has.call(t,e)||(t.add(e),_e(t,"add",e,e)),this}function mi(e,t){t=U(t);const n=U(this),{has:r,get:s}=Gt(n);let o=r.call(n,e);o?Zs(n,r,e):(e=U(e),o=r.call(n,e));const a=s.call(n,e);return n.set(e,t),o?Js(t,a)&&_e(n,"set",e,t,a):_e(n,"add",e,t),this}function gi(e){const t=U(this),{has:n,get:r}=Gt(t);let s=n.call(t,e);s?Zs(t,n,e):(e=U(e),s=n.call(t,e));const o=r?r.call(t,e):void 0,a=t.delete(e);return s&&_e(t,"delete",e,void 0,o),a}function bi(){const e=U(this),t=e.size!==0,n=st(e)?new Map(e):new Set(e),r=e.clear();return t&&_e(e,"clear",void 0,void 0,n),r}function kt(e,t){return function(r,s){const o=this,a=o.__v_raw,u=U(a),h=t?mr:e?pr:fr;return!e&&ie(u,"iterate",Oe),a.forEach((m,p)=>r.call(s,h(m),h(p),o))}}function Tt(e,t,n){return function(...r){const s=this.__v_raw,o=U(s),a=st(o),u=e==="entries"||e===Symbol.iterator&&a,h=e==="keys"&&a,m=s[e](...r),p=n?mr:t?pr:fr;return!t&&ie(o,"iterate",h?Hn:Oe),{next(){const{value:b,done:S}=m.next();return S?{value:b,done:S}:{value:u?[p(b[0]),p(b[1])]:p(b),done:S}},[Symbol.iterator](){return this}}}}function ye(e){return function(...t){{const n=t[0]?`on key "${t[0]}" `:"";console.warn(`${pd(e)} operation ${n}failed: target is readonly.`,U(this))}return e==="delete"?!1:this}}function Id(){const e={get(o){return xt(this,o)},get size(){return Et(this)},has:Ct,add:pi,set:mi,delete:gi,clear:bi,forEach:kt(!1,!1)},t={get(o){return xt(this,o,!1,!0)},get size(){return Et(this)},has:Ct,add:pi,set:mi,delete:gi,clear:bi,forEach:kt(!1,!0)},n={get(o){return xt(this,o,!0)},get size(){return Et(this,!0)},has(o){return Ct.call(this,o,!0)},add:ye("add"),set:ye("set"),delete:ye("delete"),clear:ye("clear"),forEach:kt(!0,!1)},r={get(o){return xt(this,o,!0,!0)},get size(){return Et(this,!0)},has(o){return Ct.call(this,o,!0)},add:ye("add"),set:ye("set"),delete:ye("delete"),clear:ye("clear"),forEach:kt(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=Tt(o,!1,!1),n[o]=Tt(o,!0,!1),t[o]=Tt(o,!1,!0),r[o]=Tt(o,!0,!0)}),[e,n,t,r]}var[Dd,Md]=Id();function Ys(e,t){const n=e?Md:Dd;return(r,s,o)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(Kt(n,s)&&s in r?n:r,s,o)}var Ld={get:Ys(!1)},Nd={get:Ys(!0)};function Zs(e,t,n){const r=U(n);if(r!==n&&t.call(e,r)){const s=Vs(e);console.warn(`Reactive ${s} contains both the raw and reactive versions of the same object${s==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var eo=new WeakMap,Bd=new WeakMap,to=new WeakMap,Ud=new WeakMap;function jd(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Hd(e){return e.__v_skip||!Object.isExtensible(e)?0:jd(Vs(e))}function gr(e){return e&&e.__v_isReadonly?e:ro(e,!1,Pd,Ld,eo)}function no(e){return ro(e,!0,Od,Nd,to)}function ro(e,t,n,r,s){if(!Xt(e))return console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=s.get(e);if(o)return o;const a=Hd(e);if(a===0)return e;const u=new Proxy(e,a===2?r:n);return s.set(e,u),u}function U(e){return e&&U(e.__v_raw)||e}function $n(e){return!!(e&&e.__v_isRef===!0)}oe("nextTick",()=>ar);oe("dispatch",e=>it.bind(it,e));oe("watch",(e,{evaluateLater:t,cleanup:n})=>(r,s)=>{let o=t(r),u=es(()=>{let h;return o(m=>h=m),h},s);n(u)});oe("store",nd);oe("data",e=>ls(e));oe("root",e=>Wt(e));oe("refs",e=>(e._x_refs_proxy||(e._x_refs_proxy=ht($d(e))),e._x_refs_proxy));function $d(e){let t=[];return Ve(e,n=>{n._x_refs&&t.push(n._x_refs)}),t}var wn={};function io(e){return wn[e]||(wn[e]=0),++wn[e]}function qd(e,t){return Ve(e,n=>{if(n._x_ids&&n._x_ids[t])return!0})}function zd(e,t){e._x_ids||(e._x_ids={}),e._x_ids[t]||(e._x_ids[t]=io(t))}oe("id",(e,{cleanup:t})=>(n,r=null)=>{let s=`${n}${r?`-${r}`:""}`;return Wd(e,s,t,()=>{let o=qd(e,n),a=o?o._x_ids[n]:io(n);return r?`${n}-${a}-${r}`:`${n}-${a}`})});Jt((e,t)=>{e._x_id&&(t._x_id=e._x_id)});function Wd(e,t,n,r){if(e._x_id||(e._x_id={}),e._x_id[t])return e._x_id[t];let s=r();return e._x_id[t]=s,n(()=>{delete e._x_id[t]}),s}oe("el",e=>e);so("Focus","focus","focus");so("Persist","persist","persist");function so(e,t,n){oe(t,r=>re(`You can't use [$${t}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${n}`,r))}z("modelable",(e,{expression:t},{effect:n,evaluateLater:r,cleanup:s})=>{let o=r(t),a=()=>{let p;return o(b=>p=b),p},u=r(`${t} = __placeholder`),h=p=>u(()=>{},{scope:{__placeholder:p}}),m=a();h(m),queueMicrotask(()=>{if(!e._x_model)return;e._x_removeModelListeners.default();let p=e._x_model.get,b=e._x_model.set,S=Hs({get(){return p()},set(C){b(C)}},{get(){return a()},set(C){h(C)}});s(S)})});z("teleport",(e,{modifiers:t,expression:n},{cleanup:r})=>{e.tagName.toLowerCase()!=="template"&&re("x-teleport can only be used on a <template> tag",e);let s=yi(n),o=e.content.cloneNode(!0).firstElementChild;e._x_teleport=o,o._x_teleportBack=e,e.setAttribute("data-teleport-template",!0),o.setAttribute("data-teleport-target",!0),e._x_forwardEvents&&e._x_forwardEvents.forEach(u=>{o.addEventListener(u,h=>{h.stopPropagation(),e.dispatchEvent(new h.constructor(h.type,h))})}),dt(o,{},e);let a=(u,h,m)=>{m.includes("prepend")?h.parentNode.insertBefore(u,h):m.includes("append")?h.parentNode.insertBefore(u,h.nextSibling):h.appendChild(u)};H(()=>{a(o,s,t),ve(()=>{be(o)})()}),e._x_teleportPutBack=()=>{let u=yi(n);H(()=>{a(e._x_teleport,u,t)})},r(()=>H(()=>{o.remove(),Je(o)}))});var Vd=document.createElement("div");function yi(e){let t=ve(()=>document.querySelector(e),()=>Vd)();return t||re(`Cannot find x-teleport element for selector: "${e}"`),t}var oo=()=>{};oo.inline=(e,{modifiers:t},{cleanup:n})=>{t.includes("self")?e._x_ignoreSelf=!0:e._x_ignore=!0,n(()=>{t.includes("self")?delete e._x_ignoreSelf:delete e._x_ignore})};z("ignore",oo);z("effect",ve((e,{expression:t},{effect:n})=>{n(G(e,t))}));function qn(e,t,n,r){let s=e,o=h=>r(h),a={},u=(h,m)=>p=>m(h,p);if(n.includes("dot")&&(t=Jd(t)),n.includes("camel")&&(t=Kd(t)),n.includes("passive")&&(a.passive=!0),n.includes("capture")&&(a.capture=!0),n.includes("window")&&(s=window),n.includes("document")&&(s=document),n.includes("debounce")){let h=n[n.indexOf("debounce")+1]||"invalid-wait",m=Ut(h.split("ms")[0])?Number(h.split("ms")[0]):250;o=Us(o,m)}if(n.includes("throttle")){let h=n[n.indexOf("throttle")+1]||"invalid-wait",m=Ut(h.split("ms")[0])?Number(h.split("ms")[0]):250;o=js(o,m)}return n.includes("prevent")&&(o=u(o,(h,m)=>{m.preventDefault(),h(m)})),n.includes("stop")&&(o=u(o,(h,m)=>{m.stopPropagation(),h(m)})),n.includes("once")&&(o=u(o,(h,m)=>{h(m),s.removeEventListener(t,o,a)})),(n.includes("away")||n.includes("outside"))&&(s=document,o=u(o,(h,m)=>{e.contains(m.target)||m.target.isConnected!==!1&&(e.offsetWidth<1&&e.offsetHeight<1||e._x_isShown!==!1&&h(m))})),n.includes("self")&&(o=u(o,(h,m)=>{m.target===e&&h(m)})),(Gd(t)||ao(t))&&(o=u(o,(h,m)=>{Qd(m,n)||h(m)})),s.addEventListener(t,o,a),()=>{s.removeEventListener(t,o,a)}}function Jd(e){return e.replace(/-/g,".")}function Kd(e){return e.toLowerCase().replace(/-(\w)/g,(t,n)=>n.toUpperCase())}function Ut(e){return!Array.isArray(e)&&!isNaN(e)}function Xd(e){return[" ","_"].includes(e)?e:e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function Gd(e){return["keydown","keyup"].includes(e)}function ao(e){return["contextmenu","click","mouse"].some(t=>e.includes(t))}function Qd(e,t){let n=t.filter(o=>!["window","document","prevent","stop","once","capture","self","away","outside","passive","preserve-scroll"].includes(o));if(n.includes("debounce")){let o=n.indexOf("debounce");n.splice(o,Ut((n[o+1]||"invalid-wait").split("ms")[0])?2:1)}if(n.includes("throttle")){let o=n.indexOf("throttle");n.splice(o,Ut((n[o+1]||"invalid-wait").split("ms")[0])?2:1)}if(n.length===0||n.length===1&&wi(e.key).includes(n[0]))return!1;const s=["ctrl","shift","alt","meta","cmd","super"].filter(o=>n.includes(o));return n=n.filter(o=>!s.includes(o)),!(s.length>0&&s.filter(a=>((a==="cmd"||a==="super")&&(a="meta"),e[`${a}Key`])).length===s.length&&(ao(e.type)||wi(e.key).includes(n[0])))}function wi(e){if(!e)return[];e=Xd(e);let t={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",comma:",",equal:"=",minus:"-",underscore:"_"};return t[e]=e,Object.keys(t).map(n=>{if(t[n]===e)return n}).filter(n=>n)}z("model",(e,{modifiers:t,expression:n},{effect:r,cleanup:s})=>{let o=e;t.includes("parent")&&(o=e.parentNode);let a=G(o,n),u;typeof n=="string"?u=G(o,`${n} = __placeholder`):typeof n=="function"&&typeof n()=="string"?u=G(o,`${n()} = __placeholder`):u=()=>{};let h=()=>{let S;return a(C=>S=C),_i(S)?S.get():S},m=S=>{let C;a(w=>C=w),_i(C)?C.set(S):u(()=>{},{scope:{__placeholder:S}})};typeof n=="string"&&e.type==="radio"&&H(()=>{e.hasAttribute("name")||e.setAttribute("name",n)});let p=e.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(e.type)||t.includes("lazy")?"change":"input",b=we?()=>{}:qn(e,p,t,S=>{m(_n(e,t,S,h()))});if(t.includes("fill")&&([void 0,null,""].includes(h())||cr(e)&&Array.isArray(h())||e.tagName.toLowerCase()==="select"&&e.multiple)&&m(_n(e,t,{target:e},h())),e._x_removeModelListeners||(e._x_removeModelListeners={}),e._x_removeModelListeners.default=b,s(()=>e._x_removeModelListeners.default()),e.form){let S=qn(e.form,"reset",[],C=>{ar(()=>e._x_model&&e._x_model.set(_n(e,t,{target:e},h())))});s(()=>S())}e._x_model={get(){return h()},set(S){m(S)}},e._x_forceModelUpdate=S=>{S===void 0&&typeof n=="string"&&n.match(/\./)&&(S=""),window.fromModel=!0,H(()=>Ds(e,"value",S)),delete window.fromModel},r(()=>{let S=h();t.includes("unintrusive")&&document.activeElement.isSameNode(e)||e._x_forceModelUpdate(S)})});function _n(e,t,n,r){return H(()=>{if(n instanceof CustomEvent&&n.detail!==void 0)return n.detail!==null&&n.detail!==void 0?n.detail:n.target.value;if(cr(e))if(Array.isArray(r)){let s=null;return t.includes("number")?s=vn(n.target.value):t.includes("boolean")?s=It(n.target.value):s=n.target.value,n.target.checked?r.includes(s)?r:r.concat([s]):r.filter(o=>!Yd(o,s))}else return n.target.checked;else{if(e.tagName.toLowerCase()==="select"&&e.multiple)return t.includes("number")?Array.from(n.target.selectedOptions).map(s=>{let o=s.value||s.text;return vn(o)}):t.includes("boolean")?Array.from(n.target.selectedOptions).map(s=>{let o=s.value||s.text;return It(o)}):Array.from(n.target.selectedOptions).map(s=>s.value||s.text);{let s;return Bs(e)?n.target.checked?s=n.target.value:s=r:s=n.target.value,t.includes("number")?vn(s):t.includes("boolean")?It(s):t.includes("trim")?s.trim():s}}})}function vn(e){let t=e?parseFloat(e):null;return Zd(t)?t:e}function Yd(e,t){return e==t}function Zd(e){return!Array.isArray(e)&&!isNaN(e)}function _i(e){return e!==null&&typeof e=="object"&&typeof e.get=="function"&&typeof e.set=="function"}z("cloak",e=>queueMicrotask(()=>H(()=>e.removeAttribute(We("cloak")))));Ts(()=>`[${We("init")}]`);z("init",ve((e,{expression:t},{evaluate:n})=>typeof t=="string"?!!t.trim()&&n(t,{},!1):n(t,{},!1)));z("text",(e,{expression:t},{effect:n,evaluateLater:r})=>{let s=r(t);n(()=>{s(o=>{H(()=>{e.textContent=o})})})});z("html",(e,{expression:t},{effect:n,evaluateLater:r})=>{let s=r(t);n(()=>{s(o=>{H(()=>{e.innerHTML=o,e._x_ignoreSelf=!0,be(e),delete e._x_ignoreSelf})})})});ir(ys(":",ws(We("bind:"))));var lo=(e,{value:t,modifiers:n,expression:r,original:s},{effect:o,cleanup:a})=>{if(!t){let h={};id(h),G(e,r)(p=>{qs(e,p,s)},{scope:h});return}if(t==="key")return eh(e,r);if(e._x_inlineBindings&&e._x_inlineBindings[t]&&e._x_inlineBindings[t].extract)return;let u=G(e,r);o(()=>u(h=>{h===void 0&&typeof r=="string"&&r.match(/\./)&&(h=""),H(()=>Ds(e,t,h,n))})),a(()=>{e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedStyles&&e._x_undoAddedStyles()})};lo.inline=(e,{value:t,modifiers:n,expression:r})=>{t&&(e._x_inlineBindings||(e._x_inlineBindings={}),e._x_inlineBindings[t]={expression:r,extract:!1})};z("bind",lo);function eh(e,t){e._x_keyExpression=t}ks(()=>`[${We("data")}]`);z("data",(e,{expression:t},{cleanup:n})=>{if(th(e))return;t=t===""?"{}":t;let r={};On(r,e);let s={};od(s,r);let o=Re(e,t,{scope:s});(o===void 0||o===!0)&&(o={}),On(o,e);let a=qe(o);cs(a);let u=dt(e,a);a.init&&Re(e,a.init),n(()=>{a.destroy&&Re(e,a.destroy),u()})});Jt((e,t)=>{e._x_dataStack&&(t._x_dataStack=e._x_dataStack,t.setAttribute("data-has-alpine-state",!0))});function th(e){return we?Un?!0:e.hasAttribute("data-has-alpine-state"):!1}z("show",(e,{modifiers:t,expression:n},{effect:r})=>{let s=G(e,n);e._x_doHide||(e._x_doHide=()=>{H(()=>{e.style.setProperty("display","none",t.includes("important")?"important":void 0)})}),e._x_doShow||(e._x_doShow=()=>{H(()=>{e.style.length===1&&e.style.display==="none"?e.removeAttribute("style"):e.style.removeProperty("display")})});let o=()=>{e._x_doHide(),e._x_isShown=!1},a=()=>{e._x_doShow(),e._x_isShown=!0},u=()=>setTimeout(a),h=Nn(b=>b?a():o(),b=>{typeof e._x_toggleAndCascadeWithTransitions=="function"?e._x_toggleAndCascadeWithTransitions(e,b,a,o):b?u():o()}),m,p=!0;r(()=>s(b=>{!p&&b===m||(t.includes("immediate")&&(b?u():o()),h(b),m=b,p=!1)}))});z("for",(e,{expression:t},{effect:n,cleanup:r})=>{let s=rh(t),o=G(e,s.items),a=G(e,e._x_keyExpression||"index");e._x_prevKeys=[],e._x_lookup={},n(()=>nh(e,s,o,a)),r(()=>{Object.values(e._x_lookup).forEach(u=>H(()=>{Je(u),u.remove()})),delete e._x_prevKeys,delete e._x_lookup})});function nh(e,t,n,r){let s=a=>typeof a=="object"&&!Array.isArray(a),o=e;n(a=>{ih(a)&&a>=0&&(a=Array.from(Array(a).keys(),g=>g+1)),a===void 0&&(a=[]);let u=e._x_lookup,h=e._x_prevKeys,m=[],p=[];if(s(a))a=Object.entries(a).map(([g,v])=>{let E=vi(t,v,g,a);r(k=>{p.includes(k)&&re("Duplicate key on x-for",e),p.push(k)},{scope:{index:g,...E}}),m.push(E)});else for(let g=0;g<a.length;g++){let v=vi(t,a[g],g,a);r(E=>{p.includes(E)&&re("Duplicate key on x-for",e),p.push(E)},{scope:{index:g,...v}}),m.push(v)}let b=[],S=[],C=[],w=[];for(let g=0;g<h.length;g++){let v=h[g];p.indexOf(v)===-1&&C.push(v)}h=h.filter(g=>!C.includes(g));let F="template";for(let g=0;g<p.length;g++){let v=p[g],E=h.indexOf(v);if(E===-1)h.splice(g,0,v),b.push([F,g]);else if(E!==g){let k=h.splice(g,1)[0],A=h.splice(E-1,1)[0];h.splice(g,0,A),h.splice(E,0,k),S.push([k,A])}else w.push(v);F=v}for(let g=0;g<C.length;g++){let v=C[g];v in u&&(H(()=>{Je(u[v]),u[v].remove()}),delete u[v])}for(let g=0;g<S.length;g++){let[v,E]=S[g],k=u[v],A=u[E],I=document.createElement("div");H(()=>{A||re('x-for ":key" is undefined or invalid',o,E,u),A.after(I),k.after(A),A._x_currentIfEl&&A.after(A._x_currentIfEl),I.before(k),k._x_currentIfEl&&k.after(k._x_currentIfEl),I.remove()}),A._x_refreshXForScope(m[p.indexOf(E)])}for(let g=0;g<b.length;g++){let[v,E]=b[g],k=v==="template"?o:u[v];k._x_currentIfEl&&(k=k._x_currentIfEl);let A=m[E],I=p[E],N=document.importNode(o.content,!0).firstElementChild,B=qe(A);dt(N,B,o),N._x_refreshXForScope=V=>{Object.entries(V).forEach(([K,te])=>{B[K]=te})},H(()=>{k.after(N),ve(()=>be(N))()}),typeof I=="object"&&re("x-for key cannot be an object, it must be a string or an integer",o),u[I]=N}for(let g=0;g<w.length;g++)u[w[g]]._x_refreshXForScope(m[p.indexOf(w[g])]);o._x_prevKeys=p})}function rh(e){let t=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,n=/^\s*\(|\)\s*$/g,r=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,s=e.match(r);if(!s)return;let o={};o.items=s[2].trim();let a=s[1].replace(n,"").trim(),u=a.match(t);return u?(o.item=a.replace(t,"").trim(),o.index=u[1].trim(),u[2]&&(o.collection=u[2].trim())):o.item=a,o}function vi(e,t,n,r){let s={};return/^\[.*\]$/.test(e.item)&&Array.isArray(t)?e.item.replace("[","").replace("]","").split(",").map(a=>a.trim()).forEach((a,u)=>{s[a]=t[u]}):/^\{.*\}$/.test(e.item)&&!Array.isArray(t)&&typeof t=="object"?e.item.replace("{","").replace("}","").split(",").map(a=>a.trim()).forEach(a=>{s[a]=t[a]}):s[e.item]=t,e.index&&(s[e.index]=n),e.collection&&(s[e.collection]=r),s}function ih(e){return!Array.isArray(e)&&!isNaN(e)}function co(){}co.inline=(e,{expression:t},{cleanup:n})=>{let r=Wt(e);r._x_refs||(r._x_refs={}),r._x_refs[t]=e,n(()=>delete r._x_refs[t])};z("ref",co);z("if",(e,{expression:t},{effect:n,cleanup:r})=>{e.tagName.toLowerCase()!=="template"&&re("x-if can only be used on a <template> tag",e);let s=G(e,t),o=()=>{if(e._x_currentIfEl)return e._x_currentIfEl;let u=e.content.cloneNode(!0).firstElementChild;return dt(u,{},e),H(()=>{e.after(u),ve(()=>be(u))()}),e._x_currentIfEl=u,e._x_undoIf=()=>{H(()=>{Je(u),u.remove()}),delete e._x_currentIfEl},u},a=()=>{e._x_undoIf&&(e._x_undoIf(),delete e._x_undoIf)};n(()=>s(u=>{u?o():a()})),r(()=>e._x_undoIf&&e._x_undoIf())});z("id",(e,{expression:t},{evaluate:n})=>{n(t).forEach(s=>zd(e,s))});Jt((e,t)=>{e._x_ids&&(t._x_ids=e._x_ids)});ir(ys("@",ws(We("on:"))));z("on",ve((e,{value:t,modifiers:n,expression:r},{cleanup:s})=>{let o=r?G(e,r):()=>{};e.tagName.toLowerCase()==="template"&&(e._x_forwardEvents||(e._x_forwardEvents=[]),e._x_forwardEvents.includes(t)||e._x_forwardEvents.push(t));let a=qn(e,t,n,u=>{o(()=>{},{scope:{$event:u},params:[u]})});s(()=>a())}));Qt("Collapse","collapse","collapse");Qt("Intersect","intersect","intersect");Qt("Focus","trap","focus");Qt("Mask","mask","mask");function Qt(e,t,n){z(t,r=>re(`You can't use [x-${t}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${n}`,r))}ft.setEvaluator(ps);ft.setReactivityEngine({reactive:gr,effect:gd,release:bd,raw:U});var sh=ft,br=sh;console.log(" dokumen-script.js loaded");function M({icon:e,title:t,text:n,timer:r=1e3,showConfirmButton:s=!1}){if(!window.Swal){console.warn("SweetAlert2 not loaded");return}return Swal.fire({icon:e,title:t,text:n,showConfirmButton:s,timer:s?void 0:r,timerProgressBar:!s,position:"center",toast:!1,background:"#f7faff",color:"#2b2b2b",customClass:{popup:"swal-custom-popup",title:"swal-custom-title",htmlContainer:"swal-custom-text"},didOpen:o=>{o.classList.add("swal-fade-in")},willClose:o=>{o.classList.remove("swal-fade-in"),o.classList.add("swal-fade-out")}})}window.initCompanyDocuments=function(e,t,n){const r=new CustomEvent("init-company-documents",{detail:{folders:e,rootFiles:t,company:n}});window.dispatchEvent(r)};window.initWorkspaceDocuments=function(e,t,n){const r=new CustomEvent("init-workspace-documents",{detail:{folders:e,rootFiles:t,workspace:n}});window.dispatchEvent(r)};function oh(){return console.log(" documentSearch() function LOADED"),{searchQuery:"",ready:!1,_submittingFolder:!1,filteredDocuments:[],showCreateFolderModal:!1,showMoveDocumentsModal:!1,showEditFolderModal:!1,showDeleteFolderModal:!1,openAddMemberModal:!1,currentWorkspaceId:null,currentWorkspace:null,newFolderName:"",isSecretFolder:!1,showDeleteMultipleModal:!1,editFolderName:"",editIsSecretFolder:!1,originalIsSecretFolder:null,currentFile:null,selectMode:!1,selectedDocuments:[],selectedWorkspace:null,selectedFolder:null,currentModalFolder:null,modalFolderHistory:[],modalBreadcrumbs:[],loadingModalFolders:!1,availableModalFolders:[],availableModalFiles:[],currentFolder:null,folderHistory:[],breadcrumbs:[],editingFolder:null,deletingFolder:null,showDeleteFileModal:!1,showRecipientsModal:!1,selectedRecipients:[],deletingFile:null,showEditFileModal:!1,editingFile:null,editFileIsSecret:!1,originalIsSecretFile:null,currentContext:null,currentWorkspaceId:null,currentCompanyId:null,currentWorkspace:null,currentCompany:null,searchMember:"",selectAll:!1,originalFolderName:"",showConfirmModal:!1,confirmTitle:"",confirmMessage:"",onConfirmAction:null,currentFolderCreatedBy:null,currentFileUploadedBy:null,memberListAllowed:null,isLoadingPermission:!1,folders:[],pdfFiles:[],wordFiles:[],excelFiles:[],powerPointFiles:[],textFiles:[],imageFiles:[],zipFiles:[],videoFiles:[],audioFiles:[],codeFiles:[],unknownFiles:[],members:[],availableWorkspaces:[],loadingWorkspaces:!1,backendFolders:[],backendRootFiles:[],get allFiles(){return[...this.pdfFiles,...this.wordFiles,...this.excelFiles,...this.powerPointFiles,...this.textFiles,...this.imageFiles,...this.zipFiles,...this.videoFiles,...this.audioFiles,...this.codeFiles,...this.unknownFiles].filter(e=>e.folder_id===null)},init(){const e=t=>{console.log("=== POPSTATE TRIGGERED ==="),console.log("event.state:",t.state),console.log("current URL:",window.location.href),console.log("history.length:",history.length);const n=new URL(window.location);if(n.searchParams.get("folder"),n.searchParams.get("file"),t.state&&t.state.fileId){console.log(" Detected fileId (popstate):",t.state.fileId);const r=t.state.fileId,s=this.getAllFiles(this.folders),o=this.allFiles||[],u=[...s,...o].find(h=>String(h.id)===String(r));if(u){const h=t.state.folderId||u.folder_id;let m=[];h&&(m=this.getFolderPathFull(h),console.log(" Rebuilt folderPath for file:",m.map(p=>p.name))),this.currentFile={...u,folder:u.folder||null,folderPath:m,creator:u.creator||this.getCurrentUser(),createdAt:u.createdAt||new Date().toISOString(),size:u.size||this.formatFileSize(u.size||1048576),recipients:u.recipients||this.getDefaultRecipients(),comments:u.comments||[]},this.currentFileUploadedBy=u.uploaded_by||u.uploader?.id||null,this.currentFolder=null,this.currentFolderCreatedBy=null,this.breadcrumbs=[],this.folderHistory=[],this.loadMembersFromAPI(),console.log(" Restored file via popstate:",r)}else console.warn(" File not found:",r),this.currentFile=null,this.currentFolder=null;return}if(t.state&&t.state.folderId){console.log(" Detected folderId (popstate):",t.state.folderId);const r=this.folders.find(s=>String(s.id)===String(t.state.folderId));if(r){if(console.log(" Restoring folder:",r.name),r.parent_id){const s=this.getFolderPath(r.parent_id);this.folderHistory=s,console.log(" Folder history rebuilt from popstate:",this.folderHistory)}else this.folderHistory=[];this.currentFolder=r,this.currentFile=null,this.currentFolderCreatedBy=r.creator?.id||r.creator_id||null,this.currentFileUploadedBy=null,this.updateBreadcrumbs(),this.loadMembersFromAPI(),console.log(" Restored folder via popstate with full path:",r.name),console.log(" Breadcrumbs:",this.breadcrumbs)}else this.currentFolder=null,this.currentFile=null,this.updateBreadcrumbs();return}console.log(" No state -> going root"),this.currentFolder=null,this.currentFile=null,this.folderHistory=[],this.currentFolderCreatedBy=null,this.currentFileUploadedBy=null,this.updateBreadcrumbs()};this._handlePopState=e,window.addEventListener("init-workspace-documents",t=>{this.currentContext="workspace",this.currentWorkspace=t.detail.workspace,this.currentWorkspaceId=t.detail.workspace.id,this.currentCompany=null,this.currentCompanyId=null,this.initData(t.detail.folders,t.detail.rootFiles,t.detail.workspace)}),window.addEventListener("init-company-documents",t=>{this.currentContext="company",this.currentCompany=t.detail.company,this.currentCompanyId=t.detail.company.id,this.currentWorkspace=null,this.currentWorkspaceId=null,this.initData(t.detail.folders,t.detail.rootFiles,t.detail.company)}),window.addEventListener("popstate",this._handlePopState),window.addEventListener("pageshow",t=>{if(t.persisted){if(window.Swal)try{Swal.close()}catch{}this.restoreFolderFromUrl()}}),this.$watch("$el",t=>{t||(window.removeEventListener("popstate",this._handlePopState),console.log(" popstate listener removed"))})},setHistoryState(e={},t=!1){const n=new URLSearchParams;e.folderId&&n.set("folder",e.folderId),e.fileId&&n.set("file",e.fileId);const r=`${window.location.pathname}${n.toString()?"?"+n.toString():""}`;console.log(" setHistoryState called:"),console.log("   - replace:",t),console.log("   - stateObj:",e),console.log("   - newUrl:",r),console.log("   - current URL:",window.location.href),console.log("   - history.length BEFORE:",history.length);try{t?(history.replaceState(e,"",r),console.log("    REPLACE executed")):(history.pushState(e,"",r),console.log("    PUSH executed")),console.log("   - history.length AFTER:",history.length)}catch(s){console.warn("history set error",s)}},openRecipientsModal(e){if(console.log(" openRecipientsModal called",e),console.log(" folderOrFile.recipients:",e?.recipients),!e||!e.recipients){console.log(" No recipients found");return}this.selectedRecipients=e.recipients,this.showRecipientsModal=!0,console.log(" Modal should open now"),console.log(" selectedRecipients:",this.selectedRecipients)},initData(e,t,n){console.log(" ========== initData START =========="),console.log(" foldersData:",e),console.log(" rootFilesData:",t),console.log(" context:",n),console.log(" currentContext:",this.currentContext),this.backendFolders=e,this.backendRootFiles=t,this.currentContext==="workspace"?(this.currentWorkspace=n,this.currentWorkspaceId=n.id):this.currentContext==="company"&&(this.currentCompany=n,this.currentCompanyId=n.id),console.log(" Sample folder data:",e[0]),console.log(" Sample document_recipients:",e[0]?.document_recipients),this.processBackendData(),console.log(" initData selesai, folders count:",this.folders.length),this.$nextTick(()=>{this.restoreFolderFromUrl()})},closeFile(){this.currentFile=null},getRootFolders(){return this.folders.filter(e=>e.parent_id===null)},confirmDeleteMultiple(){this.selectedDocuments.length!==0&&(this.showDeleteMultipleModal=!0)},async submitDeleteMultiple(){if(this.selectedDocuments.length!==0){Swal.fire({title:"Menghapus berkas...",html:`
            <div class="mb-4">
                <div class="text-sm text-gray-600 mb-2">
                    Sedang menghapus <span id="deleteProgress">0</span> dari ${this.selectedDocuments.length} berkas
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2.5">
                    <div id="deleteProgressBar" class="bg-red-600 h-2.5 rounded-full transition-all duration-300" style="width: 0%"></div>
                </div>
            </div>
        `,allowOutsideClick:!1,allowEscapeKey:!1,showConfirmButton:!1,background:"#f7faff",customClass:{popup:"swal-custom-popup"}});try{const e=document.querySelector('meta[name="csrf-token"]')?.content,t=this.currentContext==="company"?"/company-documents/delete-multiple":"/documents/delete-multiple";console.log(" Deleting from endpoint:",t);const n=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":e,Accept:"application/json"},body:JSON.stringify({documents:this.selectedDocuments.map(a=>({id:a.id,type:a.type==="Folder"?"folder":"file"}))})});let r=0;const s=setInterval(()=>{if(r+=10,r<=90){document.getElementById("deleteProgressBar").style.width=r+"%";const a=Math.floor(r/100*this.selectedDocuments.length);document.getElementById("deleteProgress").textContent=a}},100),o=await n.json();clearInterval(s),document.getElementById("deleteProgressBar").style.width="100%",document.getElementById("deleteProgress").textContent=this.selectedDocuments.length,o.success?(this.showDeleteMultipleModal=!1,this.selectedDocuments=[],this.selectMode=!1,M({icon:"success",title:"Berhasil!",text:o.message||"Berkas berhasil dihapus",timer:1e3,showConfirmButton:!1}),setTimeout(()=>{window.location.reload()},1e3)):M({icon:"error",title:"Gagal!",text:o.message||"Gagal menghapus berkas",showConfirmButton:!0})}catch(e){console.error(" Error deleting documents:",e),M({icon:"error",title:"Error!",text:"Terjadi kesalahan saat menghapus berkas",showConfirmButton:!0})}}},processBackendData(){this.folders=this.backendFolders.map(e=>({id:e.id,parent_id:e.parent_id,name:e.name,type:"Folder",icon:this.getFolderIcon(),isSecret:e.is_private||!1,creator:{id:e.creator?.id||e.creator_id||null,name:e.creator?.full_name||"Unknown",avatar:this.getAvatarUrl(e.creator?.avatar)},creatorAvatar:this.getAvatarUrl(e.creator?.avatar),createdAt:e.created_at,recipients:(e.document_recipients||[]).map(t=>({id:t.user?.id,name:t.user?.full_name,email:t.user?.email,avatar:this.getAvatarUrl(t.user?.avatar)})),subFolders:[],files:e.files?this.processFiles(e.files):[],filesCount:e.files_count||0})),console.log(" Processed folders sample:",this.folders[0]),console.log(" Sample recipients:",this.folders[0]?.recipients),this.folders.forEach(e=>{if(e.parent_id){const t=this.folders.find(n=>n.id===e.parent_id);t&&t.subFolders.push(e)}}),this.processRootFiles()},processRootFiles(){const e=this.processFiles(this.backendRootFiles||[]);this.pdfFiles=e.filter(t=>t.type==="PDF"),this.wordFiles=e.filter(t=>t.type==="Word"),this.excelFiles=e.filter(t=>t.type==="Excel"),this.powerPointFiles=e.filter(t=>t.type==="PowerPoint"),this.textFiles=e.filter(t=>t.type==="Text"),this.imageFiles=e.filter(t=>t.type==="Image"),this.zipFiles=e.filter(t=>t.type==="Zip"),this.videoFiles=e.filter(t=>t.type==="Video"),this.audioFiles=e.filter(t=>t.type==="Audio"),this.codeFiles=e.filter(t=>t.type==="Code"),this.unknownFiles=e.filter(t=>t.type==="Unknown")},processFiles(e){return(e||[]).map(t=>{const n=t.name||t.file_name||null,r=t.file_url?t.file_url.split("/").pop():null,s=n||r||"Unknown File",o=this.getFileType(s),a=t.uploaded_by||t.uploader?.id||null;return{id:t.id,folder_id:t.folder_id??null,name:s,type:o,icon:this.getFileIcon(o),size:this.formatFileSize(t.file_size||0),file_url:t.file_url,uploaded_by:a,creator:{name:t.uploader?.full_name||t.uploader?.name||"Unknown",avatar:this.getAvatarUrl(t.uploader?.avatar)},creatorAvatar:this.getAvatarUrl(t.uploader?.avatar),createdAt:t.created_at||t.uploaded_at,isSecret:t.is_private||!1,comments:t.comments||[],recipients:(t.document_recipients||[]).map(u=>({id:u.user?.id,name:u.user?.full_name,email:u.user?.email,avatar:this.getAvatarUrl(u.user?.avatar)}))}})},get fileBreadcrumbs(){return!this.currentFile||!this.currentFile.folderPath?[]:this.currentFile.folderPath.map(e=>this.folders.find(n=>n.id===e.id)||e)},filteredMembers(){if(!this.searchMember.trim())return this.members;const e=this.searchMember.toLowerCase();return this.members.filter(t=>t.name.toLowerCase().includes(e))},get currentFolderDocuments(){return this.currentFolder?[...this.currentFolder.subFolders,...this.currentFolder.files]:[]},filterDocuments(){if(console.log("%c filterDocuments terpanggil!","color: orange"),console.log("searchQuery:",this.searchQuery),console.log("searchQuery length:",this.searchQuery.length),this.searchQuery.trim()===""){this.filteredDocuments=[];return}if(this.searchQuery.trim().length<2){console.log(" Query terlalu pendek, minimal 2 karakter"),this.filteredDocuments=[];return}const e=this.searchQuery.toLowerCase();let t=[];if(this.currentFolder)console.log(" Searching inside folder:",this.currentFolder.name),t=[...this.currentFolder.subFolders,...this.currentFolder.files],console.log(" documentsToSearch dalam folder:",t.length);else{console.log(" Searching in root");const n=this.getAllFolders(this.folders),r=this.getAllFiles(this.folders),s=this.allFiles||[];t=[...n,...r,...s],console.log(" allFolders:",n.length),console.log(" allFiles:",r.length),console.log(" rootFiles:",s.length)}console.log(" Total documentsToSearch:",t.length),this.filteredDocuments=t.filter(n=>{const r=n.name.toLowerCase().includes(e),s=n.type&&n.type.toLowerCase().includes(e);return r||s}),console.log(" filteredDocuments result:",this.filteredDocuments.length)},getAllFiles(e){let t=[];return Array.isArray(e)&&e.forEach(n=>{n.files&&n.files.length>0&&(t=t.concat(n.files)),n.subFolders&&n.subFolders.length>0&&(t=t.concat(this.getAllFiles(n.subFolders)))}),t},getAllFolders(e){let t=[];return Array.isArray(e)&&e.forEach(n=>{t.push(n),n.subFolders&&n.subFolders.length>0&&(t=t.concat(this.getAllFolders(n.subFolders)))}),t},clearSearch(){this.searchQuery="",this.filteredDocuments=[]},uploadFileToFolder(e){const t=e.target.files[0];if(!t)return;const n=this.getFileType(t.name),r=this.getFileIcon(n),s={id:"file-"+Date.now(),name:t.name,type:n,icon:r,file:t,size:this.formatFileSize(t.size),creator:this.getCurrentUser(),createdAt:new Date().toISOString(),recipients:[],comments:[],isSecret:!1};this.currentFolder?this.currentFolder.files.push(s):this.addFileToCollection(s,n),e.target.value="",this.showSuccessMessage(`File "${t.name}" berhasil diunggah`)},async handleFileUpload(e){console.log(" handleFileUpload called");const n=e.target.querySelector('input[type="file"]');if(!n||!n.files){console.error(" File input not found");return}const r=Array.from(n.files);if(r.length===0)return;const s=[];for(const a of r){const u=a.size/1024/1024,h=a.type.startsWith("video/");if(h&&u>100){M({icon:"error",title:"File Terlalu Besar!",text:`Video "${a.name}" maksimal 100 MB (${u.toFixed(2)} MB).`,showConfirmButton:!0});continue}if(!h&&u>20){M({icon:"error",title:"File Terlalu Besar!",text:`"${a.name}" maksimal 20 MB (${u.toFixed(2)} MB).`,showConfirmButton:!0});continue}s.push(a)}if(s.length===0){n.value="";return}const o=s.map((a,u)=>`
        <div class="flex items-center justify-between py-2 border-b">
            <span class="text-sm text-gray-700 truncate flex-1">${u+1}. ${a.name}</span>
            <div class="flex items-center gap-2">
                <span id="progress-${u}" class="text-xs text-gray-500">0%</span>
                <div class="w-16 bg-gray-200 rounded-full h-1.5">
                    <div id="bar-${u}" class="bg-blue-600 h-1.5 rounded-full transition-all" style="width: 0%"></div>
                </div>
            </div>
        </div>
    `).join("");Swal.fire({title:"Mengunggah File...",html:`
            <div class="text-left max-h-64 overflow-y-auto">
                ${o}
            </div>
            <div class="mt-4 text-sm text-gray-600">
                <span id="currentFile">0</span> / ${s.length} file selesai
            </div>
        `,allowOutsideClick:!1,allowEscapeKey:!1,showConfirmButton:!1,background:"#f7faff"});for(let a=0;a<s.length;a++)await this.uploadSingleDocumentFile(s[a],a,s.length);n.value="",M({icon:"success",title:"Berhasil!",text:`${s.length} file berhasil diunggah`,timer:2e3,showConfirmButton:!1}),setTimeout(()=>{window.location.reload()},2e3)},async uploadSingleDocumentFile(e,t,n){console.log(" Debug Upload:"),console.log("Context:",this.currentContext),console.log("Company ID:",this.currentCompanyId),console.log("Folder ID:",this.currentFolder?.id),console.log("File:",e.name);const r=new FormData;r.append("file",e),this.currentFolder&&this.currentFolder.id&&r.append("folder_id",this.currentFolder.id),this.currentContext==="workspace"?r.append("workspace_id",this.currentWorkspaceId):this.currentContext==="company"&&r.append("company_id",this.currentCompanyId);const s=this.currentContext==="company"?"/company-documents/file":"/file";return new Promise((o,a)=>{const u=new XMLHttpRequest;u.upload.addEventListener("progress",h=>{if(h.lengthComputable){const m=Math.round(h.loaded/h.total*100),p=document.getElementById(`bar-${t}`),b=document.getElementById(`progress-${t}`);p&&(p.style.width=m+"%"),b&&(b.textContent=m+"%")}}),u.onload=function(){if(u.status===200){const h=JSON.parse(u.responseText);if(h.success){const m=document.getElementById("currentFile");m&&(m.textContent=t+1),o(h)}else a(new Error(h.message||"Upload failed"))}else a(new Error(`HTTP ${u.status}`))},u.onerror=()=>a(new Error("Network error")),u.open("POST",s),u.setRequestHeader("X-CSRF-TOKEN",document.querySelector('meta[name="csrf-token"]').content),u.setRequestHeader("X-Requested-With","XMLHttpRequest"),console.log(" FormData yang dikirim:");for(let h of r.entries())console.log(h[0]+":",h[1]);u.send(r)})},async loadAvailableWorkspaces(){console.log(" loadAvailableWorkspaces called"),console.log(" currentContext:",this.currentContext),this.loadingWorkspaces=!0,this.selectedWorkspace="";try{const e=this.currentContext==="company"?"/company-documents/workspaces":"/api/user/workspaces";console.log(" Fetching from:",e);const t=await fetch(e),n=t.headers.get("content-type");if(!n||!n.includes("application/json")){const s=await t.text();throw console.error(" Response is not JSON:",s.substring(0,500)),new Error("Server returned HTML instead of JSON")}const r=await t.json();if(r.success)this.availableWorkspaces=r.workspaces,console.log(" Available workspaces:",this.availableWorkspaces.length);else throw new Error(r.message||"Failed to load workspaces")}catch(e){console.error(" Error loading workspaces:",e),M({icon:"error",title:"Error!",text:e.message,showConfirmButton:!0})}finally{this.loadingWorkspaces=!1}},selectWorkspaceForMove(e){if(console.log(" selectWorkspaceForMove called"),console.log(" workspace param:",e),!e){console.warn(" No workspace provided");return}console.log(" Workspace selected:",e.name),console.log(" Workspace ID:",e.id),this.selectedWorkspace=e.id,console.log(" this.selectedWorkspace set to:",this.selectedWorkspace),this.selectedWorkspace=e.id,this.selectedFolder=null,this.currentModalFolder=null,this.modalFolderHistory=[],this.modalBreadcrumbs=[],this.availableModalFolders=e.folders||[],this.availableModalFiles=e.files||[],console.log(" Root folders loaded:",this.availableModalFolders.length)},openModalFolder(e){console.log(" Opening modal folder:",e.name),this.currentModalFolder&&this.modalFolderHistory.push(this.currentModalFolder),this.currentModalFolder=e,this.updateModalBreadcrumbs(),this.loadModalSubfolders(e.id)},goBackModalFolder(){if(console.log(" Going back in modal folder navigation"),this.modalFolderHistory.length>0){const e=this.modalFolderHistory.pop();this.currentModalFolder=e,this.updateModalBreadcrumbs(),this.loadModalSubfolders(e.id)}else this.goToModalRoot()},goToModalRoot(){if(console.log(" Going to modal root"),this.currentModalFolder=null,this.modalFolderHistory=[],this.modalBreadcrumbs=[],this.selectedWorkspace){const e=this.availableWorkspaces.find(t=>String(t.id)===String(this.selectedWorkspace));e&&(this.availableModalFolders=e.folders||[],this.availableModalFiles=e.files||[],console.log(" Root folders reloaded:",this.availableModalFolders.length),console.log(" Root files reloaded:",this.availableModalFiles.length))}},updateModalBreadcrumbs(){if(!this.currentModalFolder){this.modalBreadcrumbs=[];return}this.modalBreadcrumbs=[...this.modalFolderHistory,this.currentModalFolder],console.log(" Modal breadcrumbs:",this.modalBreadcrumbs.map(e=>e.name))},async loadModalSubfolders(e){this.loadingModalFolders=!0;try{const n=await(await fetch(`/api/folders/${e}/subfolders`)).json();n.success&&(this.availableModalFolders=n.folders||[],this.availableModalFiles=n.files||[],console.log(" Subfolders loaded:",this.availableModalFolders.length),console.log(" Files loaded:",this.availableModalFiles.length))}catch(t){console.error(" Error loading subfolders:",t),this.availableModalFolders=[],this.availableModalFiles=[]}finally{this.loadingModalFolders=!1}},navigateToModalFolder(e){console.log(" Navigating to modal folder:",e.name);const t=this.modalBreadcrumbs.findIndex(n=>n.id===e.id);t>-1?(this.modalFolderHistory=this.modalBreadcrumbs.slice(0,t),this.currentModalFolder=e,this.updateModalBreadcrumbs(),this.loadModalSubfolders(e.id)):t===-1&&this.modalBreadcrumbs.length===0&&this.goToModalRoot()},selectFolderDestination(e){this.selectedFolder=e,console.log(" Folder destination selected:",e.name)},clearFolderDestination(){this.selectedFolder=null,console.log(" Destination set to root")},async submitMoveDocuments(){if(console.log(" submitMoveDocuments called"),console.log(" Context:",this.currentContext),!this.selectedWorkspace||this.selectedDocuments.length===0){M({icon:"warning",title:"Peringatan!",text:"Pilih workspace tujuan dan dokumen yang akan dipindahkan",showConfirmButton:!0});return}const e=typeof this.selectedWorkspace=="object"?this.selectedWorkspace.id:this.selectedWorkspace,t=this.availableWorkspaces.find(o=>String(o.id)===String(e));if(!t){M({icon:"error",title:"Error!",text:"Workspace tidak ditemukan. Silakan refresh halaman.",showConfirmButton:!0});return}let n=null;this.selectedFolder?n=this.selectedFolder.id:this.currentModalFolder&&(n=this.currentModalFolder.id);const r=this.currentWorkspaceId||this.currentWorkspace?.id,s=this.currentFolder?.id||null;if(String(r)===String(t.id)&&String(s)===String(n)){M({icon:"warning",title:"Tidak Dapat Memindahkan!",text:"Dokumen sudah berada di lokasi tersebut.",showConfirmButton:!0});return}M({title:"Memindahkan dokumen...",text:"Mohon tunggu sebentar",showConfirmButton:!1}),window.Swal&&Swal.showLoading();try{const o=this.currentContext==="company"?"/company-documents/move":"/documents/move";console.log(" Posting to:",o);const a=document.querySelector('meta[name="csrf-token"]')?.content;if(!a)throw new Error("CSRF token not found");const u={workspace_id:t.id,folder_id:n,documents:this.selectedDocuments.map(b=>({id:b.id,type:b.type==="Folder"?"folder":"file"}))};console.log(" Request payload:",JSON.stringify(u,null,2));const h=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":a,Accept:"application/json"},body:JSON.stringify(u)}),m=h.headers.get("content-type");if(!m||!m.includes("application/json")){const b=await h.text();throw console.error(" Response is not JSON:",b.substring(0,500)),new Error("Server returned HTML instead of JSON")}const p=await h.json();if(p.success){this.showMoveDocumentsModal=!1,this.selectedWorkspace=null,this.selectedFolder=null,this.currentModalFolder=null,this.modalFolderHistory=[],this.modalBreadcrumbs=[],this.selectedDocuments=[],this.selectMode=!1;let b=p.message;p.renamed_files&&p.renamed_files.length>0&&(b+=`

File yang di-rename:`,p.renamed_files.forEach(S=>{b+=`
 ${S.old_name}  ${S.new_name}`})),M({icon:"success",title:"Berhasil!",text:"File berhasil dipindahkan",html:b.replace(/\n/g,"<br>"),timer:4e3,showConfirmButton:!0}),setTimeout(()=>{window.location.reload()},2e3)}else M({icon:"error",title:"Gagal!",text:p.message||"Gagal memindahkan dokumen",showConfirmButton:!0})}catch(o){console.error(" Error moving documents:",o),M({icon:"error",title:"Error!",text:o.message||"Terjadi kesalahan saat memindahkan dokumen",showConfirmButton:!0})}},async handleCreateFolder(e){if(console.log(" handleCreateFolder called"),this._submittingFolder){console.warn(" Already submitting folder, blocked!");return}this._submittingFolder=!0,console.log(" Call stack:",new Error().stack),console.log(" currentCompanyId:",this.currentCompanyId),console.log(" currentContext:",this.currentContext);const t=e.target,n=new FormData(t),r=t.action;M({title:"Membuat folder...",showConfirmButton:!1}),window.Swal&&Swal.showLoading();try{const o=await(await fetch(r,{method:"POST",body:n,headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}})).json();console.log(" Create folder response:",o),o.success&&o.redirect_url?(this.showCreateFolderModal=!1,this.newFolderName="",this.isSecretFolder=!1,o.alert&&M({icon:o.alert.icon,title:o.alert.title,text:o.alert.text,timer:2e3,showConfirmButton:!1}),setTimeout(()=>{window.location.replace(o.redirect_url)},1e3)):M({icon:"error",title:"Error!",text:o.message||"Terjadi kesalahan saat membuat folder",showConfirmButton:!0})}catch(s){console.error(" Create folder error:",s),M({icon:"error",title:"Error!",text:"Terjadi kesalahan saat membuat folder",showConfirmButton:!0})}finally{setTimeout(()=>{this._submittingFolder=!1},2e3)}},async handleUpdateFolder(e){console.log(" handleUpdateFolder called"),console.log(" history.length BEFORE update:",history.length);const t=e.target,n=new FormData(t),r=t.action;M({title:"Memperbarui folder...",showConfirmButton:!1}),window.Swal&&Swal.showLoading();try{const o=await(await fetch(r,{method:"POST",body:n,headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}})).json();console.log(" Update folder response:",o),o.success&&o.redirect_url?(this.showEditFolderModal=!1,this.editFolderName="",this.editIsSecretFolder=!1,this.editingFolder=null,o.alert&&M({icon:o.alert.icon,title:o.alert.title,text:o.alert.text,timer:1700,showConfirmButton:!1}),setTimeout(()=>{console.log(" history.length BEFORE replace:",history.length),window.location.replace(o.redirect_url)},1e3)):M({icon:"error",title:"Error!",text:o.message||"Terjadi kesalahan saat memperbarui folder",showConfirmButton:!0})}catch(s){console.error(" Update folder error:",s),M({icon:"error",title:"Error!",text:"Terjadi kesalahan saat memperbarui folder",showConfirmButton:!0})}},async handleUpdateFile(e){if(!this.editingFile||!this.editingFile.id){console.error("No file to edit");return}console.log(" handleUpdateFile called");const t=e.target,n=new FormData(t),r=t.action;n.append("_method","PUT"),M({title:"Memperbarui file...",text:"Mohon tunggu sebentar",showConfirmButton:!1,timer:void 0}),window.Swal&&Swal.showLoading();try{const o=await(await fetch(r,{method:"POST",body:n,headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}})).json();console.log(" Update file response:",o),o.success&&o.redirect_url?(this.showEditFileModal=!1,this.editFileIsSecret=!1,this.editingFile=null,o.alert&&M({icon:o.alert.icon,title:o.alert.title,text:o.alert.text,timer:1700,showConfirmButton:!1}),setTimeout(()=>{console.log(" history.length BEFORE replace:",history.length),window.location.replace(o.redirect_url)},1500)):M({icon:"error",title:"Error!",text:o.message||"Terjadi kesalahan saat memperbarui file",showConfirmButton:!0})}catch(s){console.error(" Update file error:",s),M({icon:"error",title:"Error!",text:"Terjadi kesalahan saat memperbarui file",showConfirmButton:!0})}},async handleAddMembers(e){console.log(" handleAddMembers called");const t=e.target,n=new FormData(t),r=t.action;M({title:"Menambahkan peserta...",showConfirmButton:!1}),window.Swal&&Swal.showLoading();try{const o=await(await fetch(r,{method:"POST",body:n,headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}})).json();if(console.log(" Add members response:",o),o.success&&o.redirect_url){if(this.openAddMemberModal=!1,this.searchMember="",this.selectAll=!1,o.full_recipients){const a=o.full_recipients.map(u=>({...u,avatar:this.getAvatarUrl(u.avatar)}));this.currentFolder&&(this.currentFolder.recipients=a,console.log(" Folder recipients updated:",this.currentFolder.recipients)),this.currentFile&&(this.currentFile.recipients=a,console.log(" File recipients updated:",this.currentFile.recipients))}o.alert&&M({icon:o.alert.icon,title:o.alert.title,text:o.alert.text,timer:1500,showConfirmButton:!1}),setTimeout(()=>{this.loadMembersFromAPI()},1e3)}else M({icon:"error",title:"Error!",text:o.message||"Terjadi kesalahan saat menambahkan peserta",showConfirmButton:!0})}catch(s){console.error(" Add members error:",s),M({icon:"error",title:"Error!",text:"Terjadi kesalahan saat menambahkan peserta",showConfirmButton:!0})}},toggleSelectMode(){this.selectMode=!this.selectMode,this.selectMode||(this.selectedDocuments=[])},toggleDocumentSelection(e){if(!this.selectMode)return;const t=this.selectedDocuments.findIndex(n=>n.id===e.id);t>-1?this.selectedDocuments.splice(t,1):this.selectedDocuments.push(e)},isDocumentSelected(e){return this.selectedDocuments.some(t=>t.id===e)},cancelSelection(){this.selectedDocuments=[],this.selectMode=!1},confirmMoveDocuments(){if(!this.selectedWorkspace)return;const e=this.selectedFolder?`${this.selectedWorkspace.name} - ${this.selectedFolder.name}`:`${this.selectedWorkspace.name} (Dokumen Utama)`;this.moveSelectedDocuments(),this.showSuccessMessage(`Berhasil memindahkan ${this.selectedDocuments.length} berkas ke ${e}`),this.showMoveDocumentsModal=!1,this.selectedWorkspace=null,this.selectedFolder=null,this.cancelSelection()},openFolder(e){console.log(" openFolder START, folder:",e.name),console.log(" folder.recipients:",e.recipients),console.log(" Full folder data:",e),this.currentFile=null,this.currentFolderCreatedBy=null,this.currentFileUploadedBy=null,this.$nextTick(()=>{this.currentFolderCreatedBy=e.creator?.id||e.creator_id||null;const t=this._restoring===!0;console.log(" isFromRestore:",t),this.setHistoryState({folderId:e.id,folderName:e.name},t),t||(this.currentFolder?this.folderHistory.some(r=>r.id===this.currentFolder.id)||this.folderHistory.push(this.currentFolder):this.folderHistory=[]),this.loadMembersFromAPI(),this.currentFolder=e,this.currentFile=null,this.updateBreadcrumbs(),console.log(" openFolder END, history.length:",history.length),console.log(" Current breadcrumbs:",this.breadcrumbs)})},navigateToFolder(e){console.log(" navigateToFolder called:",e.name),console.log(" Current breadcrumbs:",this.breadcrumbs),console.log(" Folder data from breadcrumb:",e);const t=this.breadcrumbs.findIndex(n=>n.id===e.id);if(t>-1){this.folderHistory=this.breadcrumbs.slice(0,t),console.log(" New folderHistory:",this.folderHistory);const n=this.folders.find(r=>r.id===e.id);if(!n){console.error(" Folder not found in this.folders:",e.id);return}console.log(" Full folder data:",n),this.currentFolder=n,this.currentFile=null,this.currentFolderCreatedBy=n.creator?.id||n.creator_id||null,this.currentFileUploadedBy=null,this.updateBreadcrumbs(),this.setHistoryState({folderId:n.id,folderName:n.name},!1),this.loadMembersFromAPI(),console.log(" navigateToFolder done"),console.log(" Current folder:",this.currentFolder),console.log(" Created at:",this.currentFolder.createdAt),console.log(" Creator:",this.currentFolder.creator)}},goToRoot(){console.log(" goToRoot called"),console.log(" Before - currentFolder:",this.currentFolder?.name),console.log(" Before - currentFile:",this.currentFile?.name),this.currentFolder=null,this.currentFile=null,this.folderHistory=[],this.currentFolderCreatedBy=null,this.currentFileUploadedBy=null,this.updateBreadcrumbs(),this.setHistoryState({},!1),console.log(" goToRoot done"),console.log(" After - currentFolder:",this.currentFolder),console.log(" After - currentFile:",this.currentFile),console.log(" history.length:",history.length)},resetAllModals(){this.showEditFileModal=!1,this.showDeleteFileModal=!1,this.showCreateFolderModal=!1,this.showMoveDocumentsModal=!1,this.showEditFolderModal=!1,this.showDeleteFolderModal=!1,this.openAddMemberModal=!1,this.showConfirmModal=!1},restoreFolderFromUrl(){if(console.log(" ========== restoreFolderFromUrl START =========="),console.log(" Current URL:",window.location.href),this._restoring){console.warn(" restoreFolderFromUrl already running, skipping...");return}this._restoring=!0;const e=new URL(window.location),t=e.searchParams.get("folder"),n=e.searchParams.get("file");if(console.log(" URL Params - folder:",t,"file:",n),n){console.log(" Found file param:",n);const r=this.getAllFiles(this.folders),s=this.allFiles||[],a=[...r,...s].find(u=>String(u.id)===String(n));if(a){console.log(" Restoring file:",a.name);let u=[];a.folder_id&&(u=this.getFolderPathFull(a.folder_id),console.log(" File folder path:",u.map(h=>h.name))),this.currentFile={...a,folder:a.folder||null,folderPath:u},this.currentFileUploadedBy=a.uploaded_by||a.uploader?.id||null,this.currentFolder=null,this.breadcrumbs=[],this.folderHistory=[],this.$nextTick(()=>{this.loadMembersFromAPI(),this.ready=!0,this._restoring=!1,console.log(" File restored, history.length:",history.length)})}else console.warn(" File not found"),this.ready=!0,this._restoring=!1;return}if(t){console.log(" Found folder param:",t);const r=this.folders.find(s=>String(s.id)===String(t));if(r){if(console.log(" Restoring folder:",r.name),r.parent_id){const s=this.getFolderPath(r.parent_id);this.folderHistory=s,console.log(" Folder history rebuilt:",this.folderHistory)}else this.folderHistory=[];this.currentFolder=r,this.currentFile=null,this.currentFolderCreatedBy=r.creator?.id||r.creator_id||null,this.currentFileUploadedBy=null,this.updateBreadcrumbs(),this.$nextTick(()=>{this.loadMembersFromAPI(),this.ready=!0,this._restoring=!1,console.log(" Folder restored with full path, history.length:",history.length)})}else console.warn(" Folder not found"),this.ready=!0,this._restoring=!1;return}console.log(" No params -> going root"),this.currentFolder=null,this.currentFile=null,this.currentFolderCreatedBy=null,this.currentFileUploadedBy=null,this.ready=!0,this.$nextTick(()=>{this._restoring=!1,console.log(" Root restored, history.length:",history.length)})},updateBreadcrumbs(){if(!this.currentFolder){this.breadcrumbs=[];return}if(this.folderHistory.length===0&&this.currentFolder.parent_id){const e=this.getFolderPathFull(this.currentFolder.parent_id);this.breadcrumbs=e,this.folderHistory=[...e],console.log(" Breadcrumbs rebuilt from parent_id:",this.breadcrumbs)}else this.breadcrumbs=this.folderHistory.map(e=>this.folders.find(n=>n.id===e.id)||e);console.log(" Final breadcrumbs:",this.breadcrumbs)},getFolderPathFull(e){console.log(" getFolderPathFull called for:",e);const t=[];let n=e;for(;n;){const r=this.folders.find(s=>s.id===n);if(!r){console.warn(" Folder not found for ID:",n);break}t.unshift(r),n=r.parent_id}return console.log(" Full folder path with complete data:",t),t},getCurrentFolderPath(){if(!this.currentFolder)return"Dokumen";const e=["Dokumen"];return this.breadcrumbs.length>0&&e.push(...this.breadcrumbs.map(t=>t.name)),e.push(this.currentFolder.name),e.join(" > ")},getCurrentLocation(){return this.getCurrentFolderPath()},goBackToFolder(){this.currentFile&&this.currentFile.folder?(this.currentFolder=this.currentFile.folder,this.currentFile=null,this.breadcrumbs=this.fileBreadcrumbs):this.goToRoot()},navigateToFolderFromFile(e){console.log(" navigateToFolderFromFile called:",e.name),console.log(" Folder data from file breadcrumb:",e);const t=this.folders.find(r=>r.id===e.id);if(!t){console.error(" Folder not found in this.folders:",e.id);return}console.log(" Full folder data:",t);const n=this.fileBreadcrumbs.findIndex(r=>r.id===e.id);n>-1?(this.folderHistory=this.fileBreadcrumbs.slice(0,n).map(r=>this.folders.find(o=>o.id===r.id)||r),console.log(" New folderHistory from file:",this.folderHistory)):this.folderHistory=[],this.currentFile=null,this.currentFileUploadedBy=null,this.currentFolder=t,this.currentFolderCreatedBy=t.creator?.id||t.creator_id||null,this.updateBreadcrumbs(),this.setHistoryState({folderId:t.id,folderName:t.name},!1),this.loadMembersFromAPI(),console.log(" navigateToFolderFromFile done"),console.log(" Current folder:",this.currentFolder),console.log(" Current file (should be null):",this.currentFile),console.log(" Breadcrumbs:",this.breadcrumbs)},openFile(e){if(!e||!e.id){console.error("Invalid file");return}console.log("=== openFile START ==="),console.log(" File:",e.name),console.log(" Current URL:",window.location.href);const n=new URL(window.location).searchParams.get("file");if(n===String(e.id)&&this.currentFile&&this.currentFile.id===e.id){console.log(" File already fully opened, skip");return}const r=this.currentFolder;let s=[];if(r){const u=this.breadcrumbs.map(m=>this.folders.find(b=>b.id===m.id)||m),h=this.folders.find(m=>m.id===r.id)||r;s=[...u,h]}this.currentFolder=null,this.currentFolderCreatedBy=null;const o=e.folder||r||null,a=o&&o.id||e.folder_id||null;this.currentFile={...e,folder:o,folderPath:s,creator:e.creator||this.getCurrentUser(),createdAt:e.createdAt||new Date().toISOString(),size:e.size||this.formatFileSize(e.size||1024*1024),recipients:e.recipients||this.getDefaultRecipients(),comments:e.comments||this.getDefaultComments()},this.currentFileUploadedBy=e.uploaded_by,this.loadMembersFromAPI(),n!==String(e.id)?(console.log(" Pushing new file state to history"),this.setHistoryState({fileId:e.id,folderId:a},!1)):console.log(" URL already correct, skip push"),console.log("=== openFile END ===")},addComment(e,t){if(!t.trim())return;const n={id:Date.now(),author:this.getCurrentUser(),content:t.trim(),createdAt:new Date().toISOString(),replies:[]};e.comments||(e.comments=[]),e.comments.unshift(n)},showReplyForm(e){if(!this.currentFile?.comments)return;const t=this.currentFile.comments.find(n=>n.id===e);t&&(t.showReply=!t.showReply)},addReply(e,t){if(!t.trim()||!this.currentFile?.comments)return;const n=this.currentFile.comments.find(r=>r.id===e);if(n){const r={id:Date.now(),author:this.getCurrentUser(),content:t.trim(),createdAt:new Date().toISOString()};n.replies||(n.replies=[]),n.replies.push(r),n.showReply=!1}},downloadFile(e){if(console.log("Fungsi downlaod dipanggil!"),console.log("Isi File_URL",e.file_url),!e||!e.file_url){console.error("File URL tidak ditemukan");return}window.open(e.file_url,"_blank")},openEditFile(e){if(!e||!e.id){console.error("Invalid file");return}this.editingFile=e,this.editingFile=e,this.editFileIsSecret=e.isSecret||!1,this.originalIsSecretFile=e.isSecret||!1,this.showEditFileModal=!0},updateFile(){this.editingFile&&(this.updateFileInArrays(this.editingFile,this.editFileIsSecret),this.currentFile&&this.currentFile.id===this.editingFile.id&&(this.currentFile.isSecret=this.editFileIsSecret),this.showEditFileModal=!1,this.editFileIsSecret=!1,this.editingFile=null)},openDeleteFile(e){if(!e||!e.id){console.error("Invalid file");return}this.deletingFile=e,this.showDeleteFileModal=!0,this.deletingFile=e,this.showDeleteFileModal=!0},openConfirmModal(e,t,n){this.confirmTitle=e,this.confirmMessage=t,this.onConfirmAction=n,this.showConfirmModal=!0},runConfirmedAction(){typeof this.onConfirmAction=="function"&&this.onConfirmAction(),this.showConfirmModal=!1},openEditFolder(e){this.editingFolder=e,this.editFolderName=e.name,this.originalFolderName=e.name,this.editIsSecretFolder=e.isSecret||!1,this.originalIsSecretFolder=e.isSecret||!1,this.showEditFolderModal=!0},updateFolder(){this.editFolderName.trim()&&(this.updateFolderInArrays(this.editingFolder,this.editFolderName,this.editIsSecretFolder),this.showEditFolderModal=!1,this.editFolderName="",this.editIsSecretFolder=!1,this.editingFolder=null)},openDeleteFolder(e){if(!e||!e.id){console.error("Invalid folder to delete");return}this.deletingFolder=e,this.showDeleteFolderModal=!0},toggleSelectAll(){this.filteredMembers().forEach(e=>e.selected=this.selectAll)},watchMembersSelected(){this.selectAll=this.filteredMembers().length>0&&this.filteredMembers().every(e=>e.selected)},formatDate(e){return new Date(e).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})},formatFileSize(e){if(e===0)return"0 Bytes";const t=1024,n=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,r)).toFixed(2))+" "+n[r]},formatCommentDate(e){if(!e)return"";const t=new Date(e),r=Math.abs(new Date-t),s=Math.floor(r/(1e3*60*60*24)),o=Math.floor(r/(1e3*60*60)),a=Math.floor(r/(1e3*60));return a<1?"beberapa detik yang lalu":a<60?`${a} menit yang lalu`:o<24?`${o} jam yang lalu`:s<7?`${s} hari yang lalu`:t.toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})},getDisplayedDocuments(){return console.log(" getDisplayedDocuments called"),console.log(" currentFolder:",this.currentFolder?.name),this.searchQuery&&this.filteredDocuments.length>0?this.filteredDocuments:this.currentFolder?(console.log(" Showing subfolders:",this.currentFolder.subFolders.length),console.log(" Showing files:",this.currentFolder.files.length),[...this.currentFolder.subFolders,...this.currentFolder.files]):[]},getAvatarUrl(e){return e?e.startsWith("http://")||e.startsWith("https://")?e:window.assetPath+"storage/"+e:"https://i.pravatar.cc/32?img=8"},getFileType(e){const t=e.toLowerCase();return t.endsWith(".pdf")?"PDF":t.endsWith(".doc")||t.endsWith(".docx")?"Word":t.endsWith(".xls")||t.endsWith(".xlsx")||t.endsWith(".csv")?"Excel":t.endsWith(".ppt")||t.endsWith(".pptx")?"PowerPoint":t.endsWith(".txt")||t.endsWith(".rtf")||t.endsWith(".odt")?"Text":t.endsWith(".jpg")||t.endsWith(".jpeg")||t.endsWith(".png")||t.endsWith(".gif")||t.endsWith(".svg")||t.endsWith(".webp")||t.endsWith(".bmp")?"Image":t.endsWith(".zip")||t.endsWith(".rar")||t.endsWith(".7z")||t.endsWith(".tar")||t.endsWith(".gz")?"Zip":t.endsWith(".mp4")||t.endsWith(".mov")||t.endsWith(".avi")||t.endsWith(".mkv")?"Video":t.endsWith(".mp3")||t.endsWith(".wav")||t.endsWith(".ogg")?"Audio":t.endsWith(".js")||t.endsWith(".html")||t.endsWith(".css")||t.endsWith(".json")||t.endsWith(".xml")||t.endsWith(".php")||t.endsWith(".py")?"Code":"Unknown"},getFileIcon(e){const t=window.assetPath||"/",n={PDF:`${t}images/icons/pdf.svg`,Word:`${t}images/icons/microsoft-word.svg`,Excel:`${t}images/icons/excel.svg`,PowerPoint:`${t}images/icons/powerpoint.svg`,Text:`${t}images/icons/text-file.svg`,Image:`${t}images/icons/image.svg`,Zip:`${t}images/icons/zip.svg`,Video:`${t}images/icons/video.svg`,Audio:`${t}images/icons/audio.svg`,Code:`${t}images/icons/code.svg`,Unknown:`${t}images/icons/file-unknown.svg`};return n[e]||n.Unknown},getFolderIcon(){return`${window.assetPath}images/icons/folder.svg`},getCurrentUser(){return{name:"Admin User",avatar:"https://i.pravatar.cc/32?img=8"}},getDefaultRecipients(){return[{id:1,name:"John Doe",avatar:"https://i.pravatar.cc/32?img=5"},{id:2,name:"Jane Smith",avatar:"https://i.pravatar.cc/32?img=6"}]},getFolderPath(e){return this.getFolderPathFull(e)},getDefaultComments(){return[{id:1,author:{name:"Irfan",avatar:"https://i.pravatar.cc/32?img=9"},content:"bagi bagi thr",createdAt:new Date("2025-09-22T10:20:00").toISOString(),replies:[{id:1,author:{name:"Farrel",avatar:"https://i.pravatar.cc/32?img=10"},content:"mana nht thr rya",createdAt:new Date().toISOString()}]}]},addFileToCollection(e,t){const r={PDF:this.pdfFiles,Word:this.wordFiles,Excel:this.excelFiles}[t];r&&r.push(e)},loadMembersFromAPI(){if(console.log(" loadMembersFromAPI called"),console.log(" currentContext:",this.currentContext),console.log(" currentWorkspaceId:",this.currentWorkspaceId),console.log(" currentCompanyId:",this.currentCompanyId),this.currentContext==="workspace"&&!this.currentWorkspaceId){console.error(" Workspace ID undefined!");return}if(this.currentContext==="company"&&!this.currentCompanyId){console.error(" Company ID undefined!");return}this.isLoadingPermission=!0;const e=new URLSearchParams({folder_created_by:this.currentFolderCreatedBy??"",file_uploaded_by:this.currentFileUploadedBy??""});let t;if(this.currentContext==="workspace")t=`/workspaces/${this.currentWorkspaceId}/members?${e}`;else if(this.currentContext==="company")t=`/company-documents/members?${e}`;else{console.error(" Unknown context:",this.currentContext),this.isLoadingPermission=!1;return}console.log(" Fetching:",t),fetch(t).then(async n=>(console.log(" Response status:",n.status),this.memberListAllowed=n.status===200,this.memberListAllowed?await n.json():(console.warn(" memberListAllowed = false"),this.members=[],null))).then(async n=>{if(!n?.members){console.warn(" No members data in response");return}if(console.log(" Members received:",n.members.length),!this.currentFolder&&!this.currentFile){console.warn(" No currentFolder or currentFile, skipping recipients fetch"),this.members=n.members.map(u=>({...u,avatar:this.getAvatarUrl(u.avatar),email:u.email,selected:!1})),this.selectAll=!1;return}const r=this.currentFolder?.id||this.currentFile?.id;console.log(" Fetching recipients for docId:",r);const a=(await(await fetch(`/documents/${r}/recipients`)).json())?.recipients||[];this.members=n.members.map(u=>({...u,avatar:this.getAvatarUrl(u.avatar),email:u.email,selected:a.includes(u.id)})),this.selectAll=this.members.length>0&&this.members.every(u=>u.selected),console.log(" Members processed:",this.members.length)}).catch(n=>{console.error(" Error loading members:",n),this.memberListAllowed=!1,this.members=[]}).finally(()=>{this.isLoadingPermission=!1})},watchMembersSelected(){this.selectAll=this.members.length>0&&this.members.every(e=>e.selected)},updateFileInArrays(e,t){[this.folders,this.pdfFiles,this.wordFiles,this.excelFiles].forEach(n=>{this.updateFileInCollection(n,e.id,t)})},updateFileInCollection(e,t,n){Array.isArray(e)&&e.forEach(r=>{r.id===t&&(r.isSecret=n),r.files&&this.updateFileInCollection(r.files,t,n),r.subFolders&&this.updateFileInCollection(r.subFolders,t,n)})},updateFolderInArrays(e,t,n){const r=this.folders.findIndex(o=>o.id===e.id);r>-1&&(this.folders[r].name=t.trim(),this.folders[r].isSecret=n),this.currentFolder&&this.currentFolder.id===e.id&&(this.currentFolder.name=t.trim(),this.currentFolder.isSecret=n);const s=this.breadcrumbs.findIndex(o=>o.id===e.id);s>-1&&(this.breadcrumbs[s].name=t.trim(),this.breadcrumbs[s].isSecret=n)},deleteFile(e){if(this.currentFolder){const t=this.currentFolder.files.findIndex(n=>n.id===e.id);t>-1&&this.currentFolder.files.splice(t,1)}else this.removeFileFromCollection(this.pdfFiles,e.id),this.removeFileFromCollection(this.wordFiles,e.id),this.removeFileFromCollection(this.excelFiles,e.id);this.currentFile&&this.currentFile.id===e.id&&(this.currentFile=null,e.folder?this.currentFolder=e.folder:this.goToRoot())},removeFileFromCollection(e,t){const n=e.findIndex(r=>r.id===t);n>-1&&e.splice(n,1)},deleteFolder(e){const t=this.folders.findIndex(n=>n.id===e.id);t>-1&&this.folders.splice(t,1),this.currentFolder&&this.currentFolder.id===e.id&&this.goToRoot()},moveSelectedDocuments(){this.selectedDocuments.forEach(e=>{this.currentFolder?this.removeFromCurrentFolder(e):this.removeFromRoot(e)})},removeFromCurrentFolder(e){const t=this.currentFolder.subFolders.findIndex(r=>r.id===e.id);t>-1&&this.currentFolder.subFolders.splice(t,1);const n=this.currentFolder.files.findIndex(r=>r.id===e.id);n>-1&&this.currentFolder.files.splice(n,1)},removeFromRoot(e){this.removeFileFromCollection(this.folders,e.id),this.removeFileFromCollection(this.pdfFiles,e.id),this.removeFileFromCollection(this.wordFiles,e.id),this.removeFileFromCollection(this.excelFiles,e.id)},showSuccessMessage(e){alert(e)},replyView:{active:!1,parentComment:null,replyContent:"",currentFile:null},openReplyView(e){this.replyView.active=!0,this.replyView.parentComment=e,this.replyView.replyContent="",this.replyView.currentFile=this.currentFile},closeReplyView(){this.replyView.active=!1,this.replyView.parentComment=null,this.replyView.replyContent="",this.replyView.currentFile=null},submitReply(){if(!this.replyView.replyContent.trim()||!this.replyView.parentComment)return;const e={id:Date.now(),author:this.getCurrentUser(),content:this.replyView.replyContent.trim(),createdAt:new Date().toISOString()};this.replyView.parentComment.replies||(this.replyView.parentComment.replies=[]),this.replyView.parentComment.replies.push(e),this.closeReplyView()}}}function ah(e,t){const n=e.ui.view.toolbar.element,r=n.querySelector(".ck-toolbar__items")||n,s=document.createElement("button");s.type="button",s.className="ck ck-button",s.title="Upload Image",s.innerHTML=`
        <span class="ck-button__label" aria-hidden="true" style="display:flex;align-items:center;gap:2px">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18" fill="currentColor">
                <path d="M21 19V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2zM8.5 11a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zM5 19l4.5-6 3.5 4.5 2.5-3L19 19H5z"/>
            </svg>
        </span>
    `,s.style.marginLeft="6px",s.style.cursor="pointer",s.addEventListener("click",()=>{const o=document.createElement("input");o.type="file",o.accept="image/*",o.click(),o.addEventListener("change",async a=>{const u=a.target.files[0];if(!u)return;const h=new FormData;h.append("upload",u),h.append("attachable_id",t),h.append("attachable_type","App\\Models\\Comment");try{const m=await fetch("/upload-image",{method:"POST",headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').content},body:h}),p=await m.json();m.ok&&p.url&&(console.log(" Uploading image:",p.url),e.model.change(b=>{const S=b.createElement("imageBlock",{src:p.url}),C=e.model.document.selection.getFirstPosition();e.model.insertContent(S,C),setTimeout(()=>{e.model.change(w=>{const F=e.model.document.getRoot();for(const g of F.getChildren())if(g.is("element","imageBlock")&&g.getAttribute("src")===p.url){w.setAttribute("width","50%",g),console.log(" Image auto-resized to 50%");break}})},100)}))}catch(m){console.error("Image upload error:",m)}},{once:!0})}),r.appendChild(s)}function lh(e,t){const n=e.ui.view.toolbar.element,r=n.querySelector(".ck-toolbar__items")||n,s=document.createElement("button");s.type="button",s.className="ck ck-button",s.title="Upload File",s.innerHTML=`
        <span class="ck-button__label" aria-hidden="true" style="display:flex;align-items:center;gap:2px">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20">
                <path fill="currentColor" d="M6 2a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V8.83a2 2 0 0 0-.59-1.41l-3.83-3.83A2 2 0 0 0 10.17 3H6zm4 2 4 4H10V4z"/>
            </svg>
        </span>
    `,s.style.marginLeft="6px",s.style.cursor="pointer",s.addEventListener("click",()=>{const o=document.createElement("input");o.type="file",o.accept=".pdf,.doc,.docx,.xls,.xlsx,.csv,.txt,.zip,.rar,.ppt,.pptx",o.multiple=!0,o.click(),o.addEventListener("change",async a=>{const u=Array.from(a.target.files);if(console.log(" Files selected:",u.length),u.length!==0){for(let h=0;h<u.length;h++){const m=u[h];console.log(` Processing file ${h+1}/${u.length}:`,m.name),await ch(e,m,t)}console.log(" All files processed")}},{once:!0})}),r.appendChild(s)}async function ch(e,t,n){console.log(" START uploadSingleFile:",t.name);const r=new FormData;r.append("upload",t),r.append("attachable_id",n),r.append("attachable_type","App\\Models\\Comment");let s=null;console.log(" Step 1: Creating loading paragraph"),e.model.change(o=>{const a=e.model.document.selection.getFirstPosition();console.log(" Current position:",a.path),s=o.createElement("paragraph");const u=o.createText(`Uploading ${t.name}...`);o.append(u,s),e.model.insertContent(s,a),console.log(" Loading paragraph inserted");const h=o.createPositionAfter(s);o.setSelection(h),console.log(" Cursor moved to:",h.path)}),console.log(" Step 2: Starting fetch for:",t.name);try{const o=await fetch("/upload",{method:"POST",headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').content},body:r});if(console.log(" Fetch completed. Status:",o.status),!o.ok)throw new Error(`Upload failed: ${o.status}`);const a=await o.json();console.log(" Response data:",a),a.url?(console.log(" Step 3: Replacing loading text with file link"),e.model.change(u=>{const h=e.model.document.getRoot(),m=`Uploading ${t.name}...`;console.log(" Looking for text:",JSON.stringify(m));let p=null;for(const b of h.getChildren())if(b.is("element","paragraph")){let S="";for(const C of b.getChildren())C.is("$text")&&(S+=C.data);if(S===m||S.endsWith(m)){p=b,console.log(" Found loading paragraph!"),console.log("   Full text:",JSON.stringify(S));break}}if(console.log(" Found paragraph?",!!p),p){console.log(" Replacing loading text with file link");const b=u.createRangeIn(p);u.remove(b);const S=u.createText(t.name,{linkHref:a.url});u.append(S,p),console.log(" File link appended:",t.name);const C=u.createElement("paragraph"),w=e.model.document.getRoot(),F=u.createPositionAfter(p);u.insert(C,F);const g=u.createPositionAt(C,0);u.setSelection(g),console.log(" Created empty paragraph and moved cursor there"),console.log(" New cursor position:",g.path)}else{console.error(" Loading paragraph not found! Creating new one.");const b=h.getChild(h.childCount-1),S=b?u.createPositionAfter(b):u.createPositionAt(h,0),C=u.createElement("paragraph"),w=u.createText(t.name,{linkHref:a.url});u.append(w,C),e.model.insertContent(C,S);const F=u.createElement("paragraph"),g=u.createPositionAfter(C);u.insert(F,g);const v=u.createPositionAt(F,0);u.setSelection(v),console.log(" Created new paragraph at end with empty paragraph after")}}),console.log(" File upload completed successfully:",t.name)):console.error(" No URL in response data")}catch(o){console.error(" Upload error for",t.name,":",o),e.model.change(a=>{const u=e.model.document.getRoot(),h=`Uploading ${t.name}...`;for(const m of u.getChildren())if(m.is("element","paragraph")){let p="";for(const b of m.getChildren())b.is("$text")&&(p+=b.data);if(p===h||p.endsWith(h)){a.remove(m),console.log(" Removed loading paragraph due to error");break}}})}console.log(" END uploadSingleFile:",t.name),console.log("")}window.documentCommentSection=function(){return{replyView:{active:!1,parentComment:null},init(){this.resetAllModals(),this.$watch(()=>this.members.map(e=>e.selected),()=>{this.watchMembersSelected()},{deep:!0}),this.$nextTick(()=>{setTimeout(()=>{this.createEditorForDocument("document-main-comment-editor",{placeholder:"Ketik komentar Anda di sini..."})},300)}),window.addEventListener("popstate",e=>{if(e.state&&e.state.fileId){const t=this.getAllFiles().find(n=>n.id===e.state.fileId);t&&(this.currentFile=t)}else this.currentFile=null,this.replyView.active=!1}),this.$watch("currentFile",e=>{e&&e.id&&this.loadCommentsForFile(e.id)})},resetMainEditor(){const e="document-main-comment-editor";window.documentEditors[e]&&this.destroyEditorForDocument(e),setTimeout(()=>{this.createEditorForDocument(e,{placeholder:"Ketik komentar Anda di sini..."})},100)},async loadCommentsForFile(e){if(!this.currentFile||this.currentFile.id!==e){console.warn(" currentFile mismatch or null, skip loading comments");return}try{const n=await(await fetch(`/documents/${e}/comments`)).json();if(!this.currentFile){console.warn(" currentFile became null during fetch");return}n.comments&&(this.currentFile.comments=n.comments.map(r=>({...r,author:{...r.author,avatar:this.getAvatarUrl(r.author?.avatar)},replies:(r.replies||[]).map(s=>({...s,author:{...s.author,avatar:this.getAvatarUrl(s.author?.avatar)}}))})),console.log(" Comments loaded:",this.currentFile.comments.length))}catch(t){console.error("Error loading comments:",t)}},async submitMainComment(){const e=this.getDocumentEditorData("document-main-comment-editor").trim();if(!e)return;const t=this.generateUUID();try{const n=await fetch("/documents/comments",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({id:t,content:e,commentable_id:this.currentFile.id,commentable_type:"App\\Models\\File"})});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const r=await n.json();r.success&&(this.currentFile.comments||(this.currentFile.comments=[]),this.currentFile.comments.unshift(r.comment),this.resetMainEditor(),console.log("Komentar berhasil ditambahkan"))}catch(n){console.error("Error submitting comment:",n)}},async submitReplyFromEditor(){if(!this.replyView.parentComment)return;const e=this.replyView.parentComment.id,t=this.getDocumentReplyEditorDataFor(e).trim();if(!t)return;const n=this.generateUUID();try{const r=await fetch("/documents/comments",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({id:n,content:t,commentable_id:this.currentFile.id,commentable_type:"App\\Models\\File",parent_comment_id:e})});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const s=await r.json();s.success&&(this.replyView.parentComment.replies||(this.replyView.parentComment.replies=[]),this.replyView.parentComment.replies.push(s.comment),this.closeReplyView(),console.log("Balasan berhasil ditambahkan"))}catch(r){console.error("Error submitting reply:",r)}},generateUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})},toggleReply(e){if(this.replyView.active&&this.replyView.parentComment?.id===e.id){this.closeReplyView();return}this.replyView.active&&this.replyView.parentComment&&this.destroyReplyEditorForDocument(this.replyView.parentComment.id),this.replyView.active=!0,this.replyView.parentComment=e,setTimeout(()=>{this.initReplyEditorForDocument(e.id)},150)},closeReplyView(){this.replyView.parentComment&&this.destroyReplyEditorForDocument(this.replyView.parentComment.id),this.replyView.active=!1,this.replyView.parentComment=null},async createEditorForDocument(e,t={}){const n=document.getElementById(e);if(!n)return console.warn("Editor container not found:",e),null;n.innerHTML="";const r={toolbar:{items:["undo","redo","|","heading","|","bold","italic","underline","strikethrough","|","link","blockQuote","|","bulletedList","numberedList","|","insertTable","|","uploadFile"],shouldNotGroupWhenFull:!0},heading:{options:[{model:"paragraph",title:"Paragraf",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"}]},image:{resizeUnit:"%",resizeOptions:[{name:"resizeImage:original",value:null,label:"Original"},{name:"resizeImage:25",value:"25",label:"25%"},{name:"resizeImage:50",value:"50",label:"50%"},{name:"resizeImage:75",value:"75",label:"75%"},{name:"resizeImage:100",value:"100",label:"100%"}],toolbar:["imageTextAlternative","toggleImageCaption","|","imageStyle:inline","imageStyle:block","imageStyle:side","|","resizeImage"]},simpleUpload:{uploadUrl:"/upload-image",withCredentials:!0,headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').content}},placeholder:t.placeholder||"Ketik komentar Anda di sini..."};try{const s=await ClassicEditor.create(n,r);return window.documentEditors[e]=s,console.log(" Has ImageResize:",s.plugins.has("ImageResize")),console.log(" Available plugins:",Array.from(s.plugins).map(o=>o.constructor.name).filter(o=>o.includes("Image"))),ah(s,this.generateUUID()),lh(s,this.generateUUID()),s.plugins.get("FileRepository").createUploadAdapter=o=>({upload:async()=>{const a=await o.file,u=new FormData;u.append("upload",a);const h=this.generateUUID();return u.append("attachable_type","App\\Models\\Comment"),u.append("attachable_id",h),{default:(await(await fetch("/upload-image",{method:"POST",body:u,headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').content}})).json()).url}}}),s.model.document.on("change:data",()=>{const o=s.getData(),a=new CustomEvent("editor-change",{detail:{id:e,data:o}});window.dispatchEvent(a)}),s}catch(s){return console.error("Editor creation error:",s),n.innerHTML=`<textarea id="${e}-fallback" class="w-full min-h-[120px] p-3 border border-gray-300 rounded-lg bg-white resize-none">${t.initial||""}</textarea>`,null}},destroyEditorForDocument(e){const t=window.documentEditors[e];if(t)t.destroy().then(()=>{delete window.documentEditors[e],console.log(` Editor ${e} destroyed`)}).catch(n=>{console.warn("Destroy editor error:",n),delete window.documentEditors[e]});else{const n=document.getElementById(e+"-fallback");n&&n.remove()}},getDocumentEditorData(e){const t=window.documentEditors[e];if(t)return t.getData();const n=document.getElementById(e+"-fallback");return n?n.value:""},initReplyEditorForDocument(e){const t="document-reply-editor-"+e;return this.createEditorForDocument(t,{placeholder:"Ketik balasan Anda di sini..."})},destroyReplyEditorForDocument(e){const t="document-reply-editor-"+e;this.destroyEditorForDocument(t)},getDocumentReplyEditorDataFor(e){return this.getDocumentEditorData("document-reply-editor-"+e)},destroyDocumentMainEditor(){this.destroyEditorForDocument("document-main-comment-editor")}}};window.documentEditors={};window.createEditorForDocument=window.documentCommentSection.prototype.createEditorForDocument;window.destroyEditorForDocument=window.documentCommentSection.prototype.destroyEditorForDocument;window.getDocumentEditorData=window.documentCommentSection.prototype.getDocumentEditorData;window.initReplyEditorForDocument=window.documentCommentSection.prototype.initReplyEditorForDocument;window.destroyReplyEditorForDocument=window.documentCommentSection.prototype.destroyReplyEditorForDocument;window.getDocumentReplyEditorDataFor=window.documentCommentSection.prototype.getDocumentReplyEditorDataFor;window.Alpine=br;br.data("documentSearch",oh);br.start();
